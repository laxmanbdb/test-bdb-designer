/*! BDB Charting Library V10.0.0 (2025-08-14 11:37:12) 
 Copyright 2015-2024 BDB (BizViz Technologies Pvt Ltd). All Rights Reserved */
var dashboardChartComponent={},NS="http://www.w3.org/2000/svg",isScaling=!1,isTouchEnabled=!1,singleClickTimer=null,widthRatio=1,heightRatio=1,mouseX=0,mouseY=0,dGlobals=window.dGlobals||{},globalFont=void 0;function Widget(){this.m_x="",this.m_y="",this.m_left="",this.m_top="",this.m_width="",this.m_height="",this.m_objecttype="",this.m_objectname="",this.m_objectid="",this.m_objectclass="draggableWidgetDiv",this.ctx,this.m_componentid="",this.m_datasetid="",this.m_datasource="",this.m_dataProvider=[],this.m_fieldsJson="",this.m_initialvisibility=!0,this.visibilityStatus=!0,this.m_isActive=!0,this.m_chartstate="",this.m_dashboard="",this.m_dashboardname="",this.m_isDataSetavailable=!1,this.m_isLanguageMapping=!1,this.m_isChartVisible=!0,this.m_showObject=!0,this.isGrid=!1,this.m_isVirtualDataSetavailable=!1,this.m_isVisibiltyConstraintFlag=!1,this.m_languageMappingOBJ="",this.m_fieldSetValue="",this.isMaximized=!1,this.isMenuSelected=!1,this.imageHeight=22,this.imageWidth=25,this.componentElement="",this.contextMenu,this.m_isResizedInDesigner=!1,this.m_designMode=!1,this.chartJson="",this.m_seriesDataForDataLabel=[],this.m_showexceldownload=!1,this.m_showcontextmenu=!0,this.m_exporttoexcel=!0,this.m_exporttocsv=!0,this.m_exporttoppt=!0,this.m_exporttopdf=!0,this.m_exporttopng=!0,this.m_exporttojpeg=!0,this.m_exporttoprint=!0,this.m_exporttogrid=!0,this.m_showdatagridminwidth=250,this.m_showdatagridminheight=250,this.m_scrnshotsheetname="",this.m_filterdetails="false",this.m_excelexportext="csv",this.m_clickcallback="",this.m_hovercallback="",this.m_onafterrendercallback="",this.m_chunkdatalimit=500,this.m_chunkdatatimeout=100,this.m_roundedframe="",this.m_bordercolor="#BDC3C7",this.m_borderradius="1",this.m_borderthickness="1",this.drillColor="#000000",this.m_showloaderbutton=!1,this.m_cursortype="default",this.m_bootstrap=!1,this.m_adjustpixel=1,this.m_showshadow=!1,this.m_shadowcolor="#000000",this.m_shadowopacity="0.1",this.scrollPositions={},this.m_showmaximizebutton=!0,this.m_maximizeicontitle="Maximise",this.m_minimizeicontitle="Minimise",this.m_maxminiconscolor={maxiconcolor:"#282830",miniconcolor:"#282830"},this.m_maxminicons={maxiconshape:'<?xml version="1.0" encoding="UTF-8"?><svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Icon/Maximise-" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Maximize" transform="translate(2.000000, 2.000000)" fill="'+this.m_maxminiconscolor.maxiconcolor+'"><path d="M13,2 C12.4477,2 12,1.55228 12,1 C12,0.447715 12.4477,0 13,0 L19,0 C19.5523,0 20,0.447715 20,1 L20,7 C20,7.55228 19.5523,8 19,8 C18.4477,8 18,7.55228 18,7 L18,3.41421 L12.7071,8.70711 C12.3166,9.09763 11.6834,9.09763 11.2929,8.70711 C10.9024,8.31658 10.9024,7.68342 11.2929,7.29289 L16.5858,2 L13,2 Z M7.29289,11.2929 C7.68342,10.9024 8.31658,10.9024 8.70711,11.2929 C9.09763,11.6834 9.09763,12.3166 8.70711,12.7071 L3.41421,18 L7,18 C7.55228,18 8,18.4477 8,19 C8,19.5523 7.55228,20 7,20 L1,20 C0.447715,20 0,19.5523 0,19 L0,13 C0,12.4477 0.447715,12 1,12 C1.55228,12 2,12.4477 2,13 L2,16.5858 L7.29289,11.2929 Z" id="Shape"></path></g></g></svg>',miniconshape:'<?xml version="1.0" encoding="UTF-8"?><svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Icon/Minimise" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Minimize" transform="translate(2.000000, 2.000000)" fill="'+this.m_maxminiconscolor.miniconcolor+'"><path d="M18.2929,0.292893 C18.6834,-0.0976311 19.3166,-0.0976311 19.7071,0.292893 C20.0976,0.683417 20.0976,1.31658 19.7071,1.70711 L14.4142,6.99999992 L18,6.99999992 C18.5523,6.99999992 19,7.44772 19,7.99999992 C19,8.55228 18.5523,8.99999992 18,8.99999992 L12,8.99999992 C11.4477,8.99999992 11,8.55228 11,7.99999992 L11,1.99999992 C11,1.44772 11.4477,0.999999925 12,0.999999925 C12.5523,0.999999925 13,1.44772 13,1.99999992 L13,5.58579 L18.2929,0.292893 Z M0.999999925,12 C0.999999925,11.4477 1.44772,11 1.99999992,11 L7.99999992,11 C8.55228,11 8.99999992,11.4477 8.99999992,12 L8.99999992,18 C8.99999992,18.5523 8.55228,19 7.99999992,19 C7.44772,19 6.99999992,18.5523 6.99999992,18 L6.99999992,14.4142 L1.70711,19.7071 C1.31658,20.0976 0.683417,20.0976 0.292893,19.7071 C-0.0976311,19.3166 -0.0976311,18.6834 0.292893,18.2929 L5.58579,13 L1.99999992,13 C1.44772,13 0.999999925,12.5523 0.999999925,12 Z" id="Shape"></path></g></g></svg>'},this.m_shapeMap={cube:"bd-stop",cross:"bd-cross",chevron:"bd-arrow-right",quad:"bd-diamond",triangle:"bd-arrowup",invertedtriangle:"bd-arrowdown",point:"bd-circle",star:"bd-star2",polygon:"bd-hexagon-1",plus:"bd-plus",piechart:"bd-circle",ring:"bd-doughnut",bubble:"bd-circle",ellipsis:"bd-oval",database:"bd-data-base-1",default:"bd-stop"},this.m_textUtil=new TextUtil,this.m_util=new Util,this.m_defaultfontfamily="Roboto",this.m_status={noData:"Data not available !",noDataset:"DataSet not available !",noSeries:"No Visible Series Field Available !",noCategory:"No Visible Category Field Available !",noSubCategory:"SubCategory not available !",noField:"No Visible Field Available !",noFields:"No Field Available !",success:"success",progress:"Waiting for data load !",invalidDate:"Date formate is not proper !",invalidConfig:"Invalid Configuration",noDate:"No Visible Start/End Date Field Available",noMinCategory:"Minimum three category values should be present in selected category field",noLeafNodeData:"Leaf Node Data is Not Available",noParentChildData:"Parent and Child Data is Not Available",noLatitudeLongitudeData:"Please Update Longitude and Latitude",noAnnotationValue:"No Visible Annotation data Available",notValidthresholdValues:"Please validate Threshold values"},this.m_statuscolor="#EF6C00",this.m_statusfontsize="12",this.m_statusfontfamily="Roboto",this.m_fixedlegend=!0,this.m_legendbackgroundcolor="#ffffff",this.m_legendbackgroundtransparency="1",this.m_autotooltiphide=!1,this.m_controlledtooltip=!1,this.m_tooltiphidetimeout=1e4,this.m_tooltipfontcolor="#000000",this.m_tooltipfontsize="12",this.m_tooltipbackgroundcolor="#ffffff",this.m_tooltipbackgroundtransparency="1",this.m_tooltipbordercolor="#e0dfdf",this.m_tooltipborderwidth=1,this.m_customtooltipwidth="auto",this.m_tooltipborderradius="1",this.m_mobiletooltipleftmargin=15,this.m_mobiletooltipmargin=65,this.m_mobiletooltipstyle="default",this.m_fieldhighlightercolor="#f8f8f8",this.m_sortpanelwidth="150",this.m_actionshowdata=!0,this.m_actionsort=!0,this.m_actionexport=!0,this.m_actionchartviews=!0,this.m_doubletaptimeout=500,this.m_actionChartObject="",this.m_tooltipPosition="auto",this.m_chartactions={showdata:{enable:this.m_actionshowdata,properties:{icon:"bdmenuicon icons bd-grid",label:"Show Data"},actions:{}},sort:{enable:this.m_actionsort,properties:{icon:"bdmenuicon icons bd-funnel",label:"Sort"},actions:{icon:["bdicon icons bd-arrowdown","bdicon icons bd-arrowup","bdmenuicon icons bd-cross"]}},export:{enable:this.m_actionexport,properties:{icon:"bdmenuicon icons bd-download",label:"Export"},actions:[{label:"Excel",icon:"bd-export-excel"},{label:"PNG",icon:"bd-png"},{label:"PDF",icon:"bd-pdf"},{label:"PPT",icon:"bd-ppt"}]},chartviews:{enable:this.m_actionchartviews,properties:{icon:"bdmenuicon icons bd-chart",label:"Chart"},actions:[{dChart:"Area",dClass:"AreaChart",icon:"bd-graph-1"},{dChart:"Bar",dClass:"BarChart",icon:"bd-bar"},{dChart:"Bubble",dClass:"TimelineChart",icon:"bd-bubble"},{dChart:"Column",dClass:"TimelineChart",icon:"bd-column"},{dChart:"Line",dClass:"TimelineChart",icon:"bd-line"},{dChart:"Pie",dClass:"PieChart",icon:"bd-piechart"},{dChart:"Spider",dClass:"SpiderChart",icon:"bd-star2off"}]}},this.m_exporttopdfgrid={exportastable:"false",theme:"striped",orientation:"l",filterdetails:"false"},this.m_exporttype="screenshot",this.m_exporttopdfngrid=!1,this.m_pdfheadingcolor="#006684",this.m_pdfsubheadingcolor="#f5f5f5 ",this.m_pdfheadingopacity=1,this.m_pdfsubheadingopacity=1,this.m_pdfhfontcolor="#ffffff",this.m_pdfshfontcolor="#000000",this.m_scrnshotfilename="Dashboard",this.m_scrnshotorientation="p",this.m_showPageNumber=!0,this.m_pageNumberFontSize=16,this.m_pageNumberFontColor="#000000",this.m_hidemaxnmin=!1,this.m_loadermessage="",this.m_tooltiptextalign="center",this.m_tooltipremove=!0,this.m_enablexcelformatter="false",this.m_notifychange=!0,this.m_exportdefaultbgcolor="#FFFFFF",this.m_exportmenus={exportToExcel:{iconPath:"icon bd-export-excel",exportToExcel:"Export to Excel"},exportToTSV:{iconPath:"bdicon icons bd-excel",exportToCSV:"Export to TSV"},exportToCSV:{iconPath:"bdicon icons bd-csv",exportToCSV:"Export to CSV"},exportToPPT:{iconPath:"icon bd-ppt",exportToPPT:"Export To PPT"},exportToPDF:{iconPath:"icon bd-pdf",exportToPDF:"Export To PDF"},exportToPNG:{iconPath:"icon bd-png",exportToPNG:"Export To PNG"},exportToJPEG:{iconPath:"icon bd-image",exportToJPEG:"Export To JPEG"},exportToPrint:{iconPath:"icon bd-print",exportToPrint:"Print Preview"},exportToGrid:{iconPath:"icon bd-grid",showData:"Show Data"}},this.m_enableaudit=!1,this.m_showdatatooltipcolor="#ffffff",this.m_showdatatooltiptextcolor="#000000",this.m_showdatatooltipborder="0px transparent",this.m_showdatatooltipfontsize="12px",this.m_enablehtmlformate={title:!1,subtitle:!1,xaxis:!1,yaxis:!1,secondaryaxis:!1}}Widget.prototype.initializeDraggableDivAndCanvas=function(t,e){this.setDashboardNameAndObjectId(t),this.createDraggableDiv(e),this.createDraggableCanvas(),this.setCanvasContext(),this.initMouseMoveEvent(),this.initMouseClickEvent()},Widget.prototype.setDashboardNameAndObjectId=function(){this.m_objectId=this.m_objectid,2===this.m_objectid.split(".").length&&(this.m_objectid=this.m_objectid.split(".")[1])},Widget.prototype.createDraggableDiv=function(t,e){$("#draggableDiv"+this.m_objectid).remove();var i=document.createElement("div");return i.setAttribute("id","draggableDiv"+this.m_objectid),i.setAttribute("class",this.m_objectclass),i.setAttribute("name",this.m_objectname+"_"+this.m_objecttype),i.setAttribute("data-name",this.m_objectname),i.setAttribute("data-id",this.m_referenceid),i.setAttribute("data-type",this.m_objecttype),i.setAttribute("data-charttype",this.m_componenttype),i.style.overflow="hidden",i.style.zIndex=""+e,$(t).append(i),this.m_left=this.m_x,this.m_top=this.m_y,IsBoolean(this.m_bootstrap)||(i.style.position="absolute",i.style.display="block",this.setDraggableDivPosition(this.m_x,this.m_y)),this.setDraggableDivSize(),this.setDraggableDivShadow(),this.addGroups(i),i},Widget.prototype.setDraggableDivPosition=function(t,e){var i=document.getElementById("draggableDiv"+this.m_objectid),t=isNaN(+t)?0:+t,e=isNaN(+e)?0:+e;i.style.left=t+"px",i.style.top=e+"px"},Widget.prototype.setDraggableDivSize=function(){var t=document.getElementById("draggableDiv"+this.m_objectid);""!=(t||"")&&(this.m_bootstrap?(t.style.height="100%",t.style.width="100%",this.initializeForBootstrap()):(t.style.height=this.m_height+"px",t.style.width=this.m_width+"px"))},Widget.prototype.setDraggableDivShadow=function(){var t;IsBoolean(this.getShowShadow())?(t=hex2rgb(convertColorToHex(this.m_shadowcolor),this.m_shadowopacity),$("#draggableDiv"+this.m_objectid).css({"box-shadow":"0 1px 2px "+t+", 0 1px 1px "+t,"-webkit-box-shadow":"0 1px 2px "+t+", 0 1px 1px "+t,"-moz-box-shadow":"0 1px 2px "+t+", 0 1px 1px "+t})):$("#draggableDiv"+this.m_objectid).css({"box-shadow":"","-webkit-box-shadow":"","-moz-box-shadow":""})},Widget.prototype.getShowShadow=function(){if(this.m_dashboard&&this.m_dashboard.m_dashboardjson&&this.m_dashboard.m_dashboardjson.Niv&&this.m_dashboard.m_dashboardjson.Niv.Dashboard&&this.m_dashboard.m_dashboardjson.Niv.Dashboard.AbsoluteLayout)try{var t=this.m_dashboard.m_dashboardjson.Niv.Dashboard.AbsoluteLayout.showShadow;null!=t&&IsBoolean(t)&&(this.m_showshadow=IsBoolean(t),this.m_shadowcolor=this.m_dashboard.m_dashboardjson.Niv.Dashboard.AbsoluteLayout.shadowColor,this.m_shadowopacity=this.m_dashboard.m_dashboardjson.Niv.Dashboard.AbsoluteLayout.shadowOpacity)}catch(t){}return this.m_showshadow},Widget.prototype.checkWindowResize=function(t){$(window).resize(function(){$(t).hide()})},Widget.prototype.addGroups=function(i){var t,o=this;$.data(i,"referenceID",this.m_referenceid),this.m_groupings&&(t=(t=this.m_groupings.split(",")).map(function(t){return"g_"+t.replace(/\s/g,"")}),$.each(t,function(t,e){$(i).addClass(e),o.m_objectclass=o.m_objectclass+" "+e,o.m_dashboard&&o.m_dashboard.pushUniqueToAvailableGroups(e)}))},Widget.prototype.createDraggableCanvas=function(t){$("#draggableCanvas"+this.m_objectid).remove();var e=document.createElement("canvas");e.id="draggableCanvas"+this.m_objectid,t.appendChild(e),this.setDraggableCanvasSize()},Widget.prototype.setDraggableCanvasSize=function(){var t=document.getElementById("draggableCanvas"+this.m_objectid);""!=(t||"")&&(t.width=this.m_width,t.height=this.m_height)},Widget.prototype.setCanvasContext=function(){this.draggableCanvas=$("#draggableCanvas"+this.m_objectid),this.ctx=$("#draggableCanvas"+this.m_objectid)[0].getContext("2d"),this.reSetCanvasCoordinates()},Widget.prototype.reSetCanvasCoordinates=function(){this.m_x=0,this.m_y=0,this.adjustPixelRatio()},Widget.prototype.adjustPixelRatio=function(){var t,e=document.getElementById("draggableCanvas"+this.m_objectid);""!=(e||"")&&(t=$("#draggableCanvas"+this.m_objectid)[0].getContext("2d"),this.adjustPixelRatioForCanvas(e,t))},Widget.prototype.adjustPixelRatioForCanvas=function(t,e){var i,o;""!=(t||"")&&""!=(e||"")&&(ratio=this.getDevicePixelRatio(),auto="undefined"==typeof auto||auto)&&devicePixelRatio!==backingStoreRatio&&(i=t.width,o=t.height,t.width=i*ratio,t.height=o*ratio,t.style.width=i+"px",t.style.height=o+"px",e.scale(ratio,ratio))},Widget.prototype.getDevicePixelRatio=function(){var t,e=document.getElementById("draggableCanvas"+this.m_objectid),i=1;return""!=(e||"")&&(t=$("#draggableCanvas"+this.m_objectid)[0].getContext("2d"),i=this.getDevicePixelRatioForCanvas(e,t)),i},Widget.prototype.getDevicePixelRatioForCanvas=function(t,e){var i=1;return""!=(t||"")&&""!=(e||"")&&(devicePixelRatio=window.devicePixelRatio||1,backingStoreRatio=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,i=devicePixelRatio/backingStoreRatio),i},Widget.prototype.getMarginForTooltip=function(){var t=0;return t=!IsBoolean(this.m_designMode)&&"MobileLayout"==dGlobals.layoutType&&IsBoolean(this.isMaximized)?this.m_mobiletooltipmargin*this.minWHRatio():t},Widget.prototype.initMouseMoveEvent=function(r){var s;IsBoolean(this.m_designMode)||(r=(s=this).m_chartContainer,"ontouchstart"in document.documentElement?$("#draggableDiv"+s.m_objectid).bind("touchstart",function(t){var e,i=t.originalEvent.touches[0],o=$(this).offset().left-$(this)[0].scrollLeft,a=$(this).offset().top-$(this)[0].scrollTop;void 0!==s.m_istrellis&&IsBoolean(s.m_istrellis)&&(o=(e=$(r).offset()).left+$(r)[0].clientLeft-$(r)[0].scrollLeft,a=e.top+$(r)[0].clientTop-$(r)[0].scrollTop),mouseX=i.pageX-o,mouseY=i.pageY-a,pageX=i.pageX,pageY=i.pageY,(void 0!==s.m_istrellis&&IsBoolean(s.m_istrellis)||void 0!==s.m_isRepeaterPart&&IsBoolean(s.m_isRepeaterPart))&&(t.stopPropagation(),onMouseMove(s))}).bind("touchend",function(){}):$("#draggableDiv"+s.m_objectid).mousemove(function(t){var e=$(r).offset(),i=e.left+$(r)[0].clientLeft-$(r)[0].scrollLeft,e=e.top+$(r)[0].clientTop-$(r)[0].scrollTop,o=s.m_bootstrap?0:$(this)[0].offsetLeft,a=s.m_bootstrap?0:$(this)[0].offsetTop;mouseX=t.pageX-+o-i,mouseY=t.pageY-+a-e,pageX=t.pageX,pageY=t.pageY,(void 0!==s.m_istrellis&&IsBoolean(s.m_istrellis)||void 0!==s.m_isRepeaterPart&&IsBoolean(s.m_isRepeaterPart))&&(t.stopPropagation(),"svg"!==s.m_canvastype)&&onMouseMove(s)}),$("#draggableDiv"+s.m_objectid).on("swipeleft",function(t){onSwipeLeft(s,t)}),$("#draggableDiv"+s.m_objectid).on("swiperight",function(t){onSwipeRight(s,t)}),$("#draggableDiv"+s.m_objectid).on("mousewheel",function(t){s.hideToolTip()}),$(".draggablesParentDiv").on("scroll",function(t){s.hideToolTip()}),$("#WatermarkDiv").on("scroll",function(t){s.hideToolTip()}))},Widget.prototype.initMouseClickEvent=function(){var e,t;IsBoolean(this.m_designMode)||(e=this,""!=((t=$("#draggableCanvas"+this.m_objectid))||"")&&(IsBoolean(isTouchEnabled)||($(t)[0].addEventListener("mousemove",function(t){void 0===e.m_istrellis&&void 0===e.m_isRepeaterPart&&onMouseMove(e)},!1),$(t)[0].addEventListener("mouseout",function(t){"trend"===e.m_componenttype&&e.removeToolTipDiv()},!1)),$(t)[0].addEventListener("click",function(t){"ontouchstart"in document.documentElement?(e.hideToolTip(),onMouseMove(e)):(e.hideToolTip(),OnMouseClick(e),t.stopPropagation())},!1),$(t)[0].addEventListener("touchstart",function(t){t=(t.originalEvent?t.originalEvent.touches:t.targetTouches)[0];pageX=t.pageX,pageY=t.pageY,e.hideToolTip(),void 0===e.m_istrellis&&void 0===e.m_isRepeaterPart&&onMouseMove(e),null==singleClickTimer?singleClickTimer=setTimeout(function(){singleClickTimer=null,onMouseMove(e)},e.m_doubletaptimeout):(clearTimeout(singleClickTimer),singleClickTimer=null,OnMouseClick(e))},!1),$(t)[0].addEventListener("gestureend",function(t){IsBoolean(e.m_showmaximizebutton)&&void 0!==e.m_showmaximizebutton&&""!==e.m_showmaximizebutton&&(t.scale<1&&IsBoolean(e.isMaximized)?($("#MaximizeTooltipDiv").remove(),e.minimize()):1<t.scale&&!IsBoolean(e.isMaximized)&&($("#MaximizeTooltipDiv").remove(),e.maximize()))},!1),$("#draggableCanvas"+this.m_objectid).bind("taphold",function(t){e.hideToolTip()})),this.initContextMenuEvent())},Widget.prototype.initMouseClickEventForSVG=function(t){var e;IsBoolean(this.m_designMode)||(e=this,""!=((t=$("#"+t))||"")&&(IsBoolean(isTouchEnabled)||$(t)[0].addEventListener("mousemove",function(t){onMouseMove(e)},!1),$(t)[0].addEventListener("click",function(t){"ontouchstart"in document.documentElement?(e.hideToolTip(),onMouseMove(e)):(e.hideToolTip(),OnMouseClick(e),t.stopPropagation())},!1),$(t)[0].addEventListener("touchstart",function(t){t=(t.originalEvent?t.originalEvent.touches:t.targetTouches)[0];pageX=t.pageX,pageY=t.pageY,e.hideToolTip(),onMouseMove(e),null==singleClickTimer?singleClickTimer=setTimeout(function(){singleClickTimer=null,onMouseMove(e)},e.m_doubletaptimeout):(clearTimeout(singleClickTimer),singleClickTimer=null,OnMouseClick(e))},!1),$(t)[0].addEventListener("gestureend",function(t){IsBoolean(e.m_showmaximizebutton)&&void 0!==e.m_showmaximizebutton&&""!==e.m_showmaximizebutton&&(t.scale<1&&IsBoolean(e.isMaximized)?($("#MaximizeTooltipDiv").remove(),e.minimize()):1<t.scale&&!IsBoolean(e.isMaximized)&&($("#MaximizeTooltipDiv").remove(),e.maximize()))},!1),$("#draggableCanvas"+this.m_objectid).bind("taphold",function(t){e.hideToolTip(),OnMouseClick(e)})),this.initContextMenuEvent())},Widget.prototype.initMouseAndTouchEventSVC=function(comp){if(!IsBoolean(this.m_designMode)){var temp=this,mousemoveFn=(this.checkToolTipDesc="gauge"==temp.m_objecttype||"semigauge"==temp.m_objecttype?"Target Value":this.updateToolTipInfo(this.m_tooltip),function(t){if(!temp.m_designMode&&""!=temp.m_tooltip&&" "!=temp.m_tooltip){t.stopPropagation(),temp.removeToolTipDiv();var e,i,o,a=document.getElementById("draggablesParentDiv"+temp.m_dashboard.m_id),r=document.getElementById("WatermarkDiv"),s=(a.scrollLeft,a.scrollTop),a=($(r).offset(),$(this)[0].offsetLeft),n=$(this)[0].offsetTop,h=+t.pageY-n+5,l=+t.pageX-a+5,c=document.createElement("div"),m=(c.innerHTML=temp.checkToolTipDesc,c.setAttribute("id","toolTipDiv"),c.setAttribute("class","settingIcon"),c.setAttribute("placement","bottom"),"gauge"==temp.m_objecttype||"semigauge"==temp.m_objecttype?$(document.body).append(c):document.querySelector("#WatermarkDiv").appendChild(c),+$(comp)[0].offsetWidth),d=16<(ht=+$(comp)[0].offsetHeight)?8+temp.m_tooltipborderwidth:0,p=16<m?8+temp.m_tooltipborderwidth:0,a=t.pageX+r.scrollLeft-t.offsetX-a,_=+(t.pageY+r.scrollTop-t.offsetY+ht)-n-d,u=$.extend(temp.getTooltipStyles(),{top:_+"px",left:a+"px"});c.offsetWidth;if($(c).css({left:e+"px"}),h=+(+temp.m_top+ht)-n,$(c).css(u),$(c).css({width:"max-content"}),"gauge"==temp.m_objecttype||"semigauge"==temp.m_objecttype?(o=+(t.pageY-t.offsetY+$(comp)[0].offsetHeight),e=t.pageX-t.offsetX-c.offsetWidth/2+$(comp)[0].offsetWidth/2-18,l=t.pageX-t.offsetX-c.offsetWidth/2+$(comp)[0].offsetWidth/2-18,o+c.offsetHeight>window.pageYOffset+window.innerHeight&&(o=o-$(comp)[0].offsetHeight-c.offsetHeight-40,c.setAttribute("placement","top")),$(c).css({top:o+"px",left:e+"px"}),u=(n=c.getBoundingClientRect()).left,i=n.right,n.top,n.bottom,n=window.innerWidth,window.innerHeight,temp.m_tooltipPosition="auto",n<i&&(temp.m_tooltipPosition="left-middle"),u<0&&(temp.m_tooltipPosition="right-middle")):(e=a-c.offsetWidth/2+temp.m_width/2-r.offsetLeft-20,$(c).css("left",e)),IsBoolean(isTouchEnabled)||$(c).hover(function(){temp.m_tooltipremove=!1},function(){temp.m_tooltipremove=!0,$(c).remove()}),"auto"!==temp.m_tooltipPosition)switch(temp.m_tooltipPosition=temp.m_tooltipPosition.trim(),temp.m_tooltipPosition){case"bottom":$(c).css("left",e),c.setAttribute("placement",temp.m_tooltipPosition);break;case"bottom-left":var g=1==temp.m_tooltipborderwidth?1:0;l=+temp.m_left-40-19+m/2-1-g,$(c).css("left",l),c.setAttribute("placement",temp.m_tooltipPosition);break;case"bottom-right":g=1==temp.m_tooltipborderwidth?1:0;l=l-(c.offsetWidth+20)/2+40+10+g,$(c).css("left",l),c.setAttribute("placement",temp.m_tooltipPosition);break;case"top":h=+temp.m_top+ +s-(c.offsetHeight+40)+d,$(c).css({left:e,top:h}),c.setAttribute("placement",temp.m_tooltipPosition);break;case"top-left":g=1==temp.m_tooltipborderwidth?1:0,h=+temp.m_top+ +s-(c.offsetHeight+40)+d;l=+temp.m_left-40-19+m/2-1-g,$(c).css({left:l,top:h}),c.setAttribute("placement",temp.m_tooltipPosition);break;case"top-right":g=1==temp.m_tooltipborderwidth?1:0;h=+temp.m_top+ +s-(c.offsetHeight+40)+d,l=l-(c.offsetWidth+20)/2+40+10+g,$(c).css({left:l,top:h}),c.setAttribute("placement",temp.m_tooltipPosition);break;case"right-top":case"right-middle":l=+temp.m_left-50+m/2,l=+temp.m_left+m-p,h=(h=0<temp.m_tooltipPosition.indexOf("top")?h-ht/2-10-40:+temp.m_top+ +s+ht/2-(c.offsetHeight+2*temp.m_tooltipborderwidth+40)/2)<0?+temp.m_top-20:h,$(c).css({left:l,top:h}),"right-top"==temp.m_tooltipPosition?c.setAttribute("placement","left-top"):c.setAttribute("placement","left-middle");break;case"right-bottom":h=+temp.m_top+ +s-(c.offsetHeight+2*temp.m_tooltipborderwidth+40)+d,l=+temp.m_left-50+m/2,l=+temp.m_left+m-p,h=(h=h+40+10+ht/2-8)<0?+temp.m_top-18:h,$(c).css({left:l,top:h}),c.setAttribute("placement","left-bottom");break;case"left-top":case"left-middle":l=(l=l-(c.offsetWidth+20)/2+50)-m/2-40-2-18+p,h=(h=0<temp.m_tooltipPosition.indexOf("top")?h-ht/2-10-40:+temp.m_top+ +s+ht/2-(c.offsetHeight+2*temp.m_tooltipborderwidth+40)/2)<0?+temp.m_top-20:h,$(c).css({left:l,top:h}),"left-top"==temp.m_tooltipPosition?c.setAttribute("placement","right-top"):c.setAttribute("placement","right-middle");break;case"left-bottom":h=+temp.m_top+ +s-(c.offsetHeight+2*temp.m_tooltipborderwidth+40)+d,l=(l=l-(c.offsetWidth+20)/2+50)-m/2-40-2-18+p,h=(h=h+40+10+ht/2-8)<0?+temp.m_top-18:h,$(c).css({left:l,top:h}),c.setAttribute("placement","right-bottom");break;default:temp.removeToolTipDiv(),alertPopUpModal({type:"warning",message:"Please choose the correct tooltip position",timeout:"3000"})}else"gauge"!==temp.m_objecttype&&"semigauge"!==temp.m_objecttype&&(n="bottom",i="",(o=t.pageY-t.offsetY+0)+ht+10+c.offsetHeight+20-d>window.pageYOffset+window.innerHeight?(_=_-$(comp)[0].offsetHeight-20-c.offsetHeight,n="top",e<window.pageXOffset?(e=e+c.offsetWidth/2-40,i="left"):e+c.offsetWidth+40>window.pageXOffset+window.innerWidth&&(e=e-c.offsetWidth/2+40,i="right")):e+c.offsetWidth+40>window.pageXOffset+window.innerWidth?(e=e-c.offsetWidth/2-20-$(comp)[0].offsetWidth/2,_=_-20-$(comp)[0].offsetHeight/2-19,i="top",n="right"):e<window.pageXOffset&&(e=e+c.offsetWidth/2+20+$(comp)[0].offsetWidth/2,_=_-20-$(comp)[0].offsetHeight/2-19,i="top",n="left"),$(c).css({top:_,left:e}),c.setAttribute("placement",""==i?n:n+"-"+i))}}),mouseoutFn=function(t){temp.removeToolTipDiv()};switch(temp.m_objecttype){case"exportppt":var clickFn=function(e){try{IsBoolean(temp.m_exportwindow)?temp.createPopupForExport(temp.m_mode):eval("temp.ConvertDivToImageFor"+temp.m_mode+"();")}catch(e){}temp.handleOnChangeEvent()},hoverFn=function(t){$(this).css("cursor",temp.m_cursortype)};break;case"filtersaver":var clickFn=function(t){temp.createPopupForFilterSaver()},hoverFn=function(t){$(this).css("cursor",temp.m_cursortype)};break;case"info":var clickFn=function(t){null!=$("#PopUp"+temp.m_componentid)&&$("#PopUp"+temp.m_componentid).remove();var e=document.createElement("popupdiv"),i="PopUp"+temp.m_componentid,o=(e.setAttribute("id",i),e.style.width=temp.m_informationwindowwidth+"px",e.style.height=temp.m_informationwindowheight+"px",e.style.padding="0px",'<pre style="color:'+convertColorToHex(temp.m_color)+"; font-style:"+temp.m_fontstyle+"; font-family:"+selectGlobalFont(temp.m_fontfamily)+"; font-weight:"+temp.m_fontweight+"; background-color:"+convertColorToHex(temp.m_windowbackgroundcolor)+";border: 1px solid "+convertColorToHex(temp.m_windowbordercolor)+"; font-size:"+ +temp.m_fontsize+"px; overflow-x:hidden; white-space: pre-wrap; word-wrap: break-word; margin-top:auto; height:"+(temp.m_informationwindowheight-70)+'px;">'+temp.m_information+"</pre>");"underline"==temp.m_textdecoration.toLowerCase()&&(o='<u style="color:'+convertColorToHex(temp.m_color)+';">'+o+"</u>"),e.innerHTML=o,$("#draggableDiv"+temp.m_objectid).append(e),jqEasyUI("#"+i).dialog({title:temp.m_updatetitle,width:temp.m_informationwindowwidth+"px",closed:!1,cache:!1,modal:!0}),temp.setInfoDialogCSS(),temp.getDataPointAndUpdateGlobalVariable()},hoverFn=function(t){$(this).css("cursor",temp.m_cursortype)};break;case"URLButton":var clickFn=function(t){if(temp.getDataPointAndUpdateGlobalVariable(),temp.m_url)try{temp.loadURL(temp.getURLToCall(temp.m_url))}catch(t){}},hoverFn=function(t){$(this).css("cursor",temp.m_cursortype)};break;case"image":var clickFn=function(t){OnMouseClick(temp)},hoverFn=function(t){!temp.m_designMode&&IsBoolean(temp.m_rolloverglowenable)&&($(this).css({padding:"1px","-moz-box-shadow":"1px 1px 6px "+hex2rgb(convertColorToHex(temp.m_rolloverglowcolor),1),"-webkit-box-shadow":"1px 1px 6px "+hex2rgb(convertColorToHex(temp.m_rolloverglowcolor),1),"box-shadow":"1px 1px 6px "+hex2rgb(convertColorToHex(temp.m_rolloverglowcolor),1),left:"2px",top:"2px"}),temp.setWidthHeightWithAspectRatio($("#"+temp.m_componentid),8)),$(this).css("cursor",temp.m_cursortype)};break;default:var clickFn=function(t){OnMouseClick(temp)},hoverFn=function(t){$(this).css("cursor",temp.m_cursortype)}}var touchstartFn=function(t){var e,i,o,a,r,s;t.stopImmediatePropagation(),temp.m_designMode||""==temp.m_tooltip||" "==temp.m_tooltip||(0===$(".draggablesParentDiv").find("#toolTipDiv").length?(e=(i=document.getElementById("draggablesParentDiv"+temp.m_dashboard.m_id)).scrollLeft,i=i.scrollTop,a=+(o=t.originalEvent.touches[0].pageY)+ +i+20,t=+(t=t.originalEvent.touches[0].pageX)+ +e-150<0?+t+ +e:+t+ +e-160,(r=document.createElement("div")).innerHTML=temp.checkToolTipDesc,r.setAttribute("id","toolTipDiv"),r.setAttribute("class",temp.m_objecttype+"ToolTipDiv"),$(".draggablesParentDiv").append(r),s=$.extend(temp.getTooltipStyles(),{top:a+"px",left:t+"px"}),$(r).css(s),20+a+ +$(r).height()>temp.m_dashboard.m_AbsoluteLayout.m_height+i&&(a=+o-20+ +i-+$(r).height(),$(r).css("top",a)),10+t+ +$(r).width()>temp.m_dashboard.m_AbsoluteLayout.m_width+e&&(t=+o-10+ +e-+$(r).width(),$(r).css("left",t))):temp.removeToolTipDiv())};"ontouchstart"in document.documentElement?$("#draggableDiv"+temp.m_objectid).bind("touchstart",function(t){t.stopImmediatePropagation(),($("."+temp.m_objecttype+"ToolTipDiv").length?mouseoutFn.bind($(comp)):touchstartFn.bind(this))(t),clickFn.bind(this)(t)}).bind("touchend",function(t){}):$(comp).click(function(t){mouseoutFn.bind(this)(t),clickFn.bind(this)(t)}).hover(function(t){hoverFn.bind(this)(t)}).mouseenter(function(t){mousemoveFn.bind(this)(t)}).mouseleave(function(t){mouseoutFn.bind(this)(t)}),$("#draggableDiv"+temp.m_objectid).on("swipeleft",function(t){onSwipeLeft(temp,t)}).on("swiperight",function(t){onSwipeRight(temp,t)}).on("mousewheel",function(t){temp.hideToolTip()}),$(".draggablesParentDiv").on("scroll",function(t){temp.hideToolTip()}),$("#WatermarkDiv").on("scroll",function(t){temp.hideToolTip()})}},Widget.prototype.initContextMenuEvent=function(){var t=this.m_objecttype.toLowerCase();IsBoolean(this.m_designMode)||!IsBoolean(this.m_showcontextmenu)||"chart"!==t&&"funnel"!==t&&"datagrid"!==t&&"scorecard"!==t||IsBoolean(isTouchEnabled)||((t=new ContextMenu).init(this),dashboardChartComponent[this.m_objectid]=t)},Widget.prototype.initializeScaling=function(){this.m_width=this.chartJson.width*widthRatio,this.m_height=this.chartJson.height*heightRatio,""!==this.m_left&&(this.m_x=this.chartJson.x),""!==this.m_top&&(this.m_y=this.chartJson.y),this.m_x=this.m_x*widthRatio,this.m_y=this.m_y*heightRatio,IsBoolean(isTouchEnabled)&&(this.m_showexceldownload=!1,this.m_autotooltiphide=!0)},Widget.prototype.initializeForBootstrap=function(){this.m_width=$("#draggableDiv"+this.m_objectid).width(),this.m_height=$("#draggableDiv"+this.m_objectid).height()},Widget.prototype.minWHRatio=function(){return this.isMaximized?1:widthRatio<heightRatio?widthRatio:heightRatio},Widget.prototype.fontScaling=function(t){return t*this.minWHRatio()},Widget.prototype.isChartVisible=function(){return this.m_isChartVisible},Widget.prototype.getX=function(){return this.m_x},Widget.prototype.setX=function(t){this.m_x=t},Widget.prototype.getY=function(){return this.m_y},Widget.prototype.setY=function(t){this.m_y=t},Widget.prototype.getWidth=function(){return this.m_width},Widget.prototype.setWidth=function(t){this.m_width=t},Widget.prototype.getHeight=function(){return this.m_height},Widget.prototype.setHeight=function(t){this.m_height=t},Widget.prototype.getObjectID=function(){return this.m_objectid},Widget.prototype.getObjectName=function(){return this.m_objectname},Widget.prototype.getObjectType=function(){return this.m_objecttype},Widget.prototype.getDataSource=function(){return this.getDataSet().getDataSource()},Widget.prototype.getId=function(){return this.getDataSet().getId()},Widget.prototype.notifyLanuageMapping=function(t){this.m_languageMappingOBJ=t,this.drawLanguageMapping()},Widget.prototype.setChartState=function(t){this.m_chartstate=t},Widget.prototype.getChartState=function(){return this.m_chartstate},Widget.prototype.drawLanguageMapping=function(){if(IsBoolean(this.m_isActive)){for(var t in this.m_languageMappingOBJ.m_fieldNameValues[0])if(this.m_languageMappingOBJ.m_fieldNameValues[0].hasOwnProperty(t))for(var e=0;e<this.m_dataset.getByDisplayNameCopy().length;e++)t===this.m_dataset.getByDisplayNameCopy()[e]&&(this.m_dataset.m_Fields[e].m_displayname=this.m_languageMappingOBJ.m_fieldNameValues[0][t]);this.init(),this.drawChart()}},Widget.prototype.notifyWidgetsDataUpdate=function(t){this.m_fieldSetValue=t,this.m_dataStore.init(this.m_fieldSetValue,this),this.copyDataStoreToDataViewAndCallInitDraw()},Widget.prototype.copyDataStoreToDataViewAndCallInitDraw=function(){this.m_dataStore.init(this.m_fieldSetValue,this),this.copyDataStoreToDataView(),this.callDrawInit()},Widget.prototype.copyDataStoreToDataView=function(){this.m_dataView.copyData(this.m_dataStore)},Widget.prototype.callDrawInit=function(){this.init(),this.drawChart()},Widget.prototype.showWidget=function(){this.visibilityStatus=!0,this.hideToolTip(),$("#draggableDiv"+this.m_objectid).css("display","block"),("datagrid"===this.m_objecttype||IsBoolean(this.m_datalablebackgroundrect)||"knowledge_graph_chart"===this.m_componenttype||"decomposition_chart"===this.m_componenttype||"world_map"===this.m_componenttype&&"leaflet"===this.m_svgtype||"benchmark_analysis_chart"===this.m_componenttype)&&IsBoolean(this.m_isDataSetavailable)&&this.draw()},Widget.prototype.hideWidget=function(){this.visibilityStatus=!1,this.hideToolTip(),IsBoolean(this.isMaximized)&&this.minimize(),$("#draggableDiv"+this.m_objectid).css("display","none")},Widget.prototype.underLine=function(t,e,i,o,a,r){var t=ctx.measureText(t).width,s=0,i=i+ +a/15+1,n=0,h=i,a=+a/15;a<1&&(a=1),ctx.beginPath(),n="center"===r?(s=e-t/2,e+t/2):"right"===r?(s=e-t,e):(s=e)+t,ctx.strokeStyle=o,ctx.lineWidth=a,ctx.moveTo(s,i),ctx.lineTo(n,h),ctx.stroke()},Widget.prototype.isMouseInWidget=function(t,e){var i=this.m_height;return!!("rectangle"!==this.m_objecttype&&t>=this.m_x&&t<=+this.m_x+ +this.m_width&&e>=this.m_y&&e<=+this.m_y+ +i&&this.isChartVisible()&&IsBoolean(this.m_isActive))},Widget.prototype.getShowcheckboxwithlegend=function(){},Widget.prototype.drawObject=function(){this.callDrawInit()},Widget.prototype.RePositionDraggableDiv=function(){var t;this.draggableCanvas=$("#draggableCanvas"+this.m_objectid),this.draggableDiv=$("#draggableDiv"+this.m_objectid),IsBoolean(this.isMaximized)?(this.updateMaximizeOverlayDivCSS(this.maximizeZindex,100,100),t=this.getLegendMargin(+this.m_width-20),this.draggableDiv.css({left:this.m_x+10+"px",top:this.m_y+10+"px",width:this.m_width-20-t.right+"px",height:this.m_height-20-t.bottom+"px"}),this.draggableCanvas.attr("width",this.m_width-20-t.right),this.draggableCanvas.attr("height",this.m_height-20-t.bottom),this.draggableCanvas.css({width:this.m_width-20-t.right,height:this.m_height-20-t.bottom}),this.adjustPixelRatio(),this.m_width=this.m_width-20-t.right,this.m_height=this.m_height-20-t.bottom):(this.updateMaximizeOverlayDivCSS(0,0,0),this.draggableDiv.css({left:+this.m_x+"px",top:+this.m_y+"px",width:this.oldm_width+"px",height:this.oldm_height+"px"}),this.draggableCanvas.attr("width",this.oldm_width),this.draggableCanvas.attr("height",this.oldm_height),this.draggableCanvas.css({width:this.oldm_width,height:this.oldm_height}),this.adjustPixelRatio(),this.m_x=0,this.m_y=0)},Widget.prototype.updateMaximizeOverlayDivCSS=function(t,e,i){$("#maximizeOverlayDiv")&&$("#maximizeOverlayDiv").css({"z-index":t,height:e+"%",width:i+"%"})},Widget.prototype.getChartObjectByReferenceId=function(t){if(this.m_dashboard&&null!=this.m_dashboard.m_widgetsArray)for(var e=0;e<this.m_dashboard.m_widgetsArray.length;e++)if(t==this.m_dashboard.m_widgetsArray[e].m_referenceid)return this.m_dashboard.m_widgetsArray[e]},Widget.prototype.getChartObjectById=function(t){if(this.m_dashboard&&null!=this.m_dashboard.m_widgetsArray)for(var e=0;e<this.m_dashboard.m_widgetsArray.length;e++)if(t==this.m_dashboard.m_widgetsArray[e].m_objectid)return this.m_dashboard.m_widgetsArray[e]},Widget.prototype.getRepeaterChartObjectById=function(t){var e=this.getChartObjectById(t);if(e&&e.isValidRepeaterConfig())for(var i=0;i<e.m_repeaterCharts.length;i++)if(IsBoolean(e.m_repeaterCharts[i].m_isRepeaterPart)&&e.m_repeaterCharts[i].m_objectid==this.m_associatedrepeaterchartid)return e.m_repeaterCharts[i];return e},Widget.prototype.isValidRepeaterConfig=function(){return!IsBoolean(this.m_designMode)&&IsBoolean(this.m_isrepeater)&&""!==this.m_repeaterfield&&IsBoolean(this.getRepeaterChartType(this.m_type).SupportRepeater)},Widget.prototype.getRepeaterChartType=function(t){var e={Area:{chart:"AreaChart",SupportRepeater:!0},Bar:{chart:"BarChart",SupportRepeater:!0},BoxPlot:{chart:"BoxPlotChart",SupportRepeater:!0},Bubble:{chart:"BubbleChart",SupportRepeater:!0},CandleStick:{chart:"CandleStickChart",SupportRepeater:!0},Chevron:{chart:"ChevronChart",SupportRepeater:!0},Circumplex:{chart:"CircumplexChart",SupportRepeater:!0},Column:{chart:"ColumnStackChart",SupportRepeater:!0},DecisionTree:{chart:"DecisionTreeChart",SupportRepeater:!0},GroupBar:{chart:"GroupBarChart",SupportRepeater:!0},GroupColumn:{chart:"GroupColumnChart",SupportRepeater:!0},HeatMap:{chart:"HeatMapChart",SupportRepeater:!0},InvertedFunnel:{chart:"InvertedFunnelChart",SupportRepeater:!0},Line:{chart:"LineChart",SupportRepeater:!0},Mixed:{chart:"MixedChart",SupportRepeater:!0},Pie:{chart:"PieChart",SupportRepeater:!0},Progress:{chart:"ProgressChart",SupportRepeater:!1},Pyramid:{chart:"PyramidChart",SupportRepeater:!0},RoadMap:{chart:"RoadMapChart",SupportRepeater:!0},Plot:{chart:"ScatteredPlotChart",SupportRepeater:!0},SentimentHeatMap:{chart:"SentimentHeatMapChart",SupportRepeater:!0},SentimentPlot:{chart:"SentimentPlotChart",SupportRepeater:!0},Funnel:{chart:"SimpleFunnelChart",SupportRepeater:!0},Spider:{chart:"SpiderChart",SupportRepeater:!0},SVGLine:{chart:"SVGLineChart",SupportRepeater:!0},TimeArea:{chart:"TimeAreaChart",SupportRepeater:!0},TimeColumnStack:{chart:"TimeColumnStackChart",SupportRepeater:!0},Timeline:{chart:"TimelineChart",SupportRepeater:!0},TreeMap:{chart:"TreeMapChart",SupportRepeater:!0},Trellis:{chart:"TrellisChart",SupportRepeater:!1},WordCloud:{chart:"WordCloudChart",SupportRepeater:!0},WorldMap:{chart:"WorldMapChart",SupportRepeater:!0},default:{SupportRepeater:!1}};return e.hasOwnProperty(t)?e[t]:e.default},Widget.prototype.getDatasetObjectById=function(t){var e=this.getChartObjectById(t);if(e&&""!=e.m_datasetid)for(var i=0;i<this.m_dashboard.m_dataSetsArray.length;i++)if(this.m_dashboard.m_dataSetsArray[i].m_id==e.m_datasetid)return this.m_dashboard.m_dataSetsArray[i]},Widget.prototype.getLegendMargin=function(t){if(""===this.m_associatedlegendid||void 0===this.m_associatedlegendid)return{bottom:0,right:0};var e=this.getLegendComponentObj();if(void 0===e)return{bottom:0,right:0};try{var i=e.getLegendMargins(t);return{bottom:i.bottom,right:i.right}}catch(t){}},Widget.prototype.maximize=function(){if(!IsBoolean(this.m_isEmptySeries)){var t=this,e=(this.m_timer=1,this.oldm_x=this.m_x,this.oldm_y=this.m_y,this.oldm_width=this.m_width,this.oldm_height=this.m_height,$("#draggableDiv"+t.m_objectid)),i=(this.oldoffset_left=$(e)[0].offsetLeft,this.oldoffset_top=$(e)[0].offsetTop,this.oldzindex=$(e).css("z-index"),this.maximizeZindex=""!==this.m_dashboard?+this.m_dashboard.m_widgetsArray.length+3:this.m_zIndex,$(e).css("z-index",this.maximizeZindex),this.isMaximized=!0,$(".draggablesParentDiv")[0]?$(".draggablesParentDiv")[0].clientWidth:$(e).parent().width()),o=$(".draggablesParentDiv")[0]?$(".draggablesParentDiv")[0].clientHeight:$(e).parent().height(),a=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,r=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;if(t.m_bootstrap)this.m_width=$(".draggablesParentDiv")[0]?$(".draggablesParentDiv")[0].clientWidth:$(e).parent().width(),this.m_height=$(".draggablesParentDiv")[0]?$(".draggablesParentDiv")[0].clientHeight:$(e).parent().height(),$(t.m_chartContainer).css({left:"0px",top:"0px",height:this.m_height+"px",width:this.m_width+"px",position:"absolute","z-index":this.maximizeZindex});else{if(IsBoolean(this.m_isRepeaterPart)){this.m_width=a<i?a:i,this.m_height=r<o?r:o,$(t.m_chartContainer).css({left:"0px",top:"0px",height:this.m_height+"px",width:this.m_width+"px",position:"absolute","z-index":this.maximizeZindex});for(var s=0;s<this.m_siblingIds.length;s++)this.m_siblingIds[s]!=t.m_objectid&&$("#draggableDiv"+this.m_siblingIds[s]).css("display","none")}else this.m_x=0,this.m_y=0,this.m_width=a<i?a:i,this.m_height=r<o?r:o;this.maximizeScrollUpadte()}this.m_slideronmaxmize=!0,this.hideToolTip(),IsBoolean(this.m_isEmptySeries)||(this.RePositionDraggableDiv(),this.timeLineSliderFlag=!1,"chart"!==this.m_objecttype&&"funnel"!==this.m_objecttype&&"datagrid"!==this.m_objecttype&&"scorecard"!==this.m_objecttype||void 0!==(e=this.getLegendComponentObj())&&(e.checkboxChangedFlag=!1,this.setChartState("maximized"),this.m_legendFlag=!0),this.init(),this.drawChart(),""!=this.m_onafterrendercallback&&onAfterRender(this.m_onafterrendercallback))}},Widget.prototype.minimize=function(){var t=this,e=(this.m_timer=1,this.m_x=this.oldoffset_left,this.m_y=this.oldoffset_top,this.m_width=this.oldm_width,this.m_height=this.oldm_height,$("#dg1").remove(),$("#HierchDG1").remove(),$("#draggableDiv"+t.m_objectid));if($(e).css("z-index",this.oldzindex),t.m_bootstrap)$(e)[0].offsetLeft=this.oldoffset_left,$(e)[0].offsetTop=this.oldoffset_top,$(t.m_chartContainer).css({left:this.oldoffset_left+"px",top:this.oldoffset_top+"px",height:this.m_height+"px",width:this.m_width+"px",position:"absolute","z-index":this.oldzindex});else if(this.minimizeScrollUpadte(),$(e)[0].offsetLeft=this.oldoffset_left,$(e)[0].offsetTop=this.oldoffset_top,IsBoolean(this.m_isRepeaterPart)){$(t.m_chartContainer).css({left:this.m_parentleft+"px",top:this.m_parenttop+"px",height:this.m_parentObj.m_height+"px",width:this.m_parentObj.m_width+"px",position:"absolute","z-index":this.oldzindex});for(var i=0;i<this.m_siblingIds.length;i++)$("#draggableDiv"+this.m_siblingIds[i]).css({display:"block","z-index":this.oldzindex})}this.isMaximized=!1,this.isGrid=!1,this.m_slideronmaxmize=!0,$("#gridIconImage"+t.m_objectid).remove(),this.hideToolTip(),IsBoolean(this.m_isEmptySeries)||(this.RePositionDraggableDiv(),this.timeLineSliderFlag=!1,"chart"!==this.m_objecttype&&"funnel"!==this.m_objecttype&&"datagrid"!==this.m_objecttype&&"scorecard"!=this.m_objecttype||void 0!==(e=this.getLegendComponentObj())&&(e.checkboxChangedFlag=!1,this.setChartState("minimized"),this.m_legendFlag=!0),this.init(),this.drawChart(),""!=this.m_onafterrendercallback&&onAfterRender(this.m_onafterrendercallback))},Widget.prototype.maximizeScrollUpadte=function(){this.scrollPositions={},$(".draggablesParentDiv").css("overflow","hidden"),navigator.userAgent.match(/(iPad|iPhone)/g)&&$(".draggablesParentDiv").removeClass("iPhoneScrollBar"),"AbsoluteLayout"!=dGlobals.layoutType&&$(".draggablesParentDiv").removeClass("mobileViewCSS"),this.scrollPositions.top=$(window).scrollTop(),this.scrollPositions.left=$(window).scrollLeft(),this.scrollPositions.parentTop=$(".draggablesParentDiv").scrollTop(),this.scrollPositions.parentLeft=$(".draggablesParentDiv").scrollLeft(),this.scrollPositions.watermarkDivTop=$("#WatermarkDiv").scrollTop(),this.scrollPositions.watermarkDivLeft=$("#WatermarkDiv").scrollLeft(),document.getElementById("WatermarkDiv").setAttribute("style","overflow:hidden !important"),$("#WatermarkDiv").css("position","absolute"),window.scroll(0,0),$(".draggablesParentDiv")[0]&&($(".draggablesParentDiv")[0].scrollLeft=0,$(".draggablesParentDiv")[0].scrollTop=0),$("#WatermarkDiv")[0]&&($("#WatermarkDiv")[0].scrollTop=0,$("#WatermarkDiv")[0].scrollLeft=0)},Widget.prototype.minimizeScrollUpadte=function(){$(".draggablesParentDiv").css("overflow","auto"),navigator.userAgent.match(/(iPad|iPhone)/g)&&$(".draggablesParentDiv").addClass("iPhoneScrollBar"),"AbsoluteLayout"!=dGlobals.layoutType&&$(".draggablesParentDiv").addClass("mobileViewCSS"),$("#WatermarkDiv").css("position",""),document.getElementById("WatermarkDiv").setAttribute("style","overflow:visible !important"),window.scroll(this.scrollPositions.left,this.scrollPositions.top),$(".draggablesParentDiv")[0]&&($(".draggablesParentDiv")[0].scrollTop=this.scrollPositions.parentTop,$(".draggablesParentDiv")[0].scrollLeft=this.scrollPositions.parentLeft),$("#WatermarkDiv")[0]&&($("#WatermarkDiv")[0].scrollTop=this.scrollPositions.watermarkDivTop,$("#WatermarkDiv")[0].scrollLeft=this.scrollPositions.watermarkDivLeft)},Widget.prototype.drawFontIcons=function(t,e,i,o,a,r){if("bd"===a.split("-")[0])return s=this,$("#"+t+s.m_objectid).remove(),(l=document.createElement("span")).setAttribute("id",t+""+s.m_objectid),l.setAttribute("class",t+" "+a),l.style.position="absolute",l.style.cursor="pointer",l.style.fontSize=(r||16)+"px",l.style.color=convertColorToHex(this.getTitle().getFontColor()),h=n=20,l.style.top=o-2+"px",this.m_showslider?l.style.right=7*this.m_sliderheightratio+"px":l.style.left=+i-11+"px",l.style.zIndex=this.m_zIndex,l.style.width=n*this.minWHRatio()+"px",l.style.height=h*heightRatio+"px",$("#draggableDiv"+s.m_objectid).append(l),l;var s=this,r=document.createElement("span"),n=($("#"+t+s.m_objectid).remove(),r.setAttribute("id",t+""+s.m_objectid),24),h=24,l=(r.style.top=o-2+"px",r.style.left=+i-11+"px",r.style.zIndex=this.m_zIndex,r.style.position="absolute",r.style.cursor="pointer",r.style.width=n*this.minWHRatio()+"px",r.style.height=h*heightRatio+"px",a);try{var c=$.parseHTML(l);return $(c).attr("id","svgImg"+s.m_objectid),$(c).css("opacity",this.m_opacity),$(r).append(c),$(r).html(c),$("#draggableDiv"+s.m_objectid).append(r),r}catch(t){}},Widget.prototype.drawImageIcons=function(t,e,i,o){$("#"+t+this.m_objectid).remove();var a=document.createElement("img");a.setAttribute("id",t+""+this.m_objectid),a.setAttribute("class","minmaxImage"),a.style.position="absolute";return a.style.top=o+"px",a.style.left=i+"px",a.style.width=20*this.minWHRatio()+"px",a.style.height=20*heightRatio+"px",a.src=e,$("#draggableDiv"+this.m_objectid).append(a),a},Widget.prototype.setCursorStyle=function(t){"pointer"==t?$("#draggableDiv"+this.m_objectid).addClass("cursor-hand"):$("#draggableDiv"+this.m_objectid).removeClass("cursor-hand")},Widget.prototype.hideToolTip=function(){this.setCursorStyle("default"),this.removeToolTipDiv(),this.removeMobileToolTipDiv()},Widget.prototype.removeToolTipDiv=function(){IsBoolean(this.m_tooltipremove)&&$("#toolTipDiv").remove()},Widget.prototype.removeMobileToolTipDiv=function(){$("#mobileTooltipContent").remove()},Widget.prototype.getTooltipStyles=function(){var t=this;return{"font-family":selectGlobalFont(t.m_defaultfontfamily),"font-size":t.m_tooltipfontsize+"px","background-color":hex2rgb(convertColorToHex(t.m_tooltipbackgroundcolor),t.m_tooltipbackgroundtransparency),border:t.m_tooltipborderwidth+"px solid "+t.m_tooltipbordercolor,"border-radius":"8px",color:t.m_tooltipfontcolor,width:"auto"!==t.m_customtooltipwidth?t.m_customtooltipwidth+"px":"auto",padding:"24px",position:"absolute","z-index":"10000","text-align":t.m_tooltiptextalign,"box-shadow":"0 8px 16px 0 rgba(0, 0, 0, 0.12)","-moz-box-shadow":"0 8px 16px 0 rgba(0, 0, 0, 0.12)","-webkit-box-shadow":"0 8px 16px 0 rgba(0, 0, 0, 0.12)"}},Widget.prototype.drawTooltip=function(t,e){if(IsBoolean(this.m_isDataSetavailable)&&!this.m_designMode&&"filter"!==this.m_objecttype&&!IsBoolean(this.m_isEmptySeries)&&IsBoolean(this.m_isActive)){var i=this.getToolTipData(t,e);if(""!==i){for(var o="",a=0;a<i.length;a++)o+=i[a]+"<br>";this.getToolTip(o)}else this.hideToolTip()}},Widget.prototype.updateToolTipInfo=function(t){for(var e=document.createElement("div"),i=(e.id="textWidthDiv",e.style.position="absolute",e.style.float="left",e.style.whiteSpace="nowrap",e.style.visibility="hidden",e.style.font="12px "+selectGlobalFont(this.m_defaultfontfamily),$("body").append(e),t.split(" ")),o="",a=0;a<i.length;a++){for(var r=i[a].split(""),s=0,n="",h=0,l=0;l<r.length;l++){if(!(h<144)){s++;break}n+=r[l],$("#textWidthDiv").css({font:"12px "+selectGlobalFont(this.m_defaultfontfamily)}),$("#textWidthDiv").html(""+n),h=$("#textWidthDiv").width()}o=0!==s?o+n+".. ":o+i[a]+" "}return $("#textWidthDiv").remove(),o},Widget.prototype.getCategoryColors=function(){},Widget.prototype.setTargetValue=function(){},Widget.prototype.setDataProvider=function(t){this.m_dataProvider=getDuplicateArray(t)},Widget.prototype.setLegendsIntialLoad=function(t){if(this.m_defaultlegendfields&&!IsBoolean(this.m_designMode))for(var e=0;e<t.length;e++)this.m_seriesVisibleArr[t[e].key]=t[e].value},Widget.prototype.setDataPointToUpdate=function(){},Widget.prototype.getFieldsJson=function(){return this.m_fieldsJson},Widget.prototype.getGlobalKey=function(){return this.m_globalkey},Widget.prototype.getDataSetId=function(){return this.m_datasetid},Widget.prototype.setDataSetId=function(t){this.m_datasetid=t},Widget.prototype.getDataSourceId=function(){return this.m_datasource},Widget.prototype.setDataSourceId=function(t){this.m_datasource=t},Widget.prototype.getFieldNameValueMap=function(){return this.fieldNameValueMap},Widget.prototype.setFieldNameValueMap=function(t){this.fieldNameValueMap=t},Widget.prototype.getDrillColor=function(){return this.drillColor},Widget.prototype.setDrillColor=function(t){this.drillColor=t},Widget.prototype.setAuditTrail=function(t){if(IsBoolean(this.m_enableaudit)){var e={key:"",request:{},key:"drill_event"};e.request.chartId=this.m_referenceid;try{var i,o=getDuplicateObject(t);delete o.drillComponent,e.request.drillOnPoint=o,""!==this.m_dashboard&&(e.request.dashboardId=this.m_dashboard.m_id,e.request.publishDocId=this.m_dashboard.m_dashboardjson.Niv.Dashboard.versionDetails.publishDocId,i=findInArray(this.m_dashboard.m_DataProviders.m_dataurl,"m_id",this.getDatasetObjectById(this.m_objectid).m_datasource),e.request.dataSource={},"csv"==i.m_typespecifier||"excel"==i.m_typespecifier||"derived"==i.m_typespecifier||"ws"==i.m_typespecifier?e.request.dataSource.dataSourceType=i.m_typespecifier:("web"==i.m_typespecifier&&(e.request.dataSource.dataSourceType=i.m_datasourcetype,e.request.dataSource.dataSourceId=i.m_selecteddatasourceid,e.request.dataSource.dataSourceName=i.m_datasourcename),e.request.dataSource.dataServiceId=i.m_selectedserviceid,e.request.dataSource.dataServiceName=i.m_queryname))}catch(t){}this.saveAudit(e)}},Widget.prototype.saveAudit=function(t){var e=req_url.designer.saveAudit,t={data:JSON.stringify({audit:t.key,request:t.request})};this.webServiceCall(e,t,function(t,e){},function(t,e){})},Widget.prototype.getDataPointAndUpdateGlobalVariable=function(t,e){t=this.getDrillDataPoints(t,e);this.updateDataPointsToGV(t)},Widget.prototype.getDrillDataPoints=function(t,e){},Widget.prototype.getTitle=function(){},Widget.prototype.updateDataPointsToGV=function(t){if(t){var e,i={};for(e in i.drillComponent=this,t.drillRecord)i[e]=t.drillRecord[e];this.updateDataPoints(i,t.drillColor)}},Widget.prototype.updateDataPoints=function(fieldNameValueMap,drillColor){if(!IsBoolean(this.m_designMode)){this.setFieldNameValueMap(fieldNameValueMap),this.setDrillColor(drillColor),this.setAuditTrail(fieldNameValueMap),""!==this.getGlobalKey()&&void 0!==this.getGlobalKey()&&void 0!==gvController&&gvController.updateGlobalVariable(this,fieldNameValueMap,drillColor);var component=this;if(""!==this.m_clickcallback&&void 0!==this.m_clickcallback){var data={value:fieldNameValueMap,color:drillColor,component:component};try{eval(component.m_clickcallback+"(data)")}catch(e){}}}},Widget.prototype.getDataFromJSON=function(t){for(var e=[],i=0;i<this.getDataProvider().length;i++)void 0===this.getDataProvider()[i][t]||"undefined"===this.getDataProvider()[i][t]?e[i]="":e[i]=this.getDataProvider()[i][t];return e},Widget.prototype.getValidFieldDataFromRecord=function(t,e){return void 0!==t[e]&&"undefined"!==t[e]?t[e]:""},Widget.prototype.getValidAltFieldDataFromRecord=function(t,e,i){return void 0!==t[e]&&"undefined"!==t[e]?this.getValidFieldDataFromRecord(t,e):this.getValidFieldDataFromRecord(t,i)},Widget.prototype.parseSubJsonAttributes=function(t,e){for(var i in t)this.setAttributesValue(t,e,i)},Widget.prototype.setAttributesValue=function(t,e,i){e[this.getNodeAttributeName(i)]=t[i]},Widget.prototype.getNodeAttributeName=function(t){return"m_"+t.toLowerCase().replace("__","").replace("_","")},Widget.prototype.setAttributeValueToNode=function(t,e,i){var o=this.getNodeAttributeName(t);"globalkey"===t.toLowerCase()&&this.m_globalkey&&""!==this.m_globalkey&&"none"!==this.m_globalkey||(i[o]=e[t])},Widget.prototype.getProperAttributeNameValue=function(t,e){for(var i in t)if(i.replace("__","").replace("_","")===e)return t[i]},Widget.prototype.getArrayOfSingleLengthJson=function(t){return $.isArray(t)?t:[t]},Widget.prototype.formattedDescription=function(t,e){var i=e;if(!IsBoolean(t.m_designMode)&&t.m_dashboard&&t.m_dashboard.getGlobalVariable()&&""!==t.m_dashboard.getGlobalVariable())try{i=t.getValueFromLanguageMap(i);for(var o=/\[(.*?)\]/g,a=o.exec(e);a;a=o.exec(e))var r=-1!==a[1].indexOf(".")?t.m_dashboard.getGlobalVariable().getFieldValue(a[1]):a[0],i=i.replace(a[0],r)}catch(t){return e}return i},Widget.prototype.getValueFromLanguageMap=function(t){var e=t;try{if(dGlobals&&dGlobals.langMap&&IsBoolean(dGlobals.langMap.isEnabled))for(var i=/\{(.*?)\}/g,o=i.exec(t);o;o=i.exec(t))-1===o[1].indexOf(".")&&(dGlobals.langMap.data.hasOwnProperty(o[1])?e=e.replace(o[0],dGlobals.langMap.data[o[1]]):IsBoolean(dGlobals.langMap.hideBrackets)&&(e=e.replace(o[0],o[1])))}catch(t){}return e},Widget.prototype.getValueFromGlobalVariable=function(t,e,i){var o=t;if(o=this.getValueFromLanguageMap(o),""!==this.m_dashboard&&""!==this.m_dashboard.getGlobalVariable())for(var a,r="curly"===e?/\{(.*?)\}/g:/\[(.*?)\]/g,s=r.exec(t);s;s=r.exec(t))1<s.length&&(a=this.m_dashboard.getGlobalVariable().getFieldValue(s[1]),o=o.replace(s[0],a=i&&void 0===a?0:a));return o},Widget.prototype.SetIsVirtualDataSetAvailable=function(){this.m_isVirtualDataSetavailable=!1,""!==this.m_virtualdataid&&""!==this.m_virtualdatafield&&""!==this.m_datarownumber&&(this.m_isVirtualDataSetavailable=!0)},Widget.prototype.valueValidation=function(t){return void 0!==t&&0!==(""+t).length&&!isNaN(getNumericComparableValue(t))},Widget.prototype.createCanvasForDynamicRangeAlert=function(){for(var t in $("#intermediateCanvas"+this.m_objectid).remove(),this.getAlertObj())if("Range"===this.getAlertObj()[t].m_mode){this.createCanvas();break}},Widget.prototype.createCanvas=function(){var t=document.createElement("canvas"),e=(t.id="intermediateCanvas"+this.m_objectid,t.width=this.m_width,t.height=this.m_height,t.style.display="none",$("#draggableDiv"+this.m_objectid).append(t),$("#intermediateCanvas"+this.m_objectid)[0].getContext("2d"));this.adjustPixelRatioForCanvas(t,e)},Widget.prototype.setShowLoaderIcon=function(t){this.m_showloaderbutton=t},Widget.prototype.setIsResizedInDesigner=function(t){this.m_isResizedInDesigner=t},Widget.prototype.applyAdditionalStyles=function(){},Widget.prototype.getTitleBarHeight=function(){return this.fontScaling(this.getTitle().m_titlebarheight)},Widget.prototype.getXpoint=function(){return this.m_width-this.fontScaling(25)},Widget.prototype.getRightMargin=function(){return this.fontScaling(30)+"px"},Widget.prototype.webServiceCall=function(t,e,i,o){e.token=parent.BIZVIZ.SDK.getAuthInfo().authToken,e.spacekey=parent.BIZVIZ.SDK.getAuthInfo().user.spaceKey,e.userid=parent.BIZVIZ.SDK.getAuthInfo().user.id,makeSecureRequest({url:base_url+t,method:"POST",formData:e,params:{headers:{authtoken:parent.BIZVIZ.SDK.getAuthInfo().authToken,spacekey:encryptText(parent.BIZVIZ.SDK.getAuthInfo().user.spaceKey),userid:encryptText(parent.BIZVIZ.SDK.getAuthInfo().user.id)}}},i,o)},Widget.prototype.setCustomExport=function(t){this.plugin=new Plugin,this.plugin.exportToCustomScreenShot(t,this)},Widget.prototype.setCustomExportPdf=function(t,e){this.plugin=new Plugin,this.plugin.exportToCustomPDF(t,this,e)};var currentSelectedContextMenu="",contextMenuTimeOutArray=[];function ContextMenu(){this.component=""}function ChartFrame(){this.m_x,this.m_y,this.m_width,this.m_height,this.m_bordercolor,this.m_borderradius,this.m_borderthickness,this.m_bgGradientColors=[],this.gradientCoords=[],this.ctx="",this.m_titleBarHeight=30}function ShowChartData(t){this.m_chart=t,this.m_titlebarheight=30,this.m_sidemargin=10,this.m_fontsize=12,this.m_fontfamily=selectGlobalFont(this.m_chart.m_defaultfontfamily),this.m_fontweight="normal",this.m_fontstyle="normal"}function Tooltip(){this.m_chart}function Title(t){this.base=TitleText,this.base(),this.m_chart=t,this.m_showtitle=!0,this.m_align="left",this.m_formattedDescription="Title",this.m_titlebarheight=25,this.m_gradientcolorsArray=[],this.m_chartLeftRightMargin=5,this.ctx="",this.m_selectedsortfield={}}function SubTitle(){this.base=TitleText,this.base(),this.m_showsubtitle=!0,this.m_formattedDescription="SubTitle",this.m_chart="",this.startX="",this.startY="",this.m_subTitleBarHeight=80,this.m_chartLeftRightMargin=5,this.ctx=""}function TitleText(){this.m_fontsize=10,this.m_fontweight="normal",this.m_fontfamily="Roboto",this.m_fontstyle="normal",this.m_fontcolor="#cccccc",this.m_textalign="center",this.m_textdecoration="none",this.m_align="center",this.m_description="Title"}function TextUtil(){}function Util(){}!function(n){n.fn.chartingContextMenu=function(r){var s=0;return this.each(function(){function a(){for(var t=0;t<contextMenuTimeOutArray.length;t++)clearTimeout(contextMenuTimeOutArray[t]);contextMenuTimeOutArray=[]}n(this).off("contextmenu").on("contextmenu",function(t){t.preventDefault(),t.stopPropagation(),dashboardChartComponent[t.currentTarget.id.replace("draggableDiv","")].createContextMenu(),void 0!==r.tree&&null!==(e=n(r.tree).fancytree("getActiveNode"))&&(s=e.getLevel()),n(currentSelectedContextMenu).hide(),currentSelectedContextMenu=r.menuSelector[s],n(r.menuSelector[s]).data("invokedOn",n(r.menuSelector[s]).show().css({position:"absolute",left:(e=(e=t).pageX,i=n(r.containment).width(),o=n(r.menuSelector[s]).width(),i<e+o&&o<e?e-o:e),top:(i=(i=t).pageY,o=n(r.containment).height(),t=n(r.menuSelector[s]).height(),o<i+t&&t<i?i-t-10:i)})),n(r.menuSelector[s]).off("click").on("click",function(t){n(this).hide();var e=n(this).data("invokedOn"),t=n(t.target);a(),contextMenuTimeOutArray=[],r.menuSelected.call(n(this),e,t)}),n(document).click(function(){n(r.menuSelector[s]).hide()}),a();var e,i,o=setTimeout(function(){n(r.menuSelector[s]).hide()},5e3);return contextMenuTimeOutArray.push(o),!1})})}}($,window),ContextMenu.prototype.init=function(t){this.component=t,this.componentContextMenuEventHandler()},ContextMenu.prototype.initContextMenuData=function(){var t=this,e={chart:[]};return IsBoolean(t.component.m_exporttoexcel)&&e.chart.push(t.component.m_exportmenus.exportToExcel),IsBoolean(t.component.m_exporttocsv)&&("csv"==t.component.m_excelexportext?e.chart.push(t.component.m_exportmenus.exportToCSV):"tsv"==t.component.m_excelexportext&&e.chart.push(t.component.m_exportmenus.exportToTSV)),IsBoolean(t.component.m_exporttojpeg)&&e.chart.push(t.component.m_exportmenus.exportToJPEG),IsBoolean(t.component.m_exporttopng)&&e.chart.push(t.component.m_exportmenus.exportToPNG),IsBoolean(t.component.m_exporttopdf)&&e.chart.push(t.component.m_exportmenus.exportToPDF),IsBoolean(t.component.m_exporttoppt)&&e.chart.push(t.component.m_exportmenus.exportToPPT),IsBoolean(t.component.m_exporttoprint)&&e.chart.push(t.component.m_exportmenus.exportToPrint),IsBoolean(t.component.m_exporttogrid)&&e.chart.push(t.component.m_exportmenus.exportToGrid),e},ContextMenu.prototype.createContextMenu=function(){var n=this,t=n.initContextMenuData(),h="";$.each(t,function(t,e){h+='<ul id="'+t+'ContextMenu" class="dropdown-menu-context-menu" style=\'font-family:'+selectGlobalFont(n.component.m_defaultfontfamily)+';\' role="menu">';for(var i=0;i<e.length;i++)if("NA"!==e[i].iconPath){var o,a="",r="",s="";for(o in e[i])e[i].hasOwnProperty(o)&&("iconPath"!==o&&""!==e[i][o]?(a=o,s=e[i][o]):"iconPath"==o&&""!==e[i][o]&&(r=e[i][o]));h+='<li id="'+a+'"><span id="'+a+"\" class='"+r+"'></span><a id=\""+a+'" href="#">'+s+"</a></li>"}else h+='<li class="divider"></li>';h+="</ul>"}),$(".dropdown-menu-context-menu").remove(),n.component.m_designMode||$("body").append(h),void 0!==n.component&&n.component.hideToolTip()},ContextMenu.prototype.componentContextMenuEventHandler=function(){var o,a=this;$("#draggableDiv"+a.component.m_objectid).on("mouseenter",function(t){a.component.hideToolTip(),t.stopPropagation(),$(this).chartingContextMenu({menuSelector:["#chartContextMenu"],menuSelected:function(t,e,i){if(o=e[0].id,""!==a.component.plugin.component)switch(o){case"exportToExcel":a.component.plugin.exportToExcel();break;case"exportToCSV":a.component.plugin.exportToCSV();break;case"exportToJPEG":a.component.plugin.exportToJPEG();break;case"exportToPNG":a.component.plugin.exportToPNG();break;case"exportToPDF":a.component.plugin.exportToPDF();break;case"exportToPPT":a.component.plugin.exportToPPT();break;case"exportToPrint":a.component.plugin.exportToPrint();break;case"showData":void 0!==a.component&&(a.component.hideToolTip(),void 0!==a.component.getAllFieldsName())&&0<a.component.getAllFieldsName().length&&a.component.plugin.showData()}}})})},ChartFrame.prototype.init=function(t){this.m_chart=t,this.ctx=this.m_chart.ctx,this.m_x=this.m_chart.m_x,this.m_y=this.m_chart.m_y,this.m_width=this.m_chart.m_width,this.m_height=this.m_chart.m_height,this.m_bordercolor=convertColorToHex(this.m_chart.m_bordercolor||"#BDC3C7"),this.m_borderradius=this.m_chart.m_borderradius||1,this.m_borderthickness=this.m_chart.m_borderthickness||1,void 0!==this.m_chart.getBgGradients()&&""!==this.m_chart.getBgGradients()||(this.m_chart.m_bggradients="#FFFFFF"),void 0!==this.m_chart.getBgGradients()&&this.showBackgroundGradientColor(this.m_chart.getBgGradients(),this.m_chart.m_bgalpha,this.m_chart.m_bggradientrotation),IsBoolean(this.m_chart.isMaximized)&&0===this.m_chart.m_bgalpha?this.showBackgroundGradientColor(this.m_chart.m_dashboard.m_AbsoluteLayout.m_gradients,1,this.m_chart.m_dashboard.m_AbsoluteLayout.m_bggradientrotation):IsBoolean(this.m_chart.isMaximized)&&this.showBackgroundGradientColor(this.m_chart.getBgGradients(),this.m_chart.m_bgalpha,this.m_chart.m_bggradientrotation)},ChartFrame.prototype.showBackgroundGradientColor=function(t,e,i){if("svg"==this.m_chart.m_canvastype)this.showBackgroundGradientColorForSvg(t,e,i);else{this.m_bgGradientColors=t.split(",");for(var o=0;o<this.m_bgGradientColors.length;o++){var a=convertColorToHex(this.m_bgGradientColors[o]);this.m_bgGradientColors[o]=hex2rgb(a,e)}this.gradientCoords=this.calculateGradientCoordinates(i)}},ChartFrame.prototype.showBackgroundGradientColorForSvg=function(t,e,i){for(var o=this.m_chart,a=($("#"+o.svgContainerId).empty(),document.createElementNS(NS,"linearGradient")),r=(a.setAttribute("id","gradient"+o.m_objectid),a.setAttribute("gradientTransform","rotate("+o.m_bggradientrotation+")"),$("#"+o.svgContainerId).append(a),t.split(",")),s=100/(r.length-1!=0?r.length-1:1),n=0,h=r.length;n<=h-1;n++){var l=document.createElementNS(NS,"stop");l.setAttribute("offset",n*s+"%"),l.setAttribute("stop-color",hex2rgb(convertColorToHex(r[n]),e)),l.setAttribute("stop-opacity",e),$(a).append(l)}},ChartFrame.prototype.getBackgroundGradient=function(){for(var t=this.ctx.createLinearGradient(this.gradientCoords[0],this.gradientCoords[1],this.gradientCoords[2],this.gradientCoords[3]),e=0;e<this.m_bgGradientColors.length;e++){var i=this.m_bgGradientColors[e],o=e/(this.m_bgGradientColors.length-(1<this.m_bgGradientColors.length?1:0));t.addColorStop(o,i)}return t},ChartFrame.prototype.calculateGradientCoordinates=function(t){var e,i=[],o=this.m_chart.m_x,a=this.m_chart.m_y,r=this.m_chart.m_width,s=this.m_chart.m_y,t=0<t?t:t%360*1+360;return 0<=t&&t<=45?(e=+t,o=this.m_chart.m_x,a=this.m_chart.m_y,r=+this.m_x+ +this.m_chart.m_width,s=+this.m_chart.m_y+ +this.m_chart.m_height*Math.sin(e*Math.PI/180*2)):45<t&&t<=90?(e=t-45,o=this.m_chart.m_x,a=this.m_chart.m_y,r=+this.m_chart.m_x+ +this.m_chart.m_width-+this.m_chart.m_width*Math.sin(e*Math.PI/180*2),s=this.m_chart.m_height):90<t&&t<=135?(e=t-90,o=+this.m_chart.m_x+ +this.m_width*Math.sin(e*Math.PI/180*2),a=this.m_chart.m_y,r=this.m_chart.m_x,s=this.m_chart.m_height):135<t&&t<=180?(e=t-135,o=this.m_chart.m_width,a=this.m_chart.m_y,r=this.m_chart.m_x,s=+this.m_chart.m_y+ +this.m_chart.m_height-+this.m_chart.m_height*Math.sin(e*Math.PI/180*2)):180<t&&t<=225?(e=t-180,o=this.m_chart.m_width,a=+this.m_chart.m_y+this.m_height*Math.sin(e*Math.PI/180*2),r=this.m_chart.m_x,s=this.m_chart.m_y):225<t&&t<=270?(e=t-225,o=+this.m_chart.m_x+ +this.m_chart.m_width-+this.m_width*Math.sin(e*Math.PI/180*2),a=+this.m_chart.m_y+ +this.m_chart.m_height,r=this.m_chart.m_x,s=this.m_chart.m_y):270<t&&t<=325?(e=t-270,o=this.m_chart.m_x,a=+this.m_chart.m_y+ +this.m_chart.m_height,r=+this.m_chart.m_x+this.m_width*Math.sin(e*Math.PI/180*2),s=this.m_chart.m_y):325<t&&t<=360&&(e=t-325,o=this.m_chart.m_x,a=+this.m_chart.m_y+ +this.m_chart.m_height-this.m_chart.m_height*Math.sin(e*Math.PI/180*2),r=+this.m_chart.m_x+ +this.m_chart.m_width,s=+this.m_chart.m_y),i[0]=o,i[1]=a,i[2]=r,i[3]=s,i},ChartFrame.prototype.drawFrame=function(){var t;this.ctx.clearRect(this.m_x,this.m_y,this.m_width,this.m_height),IsBoolean(this.m_chart.m_roundedframe)?this.drawRoundedFrame(this.m_x,this.m_y,this.m_width,this.m_height,4):(this.ctx.beginPath(),this.ctx.fillStyle="kpi_tile"===this.m_chart.m_componenttype?"transparent":this.getBackgroundGradient(),this.ctx.rect(+this.m_x,+this.m_y,+this.m_width,+this.m_height),this.ctx.fill(),IsBoolean(this.m_chart.m_showborder)?(this.ctx.strokeStyle=this.m_bordercolor,this.ctx.lineWidth=this.m_borderthickness,$("#draggableDiv"+this.m_chart.m_objectid).css("border",this.m_borderthickness+"px solid "+this.m_bordercolor),document.getElementById("draggableDiv"+this.m_chart.m_objectid).style.borderRadius=this.m_borderradius+"px"):$("#draggableDiv"+this.m_chart.m_objectid).css("border",""),this.ctx.closePath(),"roadmap"===this.m_chart.m_type&&(t=$("#draggableCanvasForRoadMapSeries"+this.m_chart.m_objectid)[0].height,this.m_chart.ctxForRoadMapSeries.beginPath(),this.m_chart.ctxForRoadMapSeries.fillStyle=this.getBackgroundGradient(),this.m_chart.ctxForRoadMapSeries.strokeStyle="#BDC3C7",this.m_chart.ctxForRoadMapSeries.rect(+this.m_x+1,+this.m_y+1,+this.m_width-2,+t),this.m_chart.ctxForRoadMapSeries.fill(),IsBoolean(this.m_showborder)&&(this.ctxForRoadMapSeries.lineWidth="1",this.ctxForRoadMapSeries.stroke()),this.m_chart.ctxForRoadMapSeries.closePath()))},ChartFrame.prototype.titleShadow=function(){this.ctx.beginPath(),this.ctx.fillStyle=this.getBackgroundGradient(),this.ctx.strokeStyle="#000000",this.ctx.save(),this.ctx.rect(+this.m_chart.m_x+2,+this.m_chart.m_y+1,+this.m_chart.m_width-4,this.m_titleBarHeight),this.ctx.shadowColor="#ccc",this.ctx.shadowBlur=3,this.ctx.shadowOffsetX=0,this.ctx.shadowOffsetY=3,this.ctx.fill(),this.ctx.restore()},ChartFrame.prototype.drawRoundedFrame=function(t,e,i,o,a){var i=i-1+ +t,r=+e+ +o;this.ctx.beginPath(),this.ctx.fillStyle="#fff",this.ctx.strokeStyle="#b9d3b8",this.ctx.lineWidth="8",this.ctx.moveTo(+t+ +a,e),this.ctx.lineTo(i-a,e),this.ctx.quadraticCurveTo(i,e,i,+e+ +a),this.ctx.lineTo(i,+e+ +o-a),this.ctx.quadraticCurveTo(i,r,i-a,r),this.ctx.lineTo(+t+ +a,r),this.ctx.quadraticCurveTo(t,r,t,r-a),this.ctx.lineTo(t,+e+ +a),this.ctx.quadraticCurveTo(t,e,+t+ +a,e),this.ctx.stroke(),this.ctx.fill(),this.ctx.closePath()},ChartFrame.prototype.drawSVGFrame=function(){var t=this.m_chart,e=(IsBoolean(this.m_chart.m_showborder)&&$("#draggableDiv"+this.m_chart.m_objectid).css({border:this.m_chart.m_borderthickness+"px solid "+this.m_chart.m_bordercolor,"border-radius":this.m_chart.m_borderradius+"px"}),drawSVGRect(0,0,this.m_width,this.m_height,""));$(e).attr("id","GradientRect"+t.m_objectid),$(e).attr("fill","url(#gradient"+t.m_objectid+")"),"decisiontree_chart"==t.m_componenttype&&$(e).attr("style","width:inherit;height:inherit;"),"decomposition_chart"!=t.m_componenttype&&$("#"+t.svgContainerId).append(e)},ShowChartData.prototype.createGridContainer=function(){var s=this,t=(IsBoolean(this.m_chart.m_isRepeaterPart)?(e=$(this.m_chart.m_chartContainer).parent().width(),$(this.m_chart.m_chartContainer).parent()):(e=$(this.m_chart.m_chartContainer).width(),$(this.m_chart.m_chartContainer))).height(),e=e<$(window).width()?e:$(window).width(),t=t<$(window).height()?t:$(window).height(),i=e<this.m_chart.m_width?e-2*this.m_sidemargin:this.m_chart.m_width<this.m_chart.m_showdatagridminwidth?this.m_chart.m_showdatagridminwidth:this.m_chart.m_width,o=t<this.m_chart.m_height?t-2*this.m_sidemargin-this.m_titlebarheight:this.m_chart.m_height<this.m_chart.m_showdatagridminheight?this.m_chart.m_showdatagridminheight-this.m_titlebarheight:this.m_chart.m_height-this.m_titlebarheight,a=($(".contextMenuShowDataDiv").remove(),document.createElement("div")),e=(a.setAttribute("id","contextMenuShowDataDiv"),a.setAttribute("class","contextMenuShowDataDiv"),a.style.top=t<this.m_chart.m_height?this.m_sidemargin+"px":+t/2-+this.m_chart.m_height/2+"px",a.style.left=e<this.m_chart.m_width?this.m_sidemargin+"px":+e/2-+this.m_chart.m_width/2+"px",a.style.width=i+"px",a.style.height=t<this.m_chart.m_height?t-2*this.m_sidemargin:(this.m_chart.m_height<this.m_chart.m_showdatagridminheight?this.m_chart.m_showdatagridminheight:this.m_chart.m_height)+"px",a.style.fontFamily=this.m_fontfamily,$(".draggablesParentDiv").append(a),document.createElement("div")),t=(e.setAttribute("class","contextMenuShowDataDivHeader"),e.style.height=this.m_titlebarheight+"px",$(a).append(e),document.createElement("span"));t.setAttribute("class","contextMenuShowDataDivTitle"),t.style.fontSize=this.m_chart.fontScaling(this.m_fontsize)+"px";try{var r="";r=(r=this.m_chart.formattedDescription(this.m_chart,this.m_chart.m_title.getDescription())).split("\n").join(" ").split("<br>").join(" "),t.innerHTML=r}catch(t){}$(e).append(t);r=document.createElement("span"),r.setAttribute("class","contextMenuShowDataDivClose"),$(e).append(r),t=document.createElement("span"),t.setAttribute("class","contextMenuShowDataClose icon bd-close"),$(t).on("mouseenter",function(t){s.m_chart.removeToolTipDiv();var e=document.getElementById("draggablesParentDiv"+s.m_chart.m_dashboard.m_id),i=(e.scrollLeft,e.scrollTop,$(e).offset()),o=i.top+$(e)[0].clientTop-$(e)[0].scrollTop,i=i.left+$(e)[0].clientLeft-$(e)[0].scrollLeft,e=$(this)[0].offsetLeft,a=$(this)[0].offsetTop,o=t.pageY-t.offsetY-o+a+18,a=t.pageX-i-e+25,e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,r=document.createElement("div"),o=(r.innerHTML="Close",r.setAttribute("id","toolTipDiv"),r.setAttribute("class","settingIcon"),r.setAttribute("placement","bottom"),$(".draggablesParentDiv").append(r),$.extend(s.m_chart.getTooltipStyles(),{top:o+"px",left:a+"px"})),a=(o["background-color"]=s.m_chart.m_showdatatooltipcolor,o.width="auto",o.color=s.m_chart.m_showdatatooltiptextcolor,o.border=s.m_chart.m_showdatatooltipborder,o["font-size"]=s.m_chart.m_showdatatooltipfontsize,$(r).css(o),+r.offsetWidth),o=(ht=+r.offsetHeight,t.pageX-t.offsetX-i-a/2-4+"px");t.pageX-t.offsetX-i-a/2-4+a>e&&(o=t.pageX-t.offsetX-i-a-4+20+"px",r.setAttribute("placement","bottom-right")),$(r).css("left",o),$(r).css("box-shadow","0 5px 15px -5px rgb(0 0 0 / 50%)")}).on("mouseleave",function(){s.m_chart.removeToolTipDiv()}),$(r).append(t),s.m_chart.maximizeScrollUpadte(),detectDevice.mobile()||detectDevice.tablet()?r.addEventListener("touchstart",function(t){s.m_chart.minimizeScrollUpadte(),s.m_chart.isMaximized&&s.m_chart.maximizeScrollUpadte(),$(".contextMenuShowDataDiv").remove(),$(".PopDisableDiv").remove()},!1):r.onclick=function(){s.m_chart.hideToolTip(),s.m_chart.minimizeScrollUpadte(),s.m_chart.isMaximized&&s.m_chart.maximizeScrollUpadte(),$(".contextMenuShowDataDiv").remove(),$(".PopDisableDiv").remove(),"AbsoluteLayout"==dGlobals.layoutType&&$(".ui-mobile-viewport").css("overflow","")},e=document.createElement("table");e.setAttribute("id","contextMenuShowDataTable"),e.setAttribute("class","contextMenuShowDataTable"),e.style.width=i+"px",e.style.height=o+"px",e.style.top=this.m_titlebarheight+"px",a.appendChild(e)},ShowChartData.prototype.createPopupDisableDiv=function(){var t=document.createElement("div");t.setAttribute("class","PopDisableDiv"),$(".draggablesParentDiv").append(t),"AbsoluteLayout"==dGlobals.layoutType&&$(".ui-mobile-viewport").css("overflow","hidden")},ShowChartData.prototype.drawChart=function(){var e=this,t=($(".PopDisableDiv").remove(),this.createPopupDisableDiv(),this.createGridContainer(),this.getColumnHeads()),i=this.getTableData(t.columnNames);jqEasyUI("#contextMenuShowDataTable").datagrid({columns:[t.columnHeads],data:i,autoRowHeight:!1,singleSelect:!0,collapsible:!0,rownumbers:!1,remoteSort:!1,fitColumns:!0,striped:!0,nowrap:!0,loadMsg:"",loading:!1,loaded:!1,onClickRow:function(){e.setGridCSS()},onSortColumn:function(){e.setGridCSS()},onAfterRender:function(t){e.setGridCSS()}})},ShowChartData.prototype.getColumnHeads=function(){this.m_colHeadersFieldName=[],this.m_colHeadersFieldDisplayName=[];var t=this.m_chart.getType(),e=this.m_chart.getFieldsJson(),i=[];switch(t){case"Plot":for(var o=0;o<e.length;o++)i.push({Name:e[o].Name,DisplayName:e[o].Name}),i.push({Name:e[o].OtherField,DisplayName:e[o].OtherField});return this.createColumnHead(this.getUniqueFromArray(i));case"SentimentPlot":for(var a=0;a<e.length;a++){i.push({Name:e[a].Name,DisplayName:e[a].Name}),i.push({Name:e[a].OtherField,DisplayName:e[a].OtherField}),i.push({Name:e[a].ColorField,DisplayName:e[a].ColorFieldDisplayName}),i.push({Name:e[a].PlotRadius,DisplayName:e[a].PlotRadius});for(var r=e[a].ToolTip.split(","),s=0;s<r.length;s++)i.push({Name:r[s],DisplayName:r[s]})}return this.createColumnHead(this.getUniqueFromArray(i));case"datagrid":for(var n=0;n<e.length;n++)IsBoolean(e[n].visible)&&i.push({Name:e[n].Name,DisplayName:e[n].displayname});return this.createColumnHeadGrid(i);case"scorecard":for(n=0;n<e.length;n++)IsBoolean(e[n].visible)&&i.push({Name:e[n].Name,DisplayName:e[n].DisplayName});return this.createColumnHeadGrid(i);case"filter":for(var h=0;h<e.length;h++)i.push({Name:e[h].Name,DisplayName:e[h].DisplayName});return this.createColumnHead(i);default:for(var l=0;l<e.length;l++)IsBoolean(e[l].visible)&&i.push({Name:e[l].Name,DisplayName:e[l].DisplayName});return this.createColumnHead(i)}},ShowChartData.prototype.createColumnHead=function(t){for(var e=[],i=[],o=0;o<t.length;o++)i.push({field:t[o].Name}),e.push({field:getStringARSC(t[o].Name),title:t[o].DisplayName,width:100,halign:"center",sortable:!1});return{columnHeads:e,columnNames:i}},ShowChartData.prototype.createColumnHeadGrid=function(t){for(var e=[],i=[],o=0;o<t.length;o++)i.push({field:t[o].Name}),e.push({field:t[o].Name,title:t[o].DisplayName,width:100,halign:"center",sortable:!1});return{columnHeads:e,columnNames:i}},ShowChartData.prototype.getUniqueFromArray=function(t){for(var e=[],i=0;i<t.length;i++)-1===$.inArray(t[i].Name,e)&&e.push(t[i]);return e},ShowChartData.prototype.getTableData=function(t){for(var e=[],i=0;i<this.m_chart.getDataProvider().length;i++){for(var o={},a=0,r=0;a<t.length;a++)if("chart"!=this.m_chart.m_objecttype&&"funnel"!=this.m_chart.m_objecttype||"word_cloud_chart"===this.m_chart.m_componenttype||"trellis_chart"===this.m_chart.m_componenttype)o[getStringARSC(t[a].field)]=this.m_chart.getDataProvider()[i][t[a].field];else if(_.contains(this.m_chart.m_categoryNames,t[a].field)||"scattered_plot_chart"===this.m_chart.m_componenttype)o[getStringARSC(t[a].field)]=this.m_chart.getDataProvider()[i][t[a].field];else switch(this.m_chart.m_componenttype){case"circumplex_chart":case"group_column_chart":case"group_bar_chart":_.contains(this.m_chart.m_subCategoryNames,t[a].field)?o[getStringARSC(t[a].field)]=this.m_chart.getDataProvider()[i][t[a].field]:o[getStringARSC(t[a].field)]=this.m_chart.getFormatterForToolTip(this.m_chart.getDataProvider()[i][t[a].field]);break;case"mixed_chart":case"timeline_chart":o[getStringARSC(t[a].field)]=this.m_chart.getLeftRightAxisFormatterForShowData(this.m_chart.getDataProvider()[i][t[a].field],r),r++;break;case"world_map":o[getStringARSC(t[a].field)]=this.m_chart.getFormatterForToolTip(t[a].field,this.m_chart.getDataProvider()[i][t[a].field]);break;case"project_timeline_chart":case"chevron_chart":case"decomposition_chart":case"sankey_chart":case"knowledge_graph_chart":o[getStringARSC(t[a].field)]=this.m_chart.getDataProvider()[i][t[a].field];break;default:o[getStringARSC(t[a].field)]=this.m_chart.getFormatterForToolTip(this.m_chart.getDataProvider()[i][t[a].field])}e.push(o)}return e},ShowChartData.prototype.setGridCSS=function(){$("#contextMenuShowDataDiv").find(".datagrid-header").css("background","#ffffff"),$("#contextMenuShowDataDiv").find(".datagrid-header-row").css("background","#fafafa"),$("#contextMenuShowDataDiv").find(".datagrid-header-row span").css({color:"#000000","text-transform":"capitalize","font-weight":"bold","font-size":this.m_chart.fontScaling(this.m_fontsize)+"px","font-family":selectGlobalFont(this.m_fontfamily)}),$("#contextMenuShowDataDiv").find(".datagrid").css({margin:"0px",background:"#ffffff",border:"none","box-shadow":"none","-webkit-box-shadow":"none"}),$("#contextMenuShowDataDiv").find(".datagrid-cell").css({color:"#000000","font-weight":this.m_fontweight,"font-size":this.m_chart.fontScaling(this.m_fontsize)+"px","font-family":selectGlobalFont(this.m_fontfamily),"font-style":this.m_fontstyle}),$("#contextMenuShowDataDiv").find(".datagrid-row").css("background","#ffffff"),$("#contextMenuShowDataDiv").find(".datagrid-row-alt").css("background","#fdfdfd"),$("#contextMenuShowDataDiv").find(".datagrid-mask").css({display:"none",width:"0px",height:"0px"}),$("#contextMenuShowDataDiv").find(".datagrid-header-row").css({height:"30px",background:"#ffffff"}),$("#contextMenuShowDataDiv").find(".datagrid-header-row td").css({"border-bottom":"2px solid #fdfdfd"}),$("#contextMenuShowDataDiv").find(".datagrid-row").css("height","30px"),$("#contextMenuShowDataDiv").find(".datagrid-header-row td").hover(function(){$(this).css("background","#ffffff"),$(this).find("span").css("color","#000000")},function(){$(this).css("background","#ffffff"),$(this).find("span").css("color","#000000")})},Tooltip.prototype.setChart=function(t){this.m_chart=t},Tooltip.prototype.init=function(t){this.setChart(t),this.m_customtextboxfortooltip=this.m_chart.m_customtextboxfortooltip,this.m_tooltipproperties=this.m_chart.m_tooltipproperties,this.m_tooltipbackgroundcolor=this.m_chart.m_tooltipbackgroundcolor,this.m_tooltipbackgroundtransparency=this.m_chart.m_tooltipbackgroundtransparency,this.m_tooltipfontsize=this.m_chart.m_tooltipfontsize,this.m_tooltipfontcolor=this.m_chart.m_tooltipfontcolor,this.m_tooltipbordercolor=this.m_chart.m_tooltipbordercolor,this.m_tooltipprecision=this.m_chart.m_tooltipprecision,this.m_customtooltipwidth=this.m_chart.m_customtooltipwidth+("auto"!==this.m_chart.m_customtooltipwidth?"px":""),this.m_autotooltiphide=this.m_chart.m_autotooltiphide,this.m_tooltiphidetimeout=this.m_chart.m_tooltiphidetimeout,this.m_controlledtooltip=this.m_chart.m_controlledtooltip,this.m_tooltiphighlighter=this.m_chart.m_tooltiphighlighter,this.m_fieldhighlightercolor=this.m_chart.m_fieldhighlightercolor,this.m_tooltipborderwidth=this.m_chart.m_tooltipborderwidth},Tooltip.prototype.draw=function(t,e){switch(e){case"circumplex_chart":this.drawCircumplexToolTip(t);break;case"box_plot_chart":this.drawBoxPlotToolTip(t);break;case"candle_stick_chart":this.drawCandleStickToolTip(t);break;case"decisiontree_chart":this.drawDecisionTreeToolTip(t);break;case"pie_chart":this.drawPieChartToolTip(t);break;case"group_column_chart":case"group_bar_chart":case"group_column_chart":this.drawGroupBarToolTip(t);break;case"project_timeline_chart":this.drawProjectTimelineToolTip(t);break;case"sentiment_plot_chart":this.drawSentimentPlotToolTip(t);break;case"tree_map_chart":this.drawTreeMapToolTip(t);break;case"word_cloud_chart":this.drawWordCloudToolTip(t);break;case"scattered_plot_chart":this.drawScatteredChartToolTip(t);break;case"trend":this.drawTrendToolTip(t);break;case"world_map":this.drawMapToolTip(t);break;default:this.drawDefaultChartToolTip(t)}},Tooltip.prototype.truncateString=function(t,e){e="auto"===e?400:parseInt(e.replace("px",""),10);e=Math.floor(e/100*25);return t.length>e?t.slice(0,e)+"...":t},Tooltip.prototype.drawAnnotationToolTip=function(t){this.m_chart.setCursorStyle("default");for(var e="none",i=this.m_tooltipborderwidth+"px solid "+this.m_tooltipbordercolor,o=hex2rgb(convertColorToHex(this.m_tooltipbackgroundcolor),this.m_tooltipbackgroundtransparency),a='<table class=" chart-tooltip bdtooltip" style = \'border-collapse: separate; border-spacing: 0;border-collapse: separate; border-spacing: 0;border:none; background:background:'+o+";width:"+this.m_customtooltipwidth+";textOverflow:ellipsis'>",a=(a+='<tr class="chart-tooltip-head-row"><td style=\'text-align:center;border:none;background:'+o+';\' colspan="4" class="chart-tooltip-head">'+t.cat+"</td></tr>")+('<tr><td class="chart-tooltip-head" style=\'background:'+o+"; border-top: "+i+";border-bottom: "+i+';\' align="left">Event Description</td>')+('<td class="chart-tooltip-head" style=\'background:'+o+"; border-top: "+i+";border-bottom: "+i+';\' align="left">Event Date</td></tr>'),r=0;r<t.data.length;r++){var s=this.m_chart.getHTMLShape(t.data[r][0].shape),n=IsBoolean(this.m_tooltiphighlighter)&&r===t.highlightIndex?this.m_fieldhighlightercolor:o,h=r===t.highlightIndex?+this.m_tooltipborderwidth+1+"px solid "+t.data[r][0].color:"";a+=r===t.highlightIndex?'<tr class="chart-tooltip-highlight-row">':"<tr>",t.data[r][0]?a+="<td style='border-collapse: separate; border-spacing: 0;border:none;background:"+n+";border-right:"+h+"; border-left:"+e+";'>"+this.m_chart.drawLegendShape(s,t.data[r][0].color)+this.truncateString(t.data[r][1],this.m_customtooltipwidth)+"</td>":a+="<td style='background:"+n+";border:"+e+"; '>"+this.truncateString(t.data[r][1],this.m_customtooltipwidth)+"</td>";for(var l=2;l<t.data[r].length;l++)a+="<td style='border-collapse: separate; border-spacing: 0;border:none;background:"+n+';\' align="right">'+t.data[r][l]+"</td>";a+="</tr>"}i=this.m_chart.m_tooltiphighlighter;this.getToolTip(a+="</table>",i)},Tooltip.prototype.drawDefaultChartToolTip=function(t){if(t!={}&&null!=t&&void 0!==this.m_customtextboxfortooltip&&"Default"==this.m_customtextboxfortooltip.dataTipType&&0<t.data.length&&!this.m_chart.m_showannotationTooltip){this.m_chart.setCursorStyle(void 0!==t.highlightIndex?this.m_chart.m_cursortype:"default");var e=this.m_tooltipborderwidth+"px solid "+this.m_tooltipbordercolor,i=hex2rgb(convertColorToHex(this.m_tooltipbackgroundcolor),this.m_tooltipbackgroundtransparency),o='<table class=" chart-tooltip bdtooltip" style = \'border:'+e+";background:"+i+";width:"+this.m_customtooltipwidth+";textOverflow:ellipsis'>";if(o+='<tr class="chart-tooltip-head-row"><td style=\'border:'+e+";background:"+i+';\' colspan="4" class="chart-tooltip-head">'+t.cat+"</td></tr>",void 0!==this.m_tooltipproperties.tooltipheadervalue&&("100%"===this.m_chart.m_charttype||"100%"===this.m_chart.m_columntype))for(var a=0;a<t.data[0].length-1;a++)o+="<td style='border:"+e+";background:"+i+';\' align="left">'+this.m_tooltipproperties.tooltipheadervalue[a]+"</td>";for(var r=0;r<t.data.length;r++){var s=this.m_chart.getHTMLShape(t.data[r][0].shape),n=IsBoolean(this.m_tooltiphighlighter)&&r===t.highlightIndex?this.m_fieldhighlightercolor:i,h=r===t.highlightIndex?+this.m_tooltipborderwidth+1+"px solid "+t.data[r][0].color:"";o+=r===t.highlightIndex?'<tr class="chart-tooltip-highlight-row">':"<tr>",t.data[r][0]?o+="<td style='background:"+n+";border-right:"+h+";border-top:"+e+";border-bottom:"+e+";border-left:"+e+";'>"+this.m_chart.drawLegendShape(s,t.data[r][0].color)+this.truncateString(t.data[r][1],this.m_customtooltipwidth)+"</td>":o+="<td style='background:"+n+";border:"+e+";'>"+this.truncateString(t.data[r][1],this.m_customtooltipwidth)+"</td>";for(a=2;a<t.data[r].length;a++)o+="<td style='border:"+e+";background:"+n+';\' align="right">'+t.data[r][a]+"</td>";o+="</tr>"}var l=this.m_chart.m_tooltiphighlighter;this.getToolTip(o+="</table>",l)}else null==t||void 0===this.m_customtextboxfortooltip||"Custom"!=this.m_customtextboxfortooltip.dataTipType||this.m_chart.m_showannotationTooltip?this.m_chart.m_showannotationTooltip&&t!={}&&null!=t&&0<t.data.length?this.drawAnnotationToolTip(t):void 0!==this.m_chart&&("MobileLayout"==dGlobals.layoutType&&"Timeline"==this.m_chart.m_type&&IsBoolean(this.m_chart.isMaximized)&&($("#legendContent"+this.m_chart.m_objectid).css("visibility","visible"),$("#left-button"+this.m_chart.m_objectid).css("display","block"),$("#right-button"+this.m_chart.m_objectid).css("display","block")),this.m_chart.hideToolTip()):this.drawcustomtooltip(t)},Tooltip.prototype.drawScatteredChartToolTip=function(t){if(t!={}&&null!=t&&"Default"==this.m_customtextboxfortooltip.dataTipType){for(var e='<table class=" chart-tooltip bdtooltip" style = \'border:'+(this.m_tooltipborderwidth+"px solid "+this.m_tooltipbordercolor)+";background:transparent;width:"+this.m_customtooltipwidth+";'>",i=0,o=t.data.length;i<o;i++){e+="<tr>";var a=this.m_chart.getHTMLShape(t.data[i][0].shape);e+="<td>"+this.m_chart.drawLegendShape(a,t.data[i][0].color)+t.data[i][1]+"</td>";for(var r=2,s=t.data[i].length;r<s;r++)e+='<td align="left">'+t.data[i][r]+"</td>";e+="</tr>"}this.getToolTip(e+="</table>",!1)}else null!=t&&"Custom"==this.m_customtextboxfortooltip.dataTipType?this.drawcustomtooltip(t):void 0!==this.m_chart&&this.m_chart.hideToolTip()},Tooltip.prototype.drawTrendToolTip=function(t){var e;""!=(t||"")&&t!={}&&0<t.data.length?(e='<table class=" chart-tooltip toolTip" style = \'border:'+(this.m_tooltipborderwidth+"px solid "+this.m_tooltipbordercolor)+";background:transparent;width:"+this.m_customtooltipwidth+";'>",e=(e+="<tr><td>"+t.cat+"</td></tr>")+'<tr><td align="center">'+t.data[0]+"</td></tr>",this.getTrendToolTip(e+="</table>",!1)):void 0!==this.m_chart&&this.m_chart.hideToolTip()},Tooltip.prototype.drawWordCloudToolTip=function(t){var t=t.data,e='<table class=" chart-tooltip bdtooltip" style = \'border:'+(this.m_tooltipborderwidth+"px solid "+this.m_tooltipbordercolor)+";background:transparent;width:"+this.m_customtooltipwidth+";'>";e=(e+='<tr><td colspan="3" class="chart-tooltip-head"><span class="colorspan" style="background-color:'+t[0].color+';"></span>'+t[0].value+"</td></tr>")+'<tr><td align="left">'+t[1].text+'</td><td align="left">'+t[1].value+"</td></tr>",0!==this.m_chart.m_confidenceDisplayNames.length&&(e+='<tr><td align="left">'+t[2].text+'</td><td align="left">'+t[2].value+"</td></tr>");this.getToolTip(e+="</table>",!1)},Tooltip.prototype.drawTreeMapToolTip=function(t){if(null!=t&&void 0!==this.m_customtextboxfortooltip&&"Default"==this.m_customtextboxfortooltip.dataTipType){this.m_chart.setCursorStyle(this.m_cursortype);for(var e='<table class=" chart-tooltip bdtooltip" style = \'border:'+(this.m_tooltipborderwidth+"px solid "+this.m_tooltipbordercolor)+";background:transparent;width:"+this.m_customtooltipwidth+";'>",i=0,o=t.data.length;i<o;i++){e+="<tr>";for(var a=0,r=t.data[i].length;a<r;a++)2==r?e+="<td>"+t.data[i][a]+"</td>":1==a?e+='<td><span class="colorspan" style="background-color:'+t.data[i][0]+';"></span>'+t.data[i][a]+"</td>":1<a&&(e+="<td>"+t.data[i][a]+"</td>");e+="</tr>"}this.getToolTip(e+="</table>",!1)}else null!=t&&void 0!==this.m_customtextboxfortooltip&&"Custom"==this.m_customtextboxfortooltip.dataTipType&&this.drawcustomtooltip(t)},Tooltip.prototype.drawSentimentPlotToolTip=function(t){if(t!={}&&null!=t&&0!==t.data.length){for(var e='<table class=" chart-tooltip bdtooltip" style = \'border:'+(this.m_tooltipborderwidth+"px solid "+this.m_tooltipbordercolor)+";background:transparent;width:"+this.m_customtooltipwidth+";'>",i=0;i<t.data.length;i++)for(var o=0;o<t.data[i].length;o++)var a=t.data[i][o],e=(e+="<tr>")+("<td style='font-size:11px; font-family:"+selectGlobalFont(this.m_chart.m_xAxis.m_labelfontfamily)+"; font-weight:"+this.m_chart.m_xAxis.m_labelfontweight+'; \' align="left">'+a+"</td>")+"</tr>";this.getToolTip(e+="</table>",!1)}else void 0!==this.m_chart&&this.m_chart.hideToolTip()},Tooltip.prototype.drawProjectTimelineToolTip=function(t){if(t!={}&&null!=t&&0<t.data.length){var e='<table class=" chart-tooltip bdtooltip" style = \'border:'+(this.m_tooltipborderwidth+"px solid "+this.m_tooltipbordercolor)+";background:transparent;width:"+this.m_customtooltipwidth+";'>";e+='<tr><td colspan="4" class="chart-tooltip-head"><span class="icons bd-'+t.shape+"\" style='color:"+t.color+";'></span>"+t.cat+"</td></tr>";for(var i=0;i<t.data.length;i++){e+="<tr>";for(var o=0;o<t.data[i].length;o++)e+="<td>"+t.data[i][o]+"</td>";e+="</tr>"}this.getToolTip(e+="</table>",!1)}else void 0!==this.m_chart&&this.m_chart.hideToolTip()},Tooltip.prototype.drawGroupBarToolTip=function(t){if(""!=(t||"")&&t!={}&&"Default"==this.m_customtextboxfortooltip.dataTipType&&0<t.data.length){var e=this.m_tooltipborderwidth+"px solid "+this.m_tooltipbordercolor,i=hex2rgb(convertColorToHex(this.m_tooltipbackgroundcolor),this.m_tooltipbackgroundtransparency),o='<table class=" chart-tooltip bdtooltip" style = \'border:'+e+";background:"+i+";width:"+this.m_customtooltipwidth+";'>";if(0!=this.m_chart.getCategoryData().length&&(o+="<tr><td style='border:"+e+";background:"+i+';\' colspan="4" class="chart-tooltip-head">'+t.cat+"</td></tr>"),o+="<tr><td style='border:"+e+";background:"+i+';\' colspan="4" class="chart-tooltip-sub-head">'+t.subcat+"</td></tr>",void 0!==this.m_tooltipproperties.tooltipheadervalue&&"100%"===this.m_chart.m_charttype)for(var a=0;a<t.data[0].length-1;a++)o+="<td style='border:"+e+";background:"+i+';\' align="left">'+this.m_tooltipproperties.tooltipheadervalue[a]+"</td>";for(var r=0;r<t.data.length;r++){o+="<tr>";var s=IsBoolean(this.m_tooltiphighlighter)&&r===t.highlightIndex?this.m_fieldhighlightercolor:i,n=r==t.highlightIndex?+this.m_tooltipborderwidth+1+"px solid "+t.data[r][0]:"";t.data[r][0]?o+="<td style='background:"+s+";border-right:"+n+";border-top:"+e+";border-bottom:"+e+";border-left:"+e+';\'><span class="colorspan" style="background-color:'+t.data[r][0]+';"></span>'+t.data[r][1]+"</td>":o+="<td style='background:"+s+";border:"+e+";'>"+t.data[r][1]+"</td>";for(a=2;a<t.data[r].length;a++)o+="<td style='border:"+e+";background:"+s+';\' align="right">'+t.data[r][a]+"</td>";o+="</tr>"}var h=this.m_chart.m_tooltiphighlighter;this.getToolTip(o+="</table>",h)}else null!=t&&"Custom"==this.m_customtextboxfortooltip.dataTipType?this.drawcustomtooltip(t):void 0!==this.m_chart&&this.m_chart.hideToolTip()},Tooltip.prototype.drawPieChartToolTip=function(t){if(t!={}&&""!=(t||"")&&"Default"==this.m_customtextboxfortooltip.dataTipType){this.m_chart.setCursorStyle(this.m_chart.m_cursortype);var e='<table class=" chart-tooltip bdtooltip" style = \'border:'+(this.m_tooltipborderwidth+"px solid "+this.m_tooltipbordercolor)+";background:transparent;width:"+this.m_customtooltipwidth+";'>";e+='<tr class="chart-tooltip-head-row"><td colspan="4" class="chart-tooltip-head"><span class="colorspan" style="background-color:'+t.color+';"></span>'+t.cat+"</td></tr>";for(var i=0,o=t.data.length;i<o;i++){e+="<tr>",IsBoolean(this.m_chart.m_isCategoryAvailable)&&(e+="MobileLayout"==dGlobals.layoutType&&void 0!==this.m_chart.m_mobiletooltipstyle&&"top"==this.m_chart.m_mobiletooltipstyle?'<td><span class="colorspan" style="background-color:'+t.color+';"></span>'+t.ser+"</td>":"<td>"+t.ser+"</td>");for(var a=0;a<t.data[i].length;a++)e+="<td>"+t.data[i][a]+"</td>";e+="</tr>"}this.getToolTip(e+="</table>",!1)}else null!=t&&"Custom"==this.m_customtextboxfortooltip.dataTipType?this.drawcustomtooltip(t):void 0!==this.m_chart&&this.m_chart.hideToolTip()},Tooltip.prototype.drawDecisionTreeToolTip=function(t){if(""!=(t||"")&&t!={}&&0<t.data.length){var e='<table class=" chart-tooltip bdtooltip" style = \'border:'+(this.m_tooltipborderwidth+"px solid "+this.m_tooltipbordercolor)+";background:transparent;width:"+this.m_customtooltipwidth+";'>",e=(e+='<tr><td colspan="4" class="chart-tooltip-head">'+t.labelOfNode+"</td></tr>")+('<tr><td colspan="4" class="chart-tooltip-head">'+t.condition+"</td></tr>");0!=this.m_chart.m_numberOfItemsArray.length&&(e+='<tr><td colspan="4" class="chart-tooltip-head">'+t.n+"</td></tr>");for(var i=0;i<t.data.length;i++)if(""!==t.data[i]){if(e+="<tr>",0!=this.m_chart.m_numberOfItems.length||0!=this.m_chart.m_seriesProbabilityArray.length){e+='<td><span class="colorspan" style="background-color:'+t.data[i][0]+';"></span>'+t.data[i][1]+"</td>";for(var o=2;o<t.data[i].length;o++)e+='<td align="right">'+t.data[i][o]+"</td>"}e+="</tr>"}this.getToolTip(e+="</table>",!1)}else void 0!==this.m_chart&&this.m_chart.hideToolTip()},Tooltip.prototype.drawCandleStickToolTip=function(t){if(""!=(t||"")&&t!={}&&0<t.data.length){var e='<table class=" chart-tooltip bdtooltip" style = \'border:'+(this.m_tooltipborderwidth+"px solid "+this.m_tooltipbordercolor)+";background:transparent;width:"+this.m_customtooltipwidth+";'>";e+='<tr><td colspan="3" class="chart-tooltip-head"><span class="colorspan" style="background-color:'+t.color+';"></span>'+t.cat+"</td></tr>";for(var i=0;i<t.data.length;i++)if(t.data[i]){e+="<tr>";for(var o=0;o<t.data[i].length;o++)0==o&&IsBoolean(this.m_chart.m_showtooltipcategory)?e+='<td align="left" ><strong>'+t.data[i][o]+"</strong></td>":0!=o&&(e+='<td align="right">'+t.data[i][o]+"</td>");e+="</tr>"}this.getToolTip(e+="</table>",!1)}else void 0!==this.m_chart&&this.m_chart.hideToolTip()},Tooltip.prototype.drawBoxPlotToolTip=function(t){if(t!={}&&null!=t&&0<t.data.length){var e='<table class=" chart-tooltip bdtooltip" style = \'border:'+(this.m_tooltipborderwidth+"px solid "+this.m_tooltipbordercolor)+";background:transparent;width:"+this.m_customtooltipwidth+";'>";e+='<tr><td colspan="3" class="chart-tooltip-head"><span class="colorspan" style="background-image:'+t.color+';"></span>'+t.cat+"</td></tr>";for(var i=0,o=t.data.length;i<o;i++)if(t.data[i]){e+="<tr>";for(var a=0;a<t.data[i].length;a++)e+=a<=1?'<td align="left">'+t.data[i][a]+"</td>":'<td align="right">'+t.data[i][a]+"</td>";e+="</tr>"}this.getToolTip(e+="</table>",!1)}else void 0!==this.m_chart&&this.m_chart.hideToolTip()},Tooltip.prototype.drawCircumplexToolTip=function(t){if(null!=t&&t!={}&&"Default"==this.m_customtextboxfortooltip.dataTipType&&0<t.data.length){for(var e=this.m_tooltipborderwidth+"px solid "+this.m_tooltipbordercolor,i=hex2rgb(convertColorToHex(this.m_tooltipbackgroundcolor),this.m_tooltipbackgroundtransparency),o='<table class=" chart-tooltip bdtooltip" style = \'border:'+e+";background:"+i+";width:"+this.m_customtooltipwidth+";'>",o=(o+="<tr><td style='border:"+e+";background:"+i+';\' colspan="3" class="chart-tooltip-head">'+t.cat+"</td></tr>")+("<tr><td style='border:"+e+";background:"+i+';\' align="left">'+t.subCat+"</td><td style='border:"+e+';background:transparent;\' align="left">'+t.subCatData+"</td></tr>"),a=0;a<t.data.length;a++){if(t.data[a]){var r=IsBoolean(this.m_tooltiphighlighter)&&a===t.highlightIndex?this.m_fieldhighlightercolor:i,s=a==t.highlightIndex?+this.m_tooltipborderwidth+1+"px solid "+t.data[a][0]:"";o+="<tr>";for(var n=1;n<t.data[a].length;n++)o+=1==n?'<td align="left" style=\'background:'+r+";border-right:"+s+";border-top:"+e+";border-bottom:"+e+";border-left:"+e+';\'><span class="colorspan" style="background:'+t.data[a][0]+';"></span>'+t.data[a][n]+"</td>":'<td align="right" style=\'border:'+e+";background:"+r+";'>"+t.data[a][n]+"</td>"}o+="</tr>"}this.getToolTip(o+="</table>",!0)}else null!=t&&"Custom"==this.m_customtextboxfortooltip.dataTipType?this.drawcustomtooltip(t):void 0!==this.m_chart&&this.m_chart.hideToolTip()},Tooltip.prototype.drawMapToolTip=function(t){if(!IsBoolean(this.m_chart.m_isEmptySeries)&&!this.m_chart.m_designMode)if(""!=(t||"")&&t!={}){var e="";if("Default"==this.m_customtextboxfortooltip.dataTipType){this.m_chart.setCursorStyle(this.m_chart.m_cursortype);e='<table class=" chart-tooltip bdtooltip" style = \'border:'+(this.m_tooltipborderwidth+"px solid "+this.m_tooltipbordercolor)+";background:transparent;width:"+(this.m_customtooltipwidth+("auto"!==this.m_customtooltipwidth?"px":""))+";'>";if(e=(e=(e=(e+="<tr>")+'<td colspan="3" class="chart-tooltip-head">'+('<span style="background-color:'+t.color+'; width:10px;height:10px;"></span>'))+t.cat)+"</td>"+"</tr>",""!=t.data)for(var i in t.data)e=(e=e+"<tr><td>"+i+"</td>")+'<td align="right">'+t.data[i]+"</td></tr>";e+="</table>"}else if(null!=t&&"Custom"==this.m_customtextboxfortooltip.dataTipType)if("svgMap"==t.type)e=this.drawcustomtooltipformap(t.data);else{for(var o=this.m_customtextboxfortooltip.datatipData;null!=/\[(.*?)\]/g.exec(o);){var a,r,s=/\[(.*?)\]/g.exec(o);r=""==(a=void 0!==t.data&&void 0!==t.type?"LeafletMap"==t.type?this.m_chart.getFormatterForToolTip(s[1],this.m_chart.getDataProvider()[t.data][s[1]]):t.data[s[1]]:a)||isNaN(a)||null==a||"null"==a?a:(r=+a)%1!=0&&"default"!==this.m_tooltipprecision?r.toFixed(this.m_tooltipprecision):+a,o=o.replace(s[0],r)}o=SearchAndReplaceAllOccurence(o,"&lt;","<"),o=SearchAndReplaceAllOccurence(o,"&gt;",">"),e=o=SearchAndReplaceAllOccurence(o,"&#34;","'")}if("LeafletMap"==t.type)return e;this.m_chart.getMapToolTip(e,t.left,t.top,this.m_chart)}else this.hideToolTip()},Tooltip.prototype.drawDecompositionToolTip=function(t){if(t!={}&&null!=t&&void 0!==this.m_customtextboxfortooltip&&"Default"==this.m_customtextboxfortooltip.dataTipType&&0<t.data.length){this.m_chart.setCursorStyle(void 0!==t.highlightIndex?this.m_chart.m_cursortype:"default");var e=this.m_tooltipborderwidth+"px solid "+this.m_tooltipbordercolor,i=hex2rgb(convertColorToHex(this.m_tooltipbackgroundcolor),this.m_tooltipbackgroundtransparency),o='<table class=" chart-tooltip bdtooltip" style = \'border:'+e+";background:"+i+";width:"+this.m_customtooltipwidth+";'>";if(null!=t.cat&&(o+='<tr class="chart-tooltip-head-row"><td style=\'border:'+e+";background:"+i+';\' colspan="4" class="chart-tooltip-head">'+t.cat+"</td></tr>"),void 0!==this.m_tooltipproperties.tooltipheadervalue&&("100%"===this.m_chart.m_charttype||"100%"===this.m_chart.m_columntype))for(var a=0;a<t.data[0].length-1;a++)o+="<td style='border:"+e+";background:"+i+';\' align="left">'+this.m_tooltipproperties.tooltipheadervalue[a]+"</td>";for(var r=0;r<t.data.length;r++){var s=this.m_chart.getHTMLShape(t.data[r][0].shape),n=IsBoolean(this.m_tooltiphighlighter)&&r===t.highlightIndex?this.m_fieldhighlightercolor:i,h=r===t.highlightIndex?+this.m_tooltipborderwidth+1+"px solid "+t.data[r][0].color:"";o+=r===t.highlightIndex?'<tr class="chart-tooltip-highlight-row">':"<tr>",t.data[r][0]?o+="<td style='background:"+n+";border-right:"+h+";border-top:"+e+";border-bottom:"+e+";border-left:"+e+";'>"+this.m_chart.drawLegendShape(s,t.data[r][0].color)+t.data[r][1]+"</td>":o+="<td style='background:"+n+";border:"+e+";'>"+t.data[r][1]+"</td>";for(a=2;a<t.data[r].length;a++)o+="<td style='border:"+e+";background:"+n+';\' align="right">'+t.data[r][a]+"</td>";o+="</tr>"}var l=this.m_chart.m_tooltiphighlighter;this.getToolTip(o+="</table>",l)}else null!=t&&void 0!==this.m_customtextboxfortooltip&&"Custom"==this.m_customtextboxfortooltip.dataTipType?this.drawcustomtooltip(t):void 0!==this.m_chart&&("MobileLayout"==dGlobals.layoutType&&"Timeline"==this.m_chart.m_type&&IsBoolean(this.m_chart.isMaximized)&&($("#legendContent"+this.m_chart.m_objectid).css("visibility","visible"),$("#left-button"+this.m_chart.m_objectid).css("display","block"),$("#right-button"+this.m_chart.m_objectid).css("display","block")),this.m_chart.hideToolTip())},Tooltip.prototype.drawKnowledgeToolTip=function(t){if(t!={}&&null!=t&&void 0!==this.m_customtextboxfortooltip&&"Default"==this.m_customtextboxfortooltip.dataTipType){this.m_chart.setCursorStyle(void 0!==t.highlightIndex?this.m_chart.m_cursortype:"default");var e=this.m_tooltipborderwidth+"px solid "+this.m_tooltipbordercolor,i=hex2rgb(convertColorToHex(this.m_tooltipbackgroundcolor),this.m_tooltipbackgroundtransparency),o='<table class=" chart-tooltip bdtooltip" style = \'border:'+e+";background:"+i+";width:"+this.m_customtooltipwidth+";'>",a=this.m_chart.getHTMLShape(t.cat[0][0].shape),a=-1<t.cat[0][0].shape.indexOf("bd-")?t.cat[0][0].shape:a,r=IsBoolean(this.m_tooltiphighlighter)&&s===t.highlightIndex?this.m_fieldhighlightercolor:i;s===t.highlightIndex&&(this.m_tooltipborderwidth,t.cat[0][0].color);null!=t.cat&&(o+='<tr class="chart-tooltip-head-row"><td style=\'border:'+e+";background:"+r+';\' colspan="4" class="chart-tooltip-head">'+this.m_chart.drawLegendShape(a,t.cat[0][0].color)+t.cat[0][1]+"</td></tr>");for(var s=0;s<t.data.length;s++){o+="<tr>",t.data[s]?o+="<td style='background:"+i+";border-right:"+e+";border-top:"+e+";border-bottom:"+e+";border-left:"+e+";'>"+t.data[s][0]+"</td>":o+="<td style='background:"+i+";border:"+e+";'>"+t.data[1]+"</td>";for(var n=1;n<t.data[s].length;n++)o+="<td style='border:"+e+";background:"+r+';\' align="right">'+t.data[s][n]+"</td>";o+="</tr>"}this.getToolTip(o+="</table>",!0)}else void 0!==this.m_chart&&("MobileLayout"==dGlobals.layoutType&&"Timeline"==this.m_chart.m_type&&IsBoolean(this.m_chart.isMaximized)&&($("#legendContent"+this.m_chart.m_objectid).css("visibility","visible"),$("#left-button"+this.m_chart.m_objectid).css("display","block"),$("#right-button"+this.m_chart.m_objectid).css("display","block")),this.m_chart.hideToolTip())},Tooltip.prototype.drawcustomtooltip=function(e){var i=[],o=this.m_customtextboxfortooltip.datatipData,a=o;try{for(var t=a,t=this.m_chart.formattedDescription(this.m_chart,t);null!=/\[(.*?)\]/g.exec(t);){var r,s,n=/\[(.*?)\]/g.exec(t);s="Mixed"!==this.m_chart.m_type&&"Timeline"!==this.m_chart.m_type?this.m_chart.getUpdatedFormatterForToolTip(e[n[1]],n[1]):(r={serVal:e[n[1]],seriesName:n[1]},this.m_chart.getUpdatedLeftRightAxisFormatterForToolTip(r)),t=t.replace(n[0],s)}t=SearchAndReplaceAllOccurence(t,"&lt;","<"),t=SearchAndReplaceAllOccurence(t,"&gt;",">"),a=t=SearchAndReplaceAllOccurence(t,"&#34;","'")}catch(t){for(var h in-1==o.indexOf("&lt;htmlTag&gt;")&&-1==o.indexOf("<htmlTag>")||(o=SearchAndReplaceAllOccurence(o,"&lt;htmlTag&gt;",""),o=SearchAndReplaceAllOccurence(o,"&lt;/htmlTag&gt;",""),o=SearchAndReplaceAllOccurence(o,"&lt;","<"),o=SearchAndReplaceAllOccurence(o,"&gt;",">"),o=SearchAndReplaceAllOccurence(o,"&#34;","'")),i=o.split(/\[+(.*?)\]+/g),e)for(var l,c,m=1;i.length>m;m+=2)h==i[m]&&(""==(l=e[h])||isNaN(l)||null==l||"null"==l?e[h]=l:(c=+l)%1!=0&&"default"!==this.m_tooltipprecision?e[h]=c.toFixed(this.m_tooltipprecision):e[h]=+l,i[m]=e[h]);for(var a="",d=0;i.length>d;d++)a+=i[d]}o=this.m_chart.m_tooltiphighlighter;this.m_chart.setCursorStyle(this.m_chart.m_cursortype),this.getToolTip(a,o)},Tooltip.prototype.drawcustomtooltipformap=function(e){var i=[],o=this.m_customtextboxfortooltip.datatipData,a=o;try{for(var t=a,t=this.m_chart.formattedDescription(this.m_chart,t);null!=/\[(.*?)\]/g.exec(t);){var r,s,n=/\[(.*?)\]/g.exec(t);s="Mixed"!==this.m_chart.m_type&&"Timeline"!==this.m_chart.m_type?this.m_chart.getFormatterForToolTip(n[1],e[n[1]]):(r={serVal:e[n[1]],seriesName:n[1]},this.m_chart.getUpdatedLeftRightAxisFormatterForToolTip(r)),t=t.replace(n[0],s)}t=SearchAndReplaceAllOccurence(t,"&lt;","<"),t=SearchAndReplaceAllOccurence(t,"&gt;",">"),a=t=SearchAndReplaceAllOccurence(t,"&#34;","'")}catch(t){for(var h in-1==o.indexOf("&lt;htmlTag&gt;")&&-1==o.indexOf("<htmlTag>")||(o=SearchAndReplaceAllOccurence(o,"&lt;htmlTag&gt;",""),o=SearchAndReplaceAllOccurence(o,"&lt;/htmlTag&gt;",""),o=SearchAndReplaceAllOccurence(o,"&lt;","<"),o=SearchAndReplaceAllOccurence(o,"&gt;",">"),o=SearchAndReplaceAllOccurence(o,"&#34;","'")),i=o.split(/\[+(.*?)\]+/g),e)for(var l,c,m=1;i.length>m;m+=2)h==i[m]&&(""==(l=e[h])||isNaN(l)||null==l||"null"==l?e[h]=l:(c=+l)%1!=0&&"default"!==this.m_tooltipprecision?e[h]=c.toFixed(this.m_tooltipprecision):e[h]=+l,i[m]=e[h]);for(var a="",d=0;i.length>d;d++)a+=i[d]}return a},Tooltip.prototype.getToolTip=function(t,e){var i,o,a,r,s,n,h,l,c,m;"MobileLayout"==dGlobals.layoutType&&void 0!==this.m_chart.m_mobiletooltipstyle&&"top"==this.m_chart.m_mobiletooltipstyle?IsBoolean(this.m_chart.isMaximized)&&(this.m_chart.removeMobileToolTipDiv(),this.drawMobileViewTooltip(t,e)):(n=document.getElementById("WatermarkDiv"),document.getElementsByClassName("draggableWidgetDiv"),l=null==n?0:n.scrollLeft,i=null==n?0:n.scrollTop,(o=this.m_chart).removeToolTipDiv(),a=document.createElement("div"),(""==this.m_chart.m_dashboard?document.body:document.querySelector("#WatermarkDiv")).appendChild(a),r=window.pageXOffset,s=window.pageYOffset,m=r+(null==n?this.m_chart.m_draggableDiv:n).clientWidth,s=s+(null==n?this.m_chart.m_draggableDiv:n).clientHeight,n=IsBoolean(o.m_customtextboxfortooltip)&&IsBoolean("Custom"==o.m_customtextboxfortooltip.dataTipType)&&!IsBoolean(this.m_chart.m_showannotationTooltip)?"toolTipDivForCustom":"toolTipDiv",a.setAttribute("class",n),a.setAttribute("id","toolTipDiv"),n=document.createElement("div"),$(a).append(n),n.innerHTML=t,t=this.m_tooltipborderwidth+"px solid "+this.m_tooltipbordercolor,IsBoolean(this.m_chart.m_showannotationTooltip)&&$(n).css({border:t,"border-radius":"8px"}),h=hex2rgb(convertColorToHex(o.m_tooltipbackgroundcolor),o.m_tooltipbackgroundtransparency),$(a).hasClass("toolTipDivForCustom")?$(a).css({"background-color":h,border:o.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(o.m_tooltipbordercolor))}):IsBoolean(e)||($(a).find("table").css("background-color",h),$(a).find("td").each(function(){$(this).css({"background-color":h,border:o.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(o.m_tooltipbordercolor))})})),$(a).find(".chart-tooltip td").css({"font-size":o.m_tooltipfontsize+"px",color:o.m_tooltipfontcolor}),$(a).css({width:"fit-content","white-space":"nowrap"}),t=a.clientWidth,e=a.clientHeight,l={left:+pageX-t/2+ +l,top:+pageY+10+ +i},+pageX+t/2>=m&&(0<+l.left?(l.left=+l.left-t/2+26,c="left"):-1*l.left<+t/3&&(l.left=-1*l.left)),+pageX-t/2<=r&&(l.left=+l.left+t/2-38,c="right"),m=pageY-+e-40+ +i,+pageY+e>=s&&0<m?(l.top=m,"left"==c?a.setAttribute("placement","top-right"):"right"==c?a.setAttribute("placement","top-left"):(a.setAttribute("placement","top"),l.left=l.left-8)):"left"==c?a.setAttribute("placement","bottom-right"):"right"==c?a.setAttribute("placement","bottom-left"):(a.setAttribute("placement","bottom"),l.left=l.left-8),$(a).css({"font-family":selectGlobalFont(o.m_defaultfontfamily),visibility:"",zIndex:o.m_zIndex+1,left:l.left+"px",top:l.top+"px"}),"toolTipDivForCustom"!=a.className&&$(n).css({margin:"18px 8px 18px 8px","max-height":"277px",overflow:"auto"}),IsBoolean(isTouchEnabled)||""===this.m_chart.m_dashboard||$(a).hover(function(){$(a).remove()},function(){$(a).remove()}),o.m_autotooltiphide&&setTimeout(function(){void 0!==a&&$(a).remove()},o.m_tooltiphidetimeout))},Tooltip.prototype.getTrendToolTip=function(t,e){var i,o,a,r,s;"MobileLayout"==dGlobals.layoutType&&void 0!==this.m_chart.m_mobiletooltipstyle&&"top"==this.m_chart.m_mobiletooltipstyle?IsBoolean(this.m_chart.isMaximized)&&(this.m_chart.removeMobileToolTipDiv(),this.drawMobileViewTooltip(t,e)):((i=this.m_chart).removeToolTipDiv(),o=document.createElement("div"),document.body.appendChild(o),r=IsBoolean(i.m_customtextboxfortooltip)&&IsBoolean("Custom"==i.m_customtextboxfortooltip.dataTipType)?"toolTipDivForCustom":"toolTipDiv",o.setAttribute("class","trendToolTipDiv"),o.setAttribute("id","toolTipDiv"),o.innerHTML=t,$(o).css({width:i.m_customtooltipwidth+("auto"!==i.m_customtooltipwidth?"px":"")}),pageX,pageY,pageX,o.clientWidth,t=pageY-+o.clientHeight-10,o.clientHeight,i.getStartY(),o.setAttribute("placement","bottom"),(t=document.getElementById("draggablesParentDiv"+i.m_dashboard.m_id)).scrollLeft,t.scrollTop,a=(r=$(t).offset()).top+$(t)[0].clientTop-$(t)[0].scrollTop,r=r.left+$(t)[0].clientLeft-$(t)[0].scrollLeft,(t=+i.m_left+r+i.m_width/2-o.clientWidth/2)<=0&&(t=r),(r=+i.m_top+a+ +i.m_height-15)+parseFloat(i.m_height)+10+ +o.clientHeight+20>window.pageYOffset+window.innerHeight?(o.setAttribute("placement","top"),r=+i.m_top+a-62):(r=+i.m_top+a+ +i.m_height-15,o.setAttribute("placement","bottom")),$(o).css({"font-family":selectGlobalFont(i.m_defaultfontfamily),visibility:"",zIndex:i.m_zIndex+1,left:t+"px",top:r+"px"}),s=hex2rgb(convertColorToHex(i.m_tooltipbackgroundcolor),i.m_tooltipbackgroundtransparency),$(o).hasClass("toolTipDivForCustom")?$(o).css({"background-color":s,border:i.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(i.m_tooltipbordercolor))}):IsBoolean(e)||($(o).find("table").css("background-color",s),$(o).find("td").each(function(){$(this).css({"background-color":s,border:i.m_tooltipborderwidth+"px solid "+hex2rgb(convertColorToHex(i.m_tooltipbordercolor))})})),$(o).find(".chart-tooltip td").css({"font-size":i.m_tooltipfontsize+"px",color:i.m_tooltipfontcolor}),i.m_autotooltiphide&&setTimeout(function(){void 0!==o&&$(o).remove()},i.m_tooltiphidetimeout))},Tooltip.prototype.drawMobileViewTooltip=function(t){for(var e,i=this,o=!IsBoolean(i.m_chart.getShowLegends())||IsBoolean(i.m_chart.m_fixedlegend)||"horizontalTopLeft"!=i.m_chart.m_legendposition&&"horizontalTopCenter"!=i.m_chart.m_legendposition&&"horizontalTopRight"!=i.m_chart.m_legendposition||IsBoolean(i.m_chart.scaleFlag)?0:i.m_chart.m_topFloatingLegendMargin*i.m_chart.minWHRatio(),a=i.getMarginForToolTip(),o=0!=o,r=document.createElement("div"),a=(i.m_tooltipheadertext="",r.setAttribute("id","mobileTooltipContent"),$(r).css({position:"absolute","z-index":"inherit",background:hex2rgb(i.m_chart.m_tooltipbackgroundcolor,i.m_chart.m_tooltipbackgroundtransparency),width:"100%",visible:"hidden",top:+a+"px"}),document.createElement("div")),s=(a.style.position="relative",document.createElement("div")),n=(s.setAttribute("class","mobileviewTooltip"),s.setAttribute("id","mobiletooltip-outerDiv"+i.m_chart.m_objectid),$(s).css({"padding-bottom":"10px",width:"calc(100% - "+i.m_chart.m_mobiletooltipleftmargin+"px)"}),document.createElement("div")),h=(n.innerHTML=t,hex2rgb(i.m_chart.m_tooltipbackgroundcolor,i.m_chart.m_tooltipbackgroundtransparency)),l=hex2rgb(i.m_chart.m_tooltipbordercolor,i.m_chart.m_tooltipbackgroundtransparency),c=("Custom"==i.m_chart.m_customtextboxfortooltip.dataTipType?($(n).css({"font-family":selectGlobalFont(i.m_defaultfontfamily)}),$(n).find("p").each(function(){$(this).css({display:"inline-block",padding:"2px","background-color":h})})):($(n).find("table").removeClass("bdtooltip"),$(n).find("tr").each(function(){$(this).hasClass("chart-tooltip-head-row")?(i.m_tooltipheadertext=$(this)[0].outerText,$(this).css({display:"none"})):($(this).css({display:"inline-block","background-color":h,border:"1px solid","border-color":l,"border-radius":"20px",padding:"4px","margin-left":"4px"}),$(this).hasClass("chart-tooltip-highlight-row")&&$(this).css({"box-shadow":"0 1px 2px "+l+", 0 1px 1px "+l}))}),$(n).find("table").css({"background-color":h,border:"none"}),$(n).find("td").each(function(){$(this).css({"background-color":h,"font-size":i.m_chart.fontScaling(i.m_tooltipfontsize)+"px",color:i.m_tooltipfontcolor,"font-family":selectGlobalFont(i.m_defaultfontfamily),border:"none"})}),t=document.createElement("div"),(e=document.createElement("span")).appendChild(document.createTextNode(i.m_tooltipheadertext)),$(t).append(e),$(t).css({position:"relative","font-size":i.m_chart.fontScaling(i.m_tooltipfontsize)+"px","font-family":selectGlobalFont(i.m_defaultfontfamily),padding:"5px","margin-left":i.m_chart.m_mobiletooltipleftmargin+"px"}),r.appendChild(t)),r.appendChild(a),$(s).append(n),$(a).append(s),i.m_chart.m_draggableDiv.appendChild(r),$(s).outerWidth(!0),$(n).children()),m=0;m<c.length;m++)$(c[m]).outerWidth(!0);navigator.userAgent.match(/(iPad|iPhone)/g)?$(s).addClass("mobileviewTooltip-iPhoneScrollBar"):$(s).removeClass("mobileviewTooltip-iPhoneScrollBar"),o&&($("#legendContent"+i.m_chart.m_objectid).css("visibility","hidden"),$("#left-button"+i.m_chart.m_objectid).css("display","none"),$("#right-button"+i.m_chart.m_objectid).css("display","none"))},Tooltip.prototype.getMarginForToolTip=function(){var t=0,t=IsBoolean(this.m_chart.getShowGradient())||IsBoolean(this.m_chart.m_showmaximizebutton)||IsBoolean(this.m_chart.getTitle().m_showtitle)||IsBoolean(this.m_chart.m_showsettingmenubutton)?+this.m_chart.getMarginForTitle()-15:0;return IsBoolean(this.m_chart.m_subTitle.m_showsubtitle)&&(t+=this.m_chart.getMarginForSubTitle()),t},Title.prototype=new TitleText,Title.prototype.getShowTitle=function(){return this.m_showtitle},Title.prototype.setChart=function(t){this.m_chart=t},Title.prototype.init=function(t){this.setChart(t),this.ctx=this.m_chart.ctx,this.m_titleBarHeight=this.m_chart.getTitleBarHeight();for(var t="",e=this.getDescription(),i=("sentiment_plot_chart"!==this.m_chart.m_componenttype&&"custom_chart"!==this.m_chart.m_componenttype&&0<this.m_chart.m_dataProvider.length&&("funnel"===this.m_chart.m_objecttype?e=(t=this.m_chart.m_seriesDisplayNames.reduce(function(t,e){return""!==e?""===t?e:t+", "+e:t},""))+" data by "+this.m_chart.m_categoryDisplayNames[0]:"chart"==this.m_chart.m_objecttype?(t=null!=(i="tree_map_chart"===this.m_chart.m_componenttype?this.m_chart.m_allSeriesDisplayNames:"trellis_chart"==this.m_chart.m_componenttype?this.m_chart.m_gridheaderDisplayNames:"scattered_plot_chart"===this.m_chart.m_componenttype?this.m_chart.m_displayFieldNames:"mitoplot_chart"===this.m_chart.m_componenttype?this.m_chart.m_seriesNames:"knowledge_graph_chart"===this.m_chart.m_componenttype?this.m_chart.m_sourceNames:"box_plot_chart"===this.m_chart.m_componenttype?this.m_chart.m_subCategoryDisplayNames:this.m_chart.m_seriesDisplayNames)?i.reduce(function(t,e){return""!==e?""===t?e:t+", "+e:t},""):"",t=null!=this.m_chart.m_categoryDisplayNames&&0<this.m_chart.m_categoryDisplayNames.length?t+"Data By "+this.m_chart.m_categoryDisplayNames[0]:t,e="mitoplot_chart"===this.m_chart.m_componenttype?this.m_chart.m_categoryNames+" "+t:"scattered_plot_chart"!==this.m_chart.m_componenttype&&"tree_map_chart"!==this.m_chart.m_componenttype&&"trellis_chart"!==this.m_chart.m_componenttype&&"knowledge_graph_chart"!==this.m_chart.m_componenttype&&"candle_stick_chart"===this.m_chart.m_componenttype?"Data by "+this.m_chart.m_categoryDisplayNames[0]:t):"datagrid"!=this.m_chart.m_objecttype&&"scorecard"!=this.m_chart.m_objecttype||(e=t=this.m_chart.m_gridheaderDisplayNames.reduce(function(t,e){return""!==e?""===t?e:t+", "+e:t},""))),IsBoolean(this.m_chart.m_title.m_showdatasetdescription)||IsBoolean(this.m_chart.m_showdatasetdescription)?e:this.getDescription()),o=(this.m_chart.m_designMode,this.m_formattedDescription=this.m_chart.formattedDescription(this.m_chart,i),this.m_formattedDescription=this.calculatedDescription(this.m_formattedDescription,IsBoolean(this.m_chart.m_titletextwrap)),this.m_chart.m_gradientcolor.split(",")),a=0;a<o.length;a++)this.m_gradientcolorsArray[a]=convertColorToHex(o[a]);this.m_fontColor=convertColorToHex(this.getFontColor()),this.maxIconWidth=IsBoolean(this.m_chart.m_showmaximizebutton)?45:0,this.legendIconWidth=0,this.startX=this.checkAlign(),this.ctx.textBaseline="middle","knowledge_graph_chart"===this.m_chart.m_componenttype&&(this.startX=this.startX-16),this.startY=+this.m_chart.m_y+(this.m_titleBarHeight-this.getFontSize())/(1+this.m_formattedDescription.length)+this.getFontSize()/(1+this.m_formattedDescription.length)},Title.prototype.draw=function(){IsBoolean(this.m_chart.getShowGradient())&&this.drawTitleBox(),IsBoolean(this.m_chart.m_showmaximizebutton)?this.drawMaxMinIcon():$("#minmaxImage"+this.m_chart.m_objectid).remove(),IsBoolean(this.m_chart.m_showsettingmenubutton)?this.drawMenuSettingIcon():$("#menuSettingImage"+this.m_chart.m_objectid).remove(),this.m_chart.m_designMode||this.drawLoaderIcon(),IsBoolean(this.m_chart.getTitle().m_showtitle)&&(IsBoolean(this.m_chart.m_enablehtmlformate.title)?this.drawTitleTextInHTML():this.drawText(),IsBoolean(this.m_chart.m_enablehtmlformate.title)||this.drawUnderLine(this.m_formattedDescription))},Title.prototype.drawTitleBox=function(){this.ctx.beginPath(),this.ctx.fillStyle=this.getGradient();var t=+this.m_chart.m_x,e=+this.m_chart.m_y,i=+this.m_chart.m_width,o=this.m_titleBarHeight;this.ctx.rect(t,e,i,o),this.ctx.fill(),this.ctx.closePath()},Title.prototype.getGradient=function(){var t=this.ctx.createLinearGradient(this.m_chart.m_x,this.m_chart.m_y,this.m_chart.m_x,+this.m_chart.m_y+ +this.m_titleBarHeight);return t.addColorStop(.1,this.m_gradientcolorsArray[0]),t.addColorStop(1,this.m_gradientcolorsArray[1]),t},Title.prototype.drawImageIcons=function(t,e,i,o){$("#"+t+this.m_chart.m_objectid).remove();var a=document.createElement("img"),t=(a.setAttribute("id",t+""+this.m_chart.m_objectid),a.setAttribute("class","minmaxImage"),a.style.position="absolute",17),r=17;return IsBoolean(isTouchEnabled)&&(t=r=22<this.m_titleBarHeight?22:this.m_titleBarHeight),a.style.top=o+"px",a.style.left=i+"px",a.style.width=t*this.m_chart.minWHRatio()+"px",a.style.height=r*heightRatio+"px",a.src=e,$("#draggableDiv"+this.m_chart.m_objectid).append(a),a},Title.prototype.drawLoaderIcon=function(){var t,e=this,i=this.m_chart.m_width-this.m_chart.fontScaling(25)-(IsBoolean(this.m_chart.m_showmaximizebutton)||IsBoolean(this.m_chart.m_showlegends)?25:0)-(IsBoolean(this.m_chart.m_showsettingmenubutton)?25:0),o=this.startY-this.m_chart.fontScaling(10);$("#loaderImage"+e.m_chart.m_objectid).length?($("#loaderImage"+e.m_chart.m_objectid).css({left:i+"px",top:o+"px"}),$("#loaderImageContentArrow"+e.m_chart.m_objectid).css({"z-index":e.m_chart.m_zIndex+2,left:i+"px",top:25+o+"px"}),$("#loaderImageContent"+e.m_chart.m_objectid).css({"z-index":e.m_chart.m_zIndex+2,"font-family":selectGlobalFont(e.m_chart.m_defaultfontfamily),left:"5px",top:35+o+"px",width:e.m_chart.m_width-10+"px",height:"120px"})):($("#loaderImage"+e.m_chart.m_objectid).remove(),(t=document.createElement("div")).setAttribute("id","loaderImage"+e.m_chart.m_objectid),t.setAttribute("class","loaderImage"),$("#draggableDiv"+e.m_chart.m_objectid).append(t),$("#loaderImage"+e.m_chart.m_objectid).css({"z-index":e.m_chart.m_zIndex+2,left:i+"px",top:o+"px"}).on("click",function(){$("#loaderImageContent"+e.m_chart.m_objectid).toggle("slide",{direction:"up"},200),$("#loaderImageContentArrow"+e.m_chart.m_objectid).toggle()}).append('<div style="position:absolute;height:100%;width:100%;left:0px;top:0px;" class="la-ball-clip-rotate la-dark la-lg loaderImageRotation"><div style="border-width:2px;border-color:'+convertColorToHex(this.getFontColor())+';height:80%;width:80%;"></div></div>'),$("#loaderImageContentArrow"+e.m_chart.m_objectid).remove(),(t=document.createElement("div")).setAttribute("id","loaderImageContentArrow"+e.m_chart.m_objectid),t.setAttribute("class","loaderImageContentArrow"),$("#draggableDiv"+e.m_chart.m_objectid).append(t),$("#loaderImageContentArrow"+e.m_chart.m_objectid).css({"z-index":e.m_chart.m_zIndex+2,left:i+"px",top:25+o+"px"}),$("#loaderImageContent"+e.m_chart.m_objectid).remove(),(t=document.createElement("div")).setAttribute("id","loaderImageContent"+e.m_chart.m_objectid),t.setAttribute("class","loaderImageContent"),$("#draggableDiv"+e.m_chart.m_objectid).append(t),$("#loaderImageContent"+e.m_chart.m_objectid).css({"z-index":e.m_chart.m_zIndex+2,"font-family":selectGlobalFont(e.m_chart.m_defaultfontfamily),left:"5px",top:35+o+"px",width:e.m_chart.m_width-10+"px",height:"120px"}),$("#loaderImageContent"+e.m_chart.m_objectid).hide(),$("#loaderImageContentArrow"+e.m_chart.m_objectid).hide()),IsBoolean(this.m_chart.m_showloaderbutton)?this.showLoaderIcon():this.hideLoaderIcon()},Title.prototype.showLoaderIcon=function(){""!==this.m_chart&&$("#loaderImage"+this.m_chart.m_objectid).show()},Title.prototype.hideLoaderIcon=function(){""!==this.m_chart&&$("#loaderImage"+this.m_chart.m_objectid).hide()},Title.prototype.clearLoaderContent=function(){$("#loaderImageContent"+this.m_chart.m_objectid).html("")},Title.prototype.setLoaderContent=function(e,t){var i=this;""!==i.m_chart&&("progress"==t?$("#loaderImageContent"+i.m_chart.m_objectid).prepend(function(t){return"<div class='loaderImageContentMsg'>"+e+"</div>"}):("completed"==t?$("#loaderImageContent"+i.m_chart.m_objectid).html("<div class='loaderImageContentMsg'>"+e+"</div>"):$("#loaderImageContent"+i.m_chart.m_objectid).html(""),$("#loaderImageContent"+i.m_chart.m_objectid).hide(),$("#loaderImageContentArrow"+i.m_chart.m_objectid).hide()))},Title.prototype.drawMenuSettingIcon=function(){var r=this,t=IsBoolean(this.m_chart.m_showmaximizebutton)||IsBoolean(this.m_chart.m_showlegends)&&IsBoolean(this.m_chart.m_fixedlegend)?this.m_chart.m_width-this.m_chart.fontScaling(25)-30:this.m_chart.m_width-this.m_chart.fontScaling(25),e=this.startY-this.m_chart.fontScaling(10),i=this.m_chart.fontScaling(16),t=this.m_chart.drawFontIcons("menuSettingImage","",t,e,"bd-settings-1",i),s=(r.m_chart.m_designMode||(t.onclick=function(){$("#MenuSettingTooltipDiv").remove(),IsBoolean(r.m_chart.isMenuSelected)?($("#menuContent"+r.m_chart.m_objectid).toggle("slide",{direction:"up"},200),r.m_chart.isMenuSelected=!1):(r.openMenu(),r.m_chart.isMenuSelected=!0)}),r.m_chart.formattedDescription(r.m_chart,"Actions")),n=selectGlobalFont(this.m_fontfamily),h=(IsBoolean(this.m_chart.m_showmaximizebutton)||IsBoolean(this.m_chart.m_showlegends)&&IsBoolean(this.m_chart.m_fixedlegend)?this.m_chart.fontScaling(50):this.m_chart.fontScaling(30),IsBoolean(this.m_chart.m_showmaximizebutton)||IsBoolean(this.m_chart.m_showlegends)&&IsBoolean(this.m_chart.m_fixedlegend)?"settingIcon":"minMax");this.startY;IsBoolean(isTouchEnabled)||r.m_chart.m_designMode||$("#menuSettingImage"+r.m_chart.m_objectid).hover(function(t){var e=document.getElementById("draggablesParentDiv"+r.m_chart.m_dashboard.m_id),i=(e.scrollLeft,e.scrollTop,$(e).offset()),o=i.top+$(e)[0].clientTop-$(e)[0].scrollTop,i=i.left+$(e)[0].clientLeft-$(e)[0].scrollLeft,e=t.pageY-t.offsetY+$(this)[0].offsetHeight-o+1+"px",o=t.pageX-t.offsetX+$(this)[0].offsetWidth/2-i+8+"px",a=document.createElement("div"),e=(a.innerHTML=s,a.setAttribute("class",h),a.setAttribute("placement","bottom"),a.setAttribute("id","MenuSettingTooltipDiv"),$(a).css({"font-family":n,"font-size":"12px",top:e,left:o,"z-index":1e4,border:"1px solid #e0dfdf",padding:"24px",position:"absolute","border-radius":"6px","background-color":"#ffffff"}),$("#draggablesParentDiv"+r.m_chart.m_dashboard.m_id).append(a),t.pageX-t.offsetX+$(this)[0].offsetWidth-a.offsetWidth-i+28+"px");$(a).css({left:e})},function(){$("#MenuSettingTooltipDiv").remove()})},Title.prototype.openMenu=function(){for(var e=this,t=this.m_chart.getTitleBarHeight()/2+7,i=IsBoolean(this.m_chart.m_showlegends)&&IsBoolean(this.m_chart.m_fixedlegend)||IsBoolean(this.m_chart.m_showmaximizebutton)?50:15,t=this.actionPaletteCss({id:"menuContent"+e.m_chart.m_objectid,cls:"legend",overflow:"auto",top:t+"px",height:"auto",width:"110px",right:i+"px"}),o=document.createElement("div"),i=($(o).css({width:"100%",height:"100%"}),$(t).append(o),this.getActionObjects()),a=getDuplicateArray(i.menuArray),r=getDuplicateArray(i.imgClass),s=0;s<a.length;s++){var n=a[s].replace(" ",""),h=document.createElement("div");switch(h.setAttribute("id",n+this.m_chart.m_objectid),$(h).css({height:"30px",borderBottom:"1px solid #dcdcdc",margin:"2px 0px",cursor:"pointer",fontFamily:selectGlobalFont(this.m_fontfamily)}),o.appendChild(h),a[s]){case"Show Data":$(h).click({menu:a[s]},function(t){e.m_chart.hideToolTip(),IsBoolean(e.showDataCondition())?e.m_chart.plugin.showData():alertPopUpModal({type:"info",message:"No data to display",timeout:"3000"})});break;case"Sort":$("#"+a[s]+this.m_chart.m_objectid).hover(function(){e.m_chart.hideToolTip(),e.openSortMenu(),$("#menuSortContent"+e.m_chart.m_objectid).hover(function(){$("#menuSortContent"+e.m_chart.m_objectid).removeClass("hidden")},function(){$("#menuSortContent"+e.m_chart.m_objectid).addClass("hidden")})},function(){$("#menuSortContent"+e.m_chart.m_objectid).addClass("hidden")});break;case"Export":$("#"+a[s]+this.m_chart.m_objectid).hover(function(){e.m_chart.hideToolTip(),e.openExportMenu(),$("#menuExportContent"+e.m_chart.m_objectid).hover(function(){$("#menuExportContent"+e.m_chart.m_objectid).removeClass("hidden")},function(){$("#menuExportContent"+e.m_chart.m_objectid).addClass("hidden")})},function(){$("#menuExportContent"+e.m_chart.m_objectid).addClass("hidden")});break;case"Chart":$("#"+a[s]+this.m_chart.m_objectid).hover(function(){e.m_chart.hideToolTip(),e.openDynamicChart(),$("#dynamicChart"+e.m_chart.m_objectid).hover(function(){$("#dynamicChart"+e.m_chart.m_objectid).removeClass("hidden")},function(){$("#dynamicChart"+e.m_chart.m_objectid).addClass("hidden")})},function(){$("#dynamicChart"+e.m_chart.m_objectid).addClass("hidden")})}var n=document.createElement("span"),n=(n.setAttribute("class",r[s]),$(n).css({width:"30%",height:"100%",padding:"8px",float:"left"}),h.appendChild(n),document.createElement("span")),l=($(n).css({width:"70%",height:"100%",float:"right"}),h.appendChild(n),document.createElement("text"));$(l).css({textAlign:"left",display:"block",fontSize:"12px",paddingLeft:"3px",paddingTop:"8px",textOverflow:"ellipsis",overflowX:"hidden",overflowY:"hidden"}),$(l).html(a[s]),n.appendChild(l)}},Title.prototype.openExportMenu=function(){var t=this.m_chart.getTitleBarHeight()/2+7,e=110+(IsBoolean(this.m_chart.m_showlegends)&&IsBoolean(this.m_chart.m_fixedlegend)||IsBoolean(this.m_chart.m_showmaximizebutton)?50:15),t=this.actionPaletteCss({id:"menuExportContent"+this.m_chart.m_objectid,cls:"legend",overflow:"auto",top:t+"px",height:"auto",width:"90px",right:e+"px"}),e=document.createElement("div");$(e).css({width:"100%",height:"100%"}),$(t).append(e),this.getMenuExportContent(e)},Title.prototype.getMenuExportContent=function(t){var e=this,i={label:[],icon:[]};this.m_chart.m_chartactions.export.actions.map(function(t){i.label.push(t.label),i.icon.push("bdmenuicon icons "+t.icon)});for(var o=0;o<i.label.length;o++){var a=document.createElement("div"),r=(a.setAttribute("id",i.label[o]+this.m_chart.m_objectid),$(a).css({height:"auto",width:"100%",display:"table",overfow:"hidden",margin:"2px 0px 2px 0px",borderBottom:"1px solid #dcdcdc",background:"#FFFFFF",fontFamily:selectGlobalFont(this.m_fontfamily)}),$(a).click({field:i.label[o]},function(t){void 0!==e.m_chart.getAllFieldsName()&&e.ExportPluginCall(t.data.field)}),t.appendChild(a),document.createElement("span")),r=(r.setAttribute("class",i.icon[o]),$(r).css({width:"30%",height:"100%",padding:"4px",float:"left"}),a.appendChild(r),document.createElement("span")),a=($(r).css({width:"70%",height:"100%",float:"right",padding:"6px 0px 6px 3px"}),a.appendChild(r),document.createElement("text"));$(a).css({display:"table-cell",fontSize:"12px",textOverflow:"ellipsis"}),$(a).html(i.label[o]),r.appendChild(a)}return t},Title.prototype.openSortMenu=function(){var t=this.m_chart.getTitleBarHeight()/2+7,e=110+(IsBoolean(this.m_chart.m_showlegends)&&IsBoolean(this.m_chart.m_fixedlegend)||IsBoolean(this.m_chart.m_showmaximizebutton)?50:15),t=this.actionPaletteCss({id:"menuSortContent"+this.m_chart.m_objectid,cls:"legend",overflow:"auto",top:t+"px",height:"auto",width:this.m_chart.m_sortpanelwidth+"px",right:e+"px"}),e=document.createElement("div"),e=($(e).css({width:"100%",padding:"0px 2px"}),$(t).append(e),this.getMenuSortContent(e),$(t).height()),i=this.m_chart.m_height-this.m_chart.getTitleBarHeight();i<+e&&$(t).css({height:i+"px"})},Title.prototype.getMenuSortContent=function(t){var i=this;this.menuSortArray=[],this.visibleFields=[],this.visibleFieldColor=[];for(var e=0;e<this.m_chart.getCategoryNames().length;e++)this.visibleFields.push(this.m_chart.getCategoryNames()[e]),this.visibleFieldColor.push(this.m_chart.getCategoryColorsForAction()[e]);for(var o=0;o<this.m_chart.getSeriesNames().length;o++)this.visibleFields.push(this.m_chart.getSeriesNames()[o]),this.visibleFieldColor.push(this.m_chart.getSeriesColorsForAction()[o]);this.menuSortArray=getDuplicateArray(this.visibleFields),0<this.menuSortArray.length&&this.menuSortArray.push("None");for(var a=!1,r=0;r<this.menuSortArray.length;r++){this.menuSortArray[r]=getStringARSC(this.menuSortArray[r]);var s=document.createElement("div"),n=(s.setAttribute("id",this.menuSortArray[r]+this.m_chart.m_objectid),$(s).css({height:"auto",width:"100%",display:"table",overfow:"hidden",margin:"2px 0px 2px 0px",borderBottom:"1px solid #dcdcdc",borderLeft:"2px solid "+this.visibleFieldColor[r],background:"#FFFFFF",fontFamily:selectGlobalFont(this.m_fontfamily)}),$(s).click({field:i.visibleFields[r],color:this.visibleFieldColor[r]},function(t){$(this).siblings().css({background:"#FFFFFF"}),$(this).css({background:hex2rgb(t.data.color,.1)});var e="";$(this).find(".sortingFieldsIcon").hasClass("bd-arrowup")?($(".sortingFields").find(".sortingFieldsIcon").removeClass("bd-arrowup").removeClass("bd-arrowdown"),$(this).find(".sortingFieldsIcon").addClass("bd-arrowdown"),i.m_selectedsortfield.name=t.data.field,i.m_selectedsortfield.icon="bd-arrowdown",e=i.m_chart.m_categoryNames&&i.m_chart.m_categoryNames[0]===t.data.field?"desc":"numdesc",i.SortingCall(t.data.field,e)):$(this).find(".sortingFieldsIcon").hasClass("bd-cross")?(i.SortingCall(t.data.field,"none"),i.m_selectedsortfield.name="",i.m_selectedsortfield.icon="bd-cross"):($(".sortingFields").find(".sortingFieldsIcon").removeClass("bd-arrowup").removeClass("bd-arrowdown"),$(this).find(".sortingFieldsIcon").addClass("bd-arrowup"),i.m_selectedsortfield.name=t.data.field,i.m_selectedsortfield.icon="bd-arrowup",e=i.m_chart.m_categoryNames&&i.m_chart.m_categoryNames[0]===t.data.field?"asc":"numasc",i.SortingCall(t.data.field,e))}),t.appendChild(s),document.createElement("span")),h=(n.setAttribute("userclass",r),$(n).css({width:"30%",height:"auto",padding:"6px",color:this.visibleFieldColor[r],fontSize:"12px",float:"right"}),s.appendChild(n),document.createElement("span")),l=($(h).css({width:"70%",height:"auto",padding:"6px 0px 6px 3px",float:"left"}),s.appendChild(h),document.createElement("text"));$(l).css({textAlign:"left",display:"table-cell",fontSize:"12px",textOverflow:"ellipsis"}),h.appendChild(l),"None"===this.menuSortArray[r]?(s.setAttribute("class","sort_None sortingFields"),$(s).css({borderBottom:"none"}),n.setAttribute("class",this.menuSortArray[r]+r+" "+this.m_chart.m_chartactions.sort.actions.icon[2]+" sortingFieldsIcon"),$(l).html(this.menuSortArray[r])):(s.setAttribute("class","sort_"+this.visibleFields[r]+" sortingFields"),this.m_selectedsortfield&&this.m_selectedsortfield.name===this.visibleFields[r]&&!IsBoolean(a)?(n.setAttribute("class",this.m_selectedsortfield.icon+" sortingFieldsIcon"),$(s).css({background:hex2rgb(this.visibleFieldColor[r],.1)}),a=!0):n.setAttribute("class","sortingFieldsIcon"),$(l).html(this.m_chart.getAllFieldsDisplayName()[r]))}},Title.prototype.showDataCondition=function(){if(void 0!==this.m_chart.getAllFieldsName()&&0<this.m_chart.getAllFieldsName().length)return!0},Title.prototype.actionPaletteCss=function(t){$("#"+t.id).remove();var e=document.createElement("div");return e.setAttribute("id",t.id),e.setAttribute("class",t.cls),$(e).css({overflow:t.overflow,top:t.top,height:t.height,right:t.right,width:t.width,zIndex:this.m_chart.m_zIndex+3,position:"absolute",visible:"hidden",cursor:"pointer"}),this.m_chart.m_draggableDiv.appendChild(e),e},Title.prototype.closeMenu=function(){$("#menuExportContent"+this.m_chart.m_objectid).addClass("hidden"),$("#menuContent"+this.m_chart.m_objectid).hide(),this.m_chart.isMenuSelected=!1},Title.prototype.SortingCall=function(t,e){var i=this.m_chart.m_referenceid;try{"none"===e?sdk.removeDataSetFilter(i):sdk.applyDataSetFilter(i,["order by ["+t+"] "+e]),sdk.reloadDataset([i])}catch(t){}},Title.prototype.ExportPluginCall=function(t){switch(this.closeMenu(),t){case"Excel":this.m_chart.plugin.exportToExcel();break;case"JPEG":this.m_chart.plugin.exportToJPEG();break;case"PNG":this.m_chart.plugin.exportToPNG();break;case"PDF":this.m_chart.plugin.exportToPDF();break;case"PPT":this.m_chart.plugin.exportToPPT()}},Title.prototype.drawMaxMinIcon=function(){var r=this,t=+this.m_chart.m_y+(this.m_titleBarHeight-this.getFontSize())/2+this.getFontSize()/2,e=this.m_chart.getXpoint(),t=t-this.m_chart.fontScaling(10),i=this.m_chart.fontScaling(16),o=(IsBoolean(isTouchEnabled)&&(t=22<=this.m_titleBarHeight?(this.m_titleBarHeight-22)/2:.5),r.m_chart.m_maxminiconscolor.maxiconcolor=r.m_fontcolor,r.m_chart.m_maxminiconscolor.miniconcolor=r.m_fontcolor,r.m_chart.m_maxminicons.maxiconshape='<?xml version="1.0" encoding="UTF-8"?><svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Icon/Maximise-" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Maximize" transform="translate(2.000000, 2.000000)" fill="'+r.m_chart.m_maxminiconscolor.maxiconcolor+'"><path d="M13,2 C12.4477,2 12,1.55228 12,1 C12,0.447715 12.4477,0 13,0 L19,0 C19.5523,0 20,0.447715 20,1 L20,7 C20,7.55228 19.5523,8 19,8 C18.4477,8 18,7.55228 18,7 L18,3.41421 L12.7071,8.70711 C12.3166,9.09763 11.6834,9.09763 11.2929,8.70711 C10.9024,8.31658 10.9024,7.68342 11.2929,7.29289 L16.5858,2 L13,2 Z M7.29289,11.2929 C7.68342,10.9024 8.31658,10.9024 8.70711,11.2929 C9.09763,11.6834 9.09763,12.3166 8.70711,12.7071 L3.41421,18 L7,18 C7.55228,18 8,18.4477 8,19 C8,19.5523 7.55228,20 7,20 L1,20 C0.447715,20 0,19.5523 0,19 L0,13 C0,12.4477 0.447715,12 1,12 C1.55228,12 2,12.4477 2,13 L2,16.5858 L7.29289,11.2929 Z" id="Shape"></path></g></g></svg>',r.m_chart.m_maxminicons.miniconshape='<?xml version="1.0" encoding="UTF-8"?><svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Icon/Minimise" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Minimize" transform="translate(2.000000, 2.000000)" fill="'+r.m_chart.m_maxminiconscolor.miniconcolor+'"><path d="M18.2929,0.292893 C18.6834,-0.0976311 19.3166,-0.0976311 19.7071,0.292893 C20.0976,0.683417 20.0976,1.31658 19.7071,1.70711 L14.4142,6.99999992 L18,6.99999992 C18.5523,6.99999992 19,7.44772 19,7.99999992 C19,8.55228 18.5523,8.99999992 18,8.99999992 L12,8.99999992 C11.4477,8.99999992 11,8.55228 11,7.99999992 L11,1.99999992 C11,1.44772 11.4477,0.999999925 12,0.999999925 C12.5523,0.999999925 13,1.44772 13,1.99999992 L13,5.58579 L18.2929,0.292893 Z M0.999999925,12 C0.999999925,11.4477 1.44772,11 1.99999992,11 L7.99999992,11 C8.55228,11 8.99999992,11.4477 8.99999992,12 L8.99999992,18 C8.99999992,18.5523 8.55228,19 7.99999992,19 C7.44772,19 6.99999992,18.5523 6.99999992,18 L6.99999992,14.4142 L1.70711,19.7071 C1.31658,20.0976 0.683417,20.0976 0.292893,19.7071 C-0.0976311,19.3166 -0.0976311,18.6834 0.292893,18.2929 L5.58579,13 L1.99999992,13 C1.44772,13 0.999999925,12.5523 0.999999925,12 Z" id="Shape"></path></g></g></svg>',r.m_chart.m_maxminicons.maxiconshape),a=r.m_chart.m_maxminicons.miniconshape,s=(r.m_chart.drawFontIcons("minmaxImage","",e,t,IsBoolean(r.m_chart.isMaximized)?a:o,i).onclick=function(){r.m_chart.m_designMode||($("#menuContent"+r.m_chart.m_objectid).remove(),r.m_chart.isMenuSelected=!1,IsBoolean(r.m_chart.isMaximized)?($("#MaximizeTooltipDiv").remove(),r.m_chart.hideToolTip(),r.m_chart.minimize()):($("#MaximizeTooltipDiv").remove(),r.m_chart.hideToolTip(),r.m_chart.maximize()))},IsBoolean(r.m_chart.isMaximized)?r.m_chart.m_minimizeicontitle:r.m_chart.m_maximizeicontitle),s=r.m_chart.formattedDescription(r.m_chart,s),n=selectGlobalFont(this.m_fontfamily);this.startY;IsBoolean(isTouchEnabled)||$("#minmaxImage"+r.m_chart.m_objectid).hover(function(t){var e,i,o,a;r.m_chart.m_designMode||((a=document.getElementById("draggablesParentDiv"+r.m_chart.m_dashboard.m_id)).scrollLeft,a.scrollTop,i=(e=$(a).offset()).top+$(a)[0].clientTop-$(a)[0].scrollTop,e=e.left+$(a)[0].clientLeft-$(a)[0].scrollLeft,a=t.pageY-t.offsetY+$(this)[0].offsetHeight-i+1+"px",i=t.pageX-t.offsetX+$(this)[0].offsetWidth/2-e+8+"px",(o=document.createElement("div")).innerHTML=s,o.setAttribute("class","minMax"),o.setAttribute("placement","bottom"),o.setAttribute("id","MaximizeTooltipDiv"),$(o).css({"font-family":n,"font-size":"14px",top:a,left:i,"z-index":1e4,border:"0px solid #e0dfdf",padding:"24px",position:"absolute","border-radius":"6px",color:"#494950","background-color":"#ffffff"}),$("#draggablesParentDiv"+r.m_chart.m_dashboard.m_id).append(o),a=t.pageX-t.offsetX+$(this)[0].offsetWidth-o.offsetWidth-e+3+"px",$(o).css({left:a}))},function(){$("#MaximizeTooltipDiv").remove()})},Title.prototype.openDynamicChart=function(){var t=this.m_chart.getTitleBarHeight()/2+7,e=110+(IsBoolean(this.m_chart.m_showlegends)&&IsBoolean(this.m_chart.m_fixedlegend)||IsBoolean(this.m_chart.m_showmaximizebutton)?50:15),t=this.actionPaletteCss({id:"dynamicChart"+this.m_chart.m_objectid,cls:"legend",overflow:"auto",top:t+"px",height:"auto",width:"90px",right:e+"px"}),e=document.createElement("div");$(e).css({width:"100%",height:"100%"}),$(t).append(e),this.getDynamicChartContent(e)},Title.prototype.dynamicComponentJson=function(data,compName){var temp=this,dynChart=eval(Object.keys(data)[0]),chartConf=new dynChart;chartConf.m_actionChartObject=this.m_chart.m_actionChartObject,data[Object.keys(data)[0]].Properties.Object=this.updateChartObjectDynamic(data[Object.keys(data)[0]].Properties.Object,compName,chartConf),chartConf.m_chartContainer=temp.m_chart.m_chartContainer,chartConf.oldoffset_left=temp.m_chart.oldoffset_left,chartConf.oldoffset_top=temp.m_chart.oldoffset_top,chartConf.oldm_width=temp.m_chart.oldm_width,chartConf.oldm_height=temp.m_chart.oldm_height,chartConf.isMaximized=temp.m_chart.isMaximized,chartConf.m_dashboard=temp.m_chart.m_dashboard,chartConf.m_zIndex=IsBoolean(temp.m_chart.isMaximized)?""!==temp.m_chart.m_dashboard?+temp.m_chart.m_dashboard.m_widgetsArray.length+3:temp.m_chart.m_zIndex:void 0===temp.m_chart.oldzindex?temp.m_chart.m_zIndex:temp.m_chart.oldzindex,chartConf.oldzindex=IsBoolean(temp.m_chart.isMaximized)?temp.m_chart.m_zIndex:temp.m_chart.oldzindex,chartConf.setProperty(data[Object.keys(data)[0]].Properties),chartConf.setDataProvider(chartConf.m_actionChartObject.m_dataProvider),chartConf.setFields(this.updateChartFieldDynamic(compName,chartConf)),chartConf.draw()},Title.prototype.updateChartFieldDynamic=function(t,e){for(var i=e.m_actionChartObject.m_fieldsJson,o=0;o<i.length;o++){var a=i[o];switch(t){case"Area":case"Bar":break;case"Bubble":"Series"===a.Type&&(a.ChartType="line",a.LineWidth="0",a.isFixedRadius=!1,a.RadiusField=a.Name);break;case"Column":a.ChartType="column";break;case"Line":"Series"===a.Type&&(a.ChartType="line",a.isFixedRadius=!0,a.LineWidth="1")}}return i},Title.prototype.updateChartObjectDynamic=function(t,e,i){var o,a=this,r={objectID:i.m_actionChartObject.m_objectId,height:a.m_chart.m_height,width:a.m_chart.m_width,x:IsBoolean(a.m_chart.isMaximized)?"10":void 0===a.m_chart.oldoffset_left?a.m_chart.chartJson.x:a.m_chart.oldoffset_left,y:IsBoolean(a.m_chart.isMaximized)?"10":void 0===a.m_chart.oldoffset_top?a.m_chart.chartJson.y:a.m_chart.oldoffset_top,subElement:{Globalkey:{invalidComp:["none"],value:i.m_actionChartObject.m_globalkey},showSettingMenuButton:{invalidComp:["none"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].showSettingMenuButton},Title:{invalidComp:["none"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].Title},SubTitle:{invalidComp:["none"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].SubTitle},xAxis:{invalidComp:["Spider"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].xAxis},yAxis:{invalidComp:["Spider"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].yAxis},designData:{invalidComp:["none"],value:i.m_actionChartObject.chartJson.m_designdata},bgGradients:{invalidComp:["none"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].bgGradients},bgGradientRotation:{invalidComp:["none"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].bgGradientRotation},borderColor:{invalidComp:["none"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].borderColor},borderRadius:{invalidComp:["none"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].borderRadius},borderThickness:{invalidComp:["none"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].borderThickness},autoaxisSetup:{invalidComp:["Pie","Spider"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].autoaxisSetup},baseZero:{invalidComp:["Pie","Spider"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].baseZero},minimumAxisValue:{invalidComp:["Pie","Spider"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].minimumAxisValue},maximumAxisValue:{invalidComp:["Pie","Spider"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].maximumAxisValue},zeroMarkerLine:{invalidComp:["Pie","Spider"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].zeroMarkerLine},zeroMarkerColor:{invalidComp:["Pie","Spider"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].zeroMarkerColor},shadowOpacity:{invalidComp:["none"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].shadowOpacity},shadowColor:{invalidComp:["none"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].shadowColor},Unit:{invalidComp:["none"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].Unit},Precision:{invalidComp:["none"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].Precision},SecondaryUnit:{invalidComp:["none"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].SecondaryUnit},SignPosition:{invalidComp:["none"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].SignPosition},NumberFormatter:{invalidComp:["none"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].NumberFormatter},showLegends:{invalidComp:["none"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].showLegends},legendfontColor:{invalidComp:["none"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].legendfontColor},legendfontWeight:{invalidComp:["none"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].legendfontWeight},legendfontSize:{invalidComp:["none"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].legendfontSize},legendfontFamily:{invalidComp:["none"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].legendfontFamily},legendfontStyle:{invalidComp:["none"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].legendfontStyle},legendtextDecoration:{invalidComp:["none"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].legendtextDecoration},hideLegendOnStart:{invalidComp:["none"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].hideLegendOnStart},CustomTextBoxForToolTip:{invalidComp:["none"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].CustomTextBoxForToolTip},tooltipBackgroundColor:{invalidComp:["none"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].tooltipBackgroundColor},tooltipBackgroundTransparency:{invalidComp:["none"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].tooltipBackgroundTransparency},tooltipBorderColor:{invalidComp:["none"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].tooltipBorderColor},tooltipFontSize:{invalidComp:["none"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].tooltipFontSize},customTooltipWidth:{invalidComp:["none"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].customTooltipWidth},tooltipPrecision:{invalidComp:["none"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].tooltipPrecision},tooltipHighlighter:{invalidComp:["none"],value:i.m_actionChartObject.chartJson[i.m_actionChartObject.m_subelement].tooltipHighlighter}}};for(o in r)if("subElement"===o)for(var s in r.subElement)r.subElement[s].invalidComp.indexOf(t[t.subElement].Type)<0&&void 0!==r.subElement[s].value&&(t[t.subElement][s]=r.subElement[s].value);else t[o]=r[o];return t},Title.prototype.getDynamicChartContent=function(t){var o=this,e={dChart:[],dClass:[],icon:[]};this.m_chart.m_chartactions.chartviews.actions.map(function(t){e.dChart.push(t.dChart),e.dClass.push(t.dClass),e.icon.push("bdmenuicon icons "+t.icon)}),this.m_chart.m_actionChartObject=""===this.m_chart.m_actionChartObject?this.m_chart:this.m_chart.m_actionChartObject;for(var i=0;i<e.dChart.length;i++){var a=document.createElement("div"),r=(a.setAttribute("id",e.dChart[i]+this.m_chart.m_objectid),$(a).css({height:"auto",width:"100%",display:"table",overfow:"hidden",margin:"2px 0px 2px 0px",borderBottom:"1px solid #dcdcdc",background:"#ffffff",fontFamily:selectGlobalFont(this.m_fontfamily)}),$(a).click({field:e.dClass[i],CompName:e.dChart[i]},function(t){var i;"actionChart"!==t.data.field?(i={type:"get",url:dGlobals.componentJSUrl+"charts/"+t.data.field+".js",data:t.data,cache:!0},$.when($.ajax(i)).then(function(t,e){o.loadDataFile(i.data)})):o.m_chart.m_actionChartObject&&""!=o.m_chart.m_actionChartObject&&sdk.reloadDataset([o.m_chart.m_actionChartObject.m_referenceid])}),t.appendChild(a),document.createElement("span")),r=(r.setAttribute("class",e.icon[i]),$(r).css({width:"30%",height:"100%",padding:"4px",float:"left"}),a.appendChild(r),document.createElement("span")),a=($(r).css({width:"70%",height:"100%",float:"right",padding:"6px 0px 6px 3px"}),a.appendChild(r),document.createElement("text"));$(a).css({display:"table-cell",fontSize:"12px",textOverflow:"ellipsis"}),$(a).html(e.dChart[i]),r.appendChild(a)}return t},Title.prototype.loadDataFile=function(t){var i=this,o={type:"get",url:dGlobals.componentJSONUrl+"default-theme/chart/"+t.field+".data",data:t.CompName,cache:!0};$.when($.ajax(o)).then(function(t,e){i.dynamicComponentJson(JSON.parse(t),o.data)})},Title.prototype.getActionObjects=function(){var t,e={menuArray:[],imgClass:[]};for(t in this.updateActionObjects(),this.m_chart.m_chartactions)IsBoolean(this.m_chart.m_chartactions[t].enable)&&(e.menuArray.push(this.m_chart.m_chartactions[t].properties.label),e.imgClass.push(this.m_chart.m_chartactions[t].properties.icon));return e},Title.prototype.updateActionObjects=function(){switch(this.m_chart.m_type){case"Pie":IsBoolean(this.m_chart.m_isCategoryAvailable)&&!IsBoolean(this.m_chart.m_slicelimit)||(this.m_chart.m_actionsort=!1);break;case"Timeline":"timeseries"===this.m_chart.m_charttype&&(this.m_chart.m_actionsort=!1)}this.m_chart.m_chartactions.showdata.enable=this.m_chart.m_actionshowdata,this.m_chart.m_chartactions.sort.enable=this.m_chart.m_actionsort,this.m_chart.m_chartactions.export.enable=this.m_chart.m_actionexport,this.m_chart.m_chartactions.chartviews.enable=this.m_chart.m_actionchartviews},SubTitle.prototype=new TitleText,SubTitle.prototype.getShowSubTitle=function(){return this.m_showsubtitle},SubTitle.prototype.init=function(t){this.m_chart=t,this.ctx=this.m_chart.ctx,this.m_globalCalculation=this.m_chart.m_globalCalculation,this.m_fontColor=convertColorToHex(this.getFontColor());t=this.getDescription(),this.m_formattedDescription=this.m_chart.m_designMode?t:this.m_chart.formattedDescription(this.m_chart,t),this.m_formattedDescription=this.calculatedDescription(this.m_formattedDescription,IsBoolean(this.m_chart.m_subtitletextwrap)),this.maxIconWidth=IsBoolean(this.m_chart.m_showmaximizebutton)?45:0,this.legendIconWidth=IsBoolean(this.m_chart.m_showlegends)&&(IsBoolean(this.m_chart.getTitle().m_showtitle)||IsBoolean(this.m_chart.m_showgradient))?30:0,this.startX=this.checkAlign(),t=IsBoolean(this.m_chart.m_updateddesign)?13:5,t=IsBoolean(this.m_chart.getTitle().m_showtitle)||IsBoolean(this.m_chart.m_showgradient)?+this.m_chart.getTitle().m_titleBarHeight+t:t;this.m_titleMargin=t,this.startY=+this.m_chart.m_y+t+2*this.getFontSize()/3},SubTitle.prototype.draw=function(){IsBoolean(this.m_chart.m_subTitle.m_showsubtitle)&&(IsBoolean(this.m_chart.m_enablehtmlformate.subtitle)?this.drawSubTitleTextInHTML():this.drawText(),this.drawUnderLine(this.m_formattedDescription))},SubTitle.prototype.drawSubTitleTextInHTML=function(){$("#subTitle"+this.m_chart.m_objectid).remove();var t=document.createElement("div"),e=document.createElement("span"),i=(t.setAttribute("id","subTitle"+this.m_chart.m_objectid),e.innerHTML=this.m_chart.formattedDescription(this.m_chart,this.getDescription()),IsBoolean(this.m_chart.m_showmaximizebutton)?+this.maxIconWidth:0),i=IsBoolean(this.m_chart.m_showsettingmenubutton)?25+i:0+i,o=this.m_titleMargin;e.setAttribute("style","display: inline-block; vertical-align: top; line-height: 1.1;text-decoration:inherit; height:"+this.m_subTitleBarHeight+"px; "),t.setAttribute("style","position: absolute;top:"+o+"px;left:0px;width:calc(100% - "+i+"px);padding-left:"+this.m_chartLeftRightMargin+"px;font-family:"+this.getFontFamily()+";font-style:"+this.getFontStyle()+";font-size:"+this.m_chart.fontScaling(this.getFontSize())+"px;font-weight:"+this.getFontWeight()+";color:"+this.m_fontColor+";text-align:"+this.getAlign()+";text-decoration:"+this.getTextDecoration()+";overflow: hidden;white-space: nowrap;text-overflow: ellipsis;"),$(t).append(e),$("#draggableDiv"+this.m_chart.m_objectid).append(t)},TitleText.prototype.init=function(){},TitleText.prototype.getFontSize=function(){return this.m_fontsize},TitleText.prototype.setFontSize=function(t){this.m_fontsize=t},TitleText.prototype.getFontWeight=function(){return this.m_fontweight},TitleText.prototype.setFontWeight=function(t){this.m_fontweight=t},TitleText.prototype.getFontFamily=function(){return selectGlobalFont(this.m_fontfamily)},TitleText.prototype.setFontFamily=function(t){this.m_fontfamily=t},TitleText.prototype.getFontStyle=function(){return this.m_fontstyle},TitleText.prototype.setFontStyle=function(t){this.m_fontstyle=t},TitleText.prototype.getFontColor=function(){return this.m_fontcolor},TitleText.prototype.setFontColor=function(t){this.m_fontcolor=t},TitleText.prototype.getTextAlign=function(){return this.m_textalign},TitleText.prototype.setTextAlign=function(t){this.m_textalign=t},TitleText.prototype.getAlign=function(){return this.m_align},TitleText.prototype.setAlign=function(t){this.m_align=t},TitleText.prototype.getTextDecoration=function(){return this.m_textdecoration},TitleText.prototype.setTextDecoration=function(t){this.m_textdecoration=t},TitleText.prototype.getDescription=function(){return this.m_description},TitleText.prototype.setDescription=function(t){this.m_description=t},TitleText.prototype.checkAlign=function(){switch(this.m_chartLeftRightMargin=IsBoolean(this.m_chart.m_updateddesign)?7:this.m_chartLeftRightMargin,this.getAlign()){case"center":this.startX=+this.m_chart.m_x+this.m_chart.m_width/2*1;break;case"left":this.startX=+this.m_chart.m_x+2*this.m_chartLeftRightMargin+2;break;case"right":this.startX=+this.m_chart.m_x+ +this.m_chart.m_width-+this.m_chartLeftRightMargin-this.maxIconWidth-this.legendIconWidth-+this.m_chartLeftRightMargin;break;case"justify":this.startX=+this.m_chart.m_x+ +this.m_chartLeftRightMargin}return this.startX},TitleText.prototype.calculatedDescription=function(t,e){var i=t.split("\\n"),o="";if(3<i.length){for(var a=[],r=0;r<i.length;r++)r<2?a.push(i[r]):(o+=i[r],r==i.length-1&&a.push(o));i=a}for(var s=0;s<i.length;s++){var n=i[s];try{this.ctx.beginPath(),this.ctx.font=this.getFontStyle()+" "+this.getFontWeight()+" "+this.m_chart.fontScaling(this.getFontSize())+"px "+this.getFontFamily();var h=this.ctx.measureText(n).width;if((IsBoolean(this.m_chart.m_showmaximizebutton)?+this.m_chart.m_width-20:this.m_chart.m_width)<h){var l="";0<n.length&&(p=h/n.length*3+2*this.m_chartLeftRightMargin+12,IsBoolean(this.m_chart.m_showmaximizebutton)?p=IsBoolean(this.m_chart.m_showsettingmenubutton)?+p+30:+p+20:IsBoolean(this.m_chart.m_showsettingmenubutton)&&(p=+p+30),p=IsBoolean(this.m_chart.m_showmaximizebutton)?+p+20:p);for(var c=0;c<n.length;c++){if(!(this.ctx.measureText(l).width<this.m_chart.m_width-p)){l+="...";break}l+=n[c]}n=l}this.ctx.closePath()}catch(t){}i[s]=n}var r=0,m=null!=this.m_titleBarHeight?this.m_titleBarHeight:null!=this.m_subTitleBarHeight?this.m_subTitleBarHeight:3,d=Math.min(3,Math.floor(m/(1.1*this.m_fontsize)));if(-1==t.indexOf("\\n")&&IsBoolean(e)){n=t;try{this.ctx.beginPath(),this.ctx.font=this.getFontStyle()+" "+this.getFontWeight()+" "+this.m_chart.fontScaling(this.getFontSize())+"px "+this.getFontFamily();h=this.ctx.measureText(n).width;if((IsBoolean(this.m_chart.m_showmaximizebutton)?+this.m_chart.m_width-48:this.m_chart.m_width)<h){var p,l="";0<n.length&&(p=h/n.length*3+2*this.m_chartLeftRightMargin,IsBoolean(this.m_chart.m_showmaximizebutton)?p=IsBoolean(this.m_chart.m_showsettingmenubutton)?+p+30:+p+20:IsBoolean(this.m_chart.m_showsettingmenubutton)&&(p=+p+30),p=(IsBoolean(this.m_chart.m_showmaximizebutton)?+p+28:p)+("knowledge_graph_chart"===this.m_chart.m_componenttype?20:0));for(c=0;c<n.length;c++)if(this.ctx.measureText(l).width<this.m_chart.m_width-p&&c==n.length-1)l+=n[c],i[r]=l;else if(this.ctx.measureText(l).width<this.m_chart.m_width-p)l+=n[c];else if(r<d&&(i[r]=l,l=""+n[c],++r==d))break}this.ctx.closePath()}catch(t){}}return i},TitleText.prototype.drawText=function(){try{for(var t=0;t<this.m_formattedDescription.length;t++){this.ctx.beginPath(),this.ctx.font=this.getFontStyle()+" "+this.getFontWeight()+" "+this.m_chart.fontScaling(this.getFontSize())+"px "+this.getFontFamily(),this.ctx.textAlign=this.getAlign(),this.ctx.fillStyle=this.m_fontColor;var e=0==t?this.startY+this.m_chart.fontScaling(this.getFontSize())*t:this.startY+this.m_chart.fontScaling(this.getFontSize())*t+this.m_chart.fontScaling(2*t);this.ctx.fillText(this.m_formattedDescription[t],this.startX,e),this.ctx.closePath()}}catch(t){}},TitleText.prototype.drawTitleTextInHTML=function(){var t=this,e=($("#title"+this.m_chart.m_objectid).remove(),document.createElement("div")),i=document.createElement("span"),o=(e.setAttribute("id","title"+this.m_chart.m_objectid),i.innerHTML=this.m_chart.formattedDescription(this.m_chart,this.getDescription()),e.style.height=this.m_chart.fontScaling(t.m_titlebarheight)+"px",IsBoolean(this.m_chart.m_showmaximizebutton)?+t.maxIconWidth:0),o=IsBoolean(this.m_chart.m_showsettingmenubutton)?25+o:0+o;i.setAttribute("style","display: inline-block; vertical-align: middle; line-height: 1.1;text-decoration:inherit;"),e.setAttribute("style","position: absolute; top:0px; left:0px;height:"+this.m_chart.fontScaling(t.m_titlebarheight)+"px;width:calc(100% - "+o+"px);line-height:"+this.m_chart.fontScaling(t.m_titlebarheight)+"px;padding-left:"+t.m_chartLeftRightMargin+"px;font-family:"+this.getFontFamily()+";font-style:"+this.getFontStyle()+";font-size:"+this.m_chart.fontScaling(this.getFontSize())+"px;font-weight:"+this.getFontWeight()+";color:"+this.m_fontColor+";text-align:"+this.getAlign()+";text-decoration:"+this.getTextDecoration()+";overflow: hidden;white-space: nowrap;text-overflow: ellipsis;"),$(e).append(i),$("#draggableDiv"+t.m_chart.m_objectid).append(e)},TitleText.prototype.drawUnderLine=function(t){if("underline"===this.getTextDecoration().toLowerCase())for(var e,i,o=2*heightRatio,a=0,r=0,s=0;s<t.length;s++){this.ctx.beginPath(),this.ctx.font=this.getFontStyle()+" "+this.getFontWeight()+" "+this.m_chart.fontScaling(this.getFontSize())+"px "+this.getFontFamily();var n=this.ctx.measureText(t[s]).width;switch(this.ctx.closePath(),e=+this.startY+o+this.m_chart.fontScaling(this.getFontSize())/2,0==s?e+=this.m_chart.fontScaling(this.getFontSize())*s:e=e+this.m_chart.fontScaling(this.getFontSize())*s+this.m_chart.fontScaling(2*s),i=e,this.m_align){case"center":a=this.startX-n/2,r=+this.startX+n/2*1;break;case"right":a=this.startX-n,r=this.startX;break;default:a=this.startX,r=+this.startX+ +n}this.ctx.beginPath(),this.ctx.lineWidth=.5,this.ctx.strokeStyle=this.m_fontColor,this.ctx.moveTo(a,e),this.ctx.lineTo(r,i),this.ctx.stroke(),this.ctx.closePath()}},TextUtil.prototype.getFontProperties=function(t,e,i,o){return t+" "+e+" "+i+"px "+(o=selectGlobalFont(o))},TextUtil.prototype.drawText=function(t,e,i,o,a,r,s){t.font=a,t.textAlign=r,t.fillStyle=s,t.fillText(e,i,o)},Util.prototype.getFormatterSymbol=function(formatter,unit){var unitSymbol="";try{eval("unitSymbol = this.get"+formatter+"Symbol(unit);")}catch(e){}return unitSymbol},Util.prototype.getCurrencySymbol=function(t){switch(t.toLowerCase()){case"cent":return"";case"euro":return"";case"ind":return"Rs.";case"rupees":return"";case"pound":return"";case"usd":return"$";case"yen":return"";default:return""}},Util.prototype.getNumberSymbol=function(t){switch(t.toLowerCase()){case"percent":return"%";case"auto":return"auto";case"thousand":case"thousands":return"K";case"million":case"millions":return"M";case"billion":case"billions":return"B";case"trillion":case"trillions":return"T";case"quadrillion":case"quadrillions":return"Q";case"lac":return"Lacs";case"crore":return"Cr";default:return""}},Util.prototype.getTimeSymbol=function(t){return""},Util.prototype.getDateSymbol=function(t){return""},Util.prototype.updateTextWithFormatter=function(t,e,i){var o;switch(e){case"K":o=+t/1e3;break;case"M":o=+t/1e6;break;case"B":o=+t/1e9;break;case"T":o=+t/1e12;break;case"Q":o=+t/1e15;break;case"Lacs":o=+t/1e5;break;case"Cr":o=+t/1e7;break;default:o=+t}return 0!==o&&"default"!==i?(+o).toFixed(i):+o},Util.prototype.addFormatter=function(text,unitSymbol,signPosition){try{eval("text = this.addUnitAs"+signPosition+"( text , unitSymbol )")}catch(e){}return text},Util.prototype.addUnitAssuffix=function(t,e){return t+e},Util.prototype.addUnitAsprefix=function(t,e){return t&&0==(""+t).indexOf("-")?(""+t).replace("-","-"+e):e+t},CanvasRenderingContext2D.prototype.curve=function(t,e,i,o){"use strict";e="number"==typeof e?e:.5;for(var a=i,r=t.length,s=0,n=new Float32Array((r-2)*a+2),h=new Float32Array(4*(a+2)),l=t.slice(0),c=(l.unshift(t[1]),l.unshift(t[0]),l.push(t[r-2],t[r-1]),4),m=h[0]=1;m<a;m++){var d=m/a,p=d*d,_=p*d,u=2*_,g=3*p;h[c++]=u-g+1,h[c++]=g-u,h[c++]=_-2*p+d,h[c++]=_-p}h[++c]=1;for(m=2;m<r;m+=2)for(var f=l[m],b=l[m+1],x=l[m+2],y=l[m+3],v=(x-l[m-2])*e,C=(y-l[m-1])*e,w=(l[m+4]-f)*e,T=(l[m+5]-b)*e,S=0;S<a;S++){var A=S<<2,D=h[A],k=h[1+A],F=h[2+A],A=h[3+A];n[s++]=D*f+k*x+F*v+A*w,n[s++]=D*b+k*y+F*C+A*T}if(r=t.length-2,n[s++]=t[r],n[s]=t[r+1],void 0!==o&&"Area"===o.m_chart.m_type){for(this.moveTo(n[0],o.m_chart.basePoint),this.lineTo(n[0],n[1]),m=0,r=n.length;m<r;m+=2)this.lineTo(n[m],n[m+1]);this.lineTo(n[n.length-2],o.m_chart.basePoint)}else for(m=0,r=n.length;m<r;m+=2)this.lineTo(n[m],n[m+1]);return n},!function(){var e=["fillStyle","font","globalAlpha","globalCompositeOperation","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline"];function a(t,e){for(var i=t.length,o=0;o<i;o++)e(t[o],o)}function r(t,e){e=Math.pow(10,e);return Math.round(t*e)/e}function s(t){return"number"==typeof t}function i(t){var i=this;this._stack=[],this.context=t,a(e,function(e,t){Object.defineProperty(i,e,{get:function(){return i.context[e]},set:function(t){i._pushAttr(e,t),i.context[e]=t}})})}var o;i.prototype={stack:function(t){var e=(t=t||{}).loose,i=void 0===t.decimalPoints?3:t.decimalPoints,o=[];return a(this._stack,e?function(t,e){o.push(t.method||t.attr)}:function(t,e){t.method?o.push({method:t.method,arguments:function(t,e){for(var i=t.length,o=[],a=0;a<i;a++)s(t[a])?o.push(r(t[a],e)):o.push(t[a]);return o}(t.arguments,i)}):t.attr&&o.push({attr:t.attr,val:s(t.val)?r(t.val,i):t.val})}),o},json:function(t){return JSON.stringify(this.stack(t))},hash:function(t){return i.md5(this.json(t))},clear:function(){this._stack=[]},_pushMethod:function(t,e){this._stack.push({method:t,arguments:Array.prototype.slice.call(e,0)}),this._slice()},_pushAttr:function(t,e){this._stack.push({attr:t,val:e}),this._slice()},_slice:function(){var t=this._stack,e=t.length-i.globals.STACK_SIZE;0<e&&(this._stack=t.slice(e))}};var t,n,h=CanvasRenderingContext2D.prototype;for(t in h)n=Object.getOwnPropertyDescriptor(CanvasRenderingContext2D.prototype,t),n=n&&n.value?h[t]:null,(n=n)&&"[object Function]"==={}.toString.call(n)&&function(t){i.prototype[t]=function(){return this._pushMethod(t,arguments),this.context[t].apply(this.context,arguments)}}(t);i.globals={STACK_SIZE:2e4},o=HTMLCanvasElement.prototype.getContext,HTMLCanvasElement.prototype.getContext=function(){var t=o.apply(this,arguments);return"screenShotTempCanvas"==this.className?t:t&&(t.canteen||(t.canteen=new i(t),t.canteen))},window.Canteen=i}(),!function(t){"use strict";function m(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}function n(t,e,i,o,a,r){return m((e=m(m(e,t),m(o,r)))<<a|e>>>32-a,i)}function d(t,e,i,o,a,r,s){return n(e&i|~e&o,t,e,a,r,s)}function p(t,e,i,o,a,r,s){return n(e&o|i&~o,t,e,a,r,s)}function _(t,e,i,o,a,r,s){return n(e^i^o,t,e,a,r,s)}function u(t,e,i,o,a,r,s){return n(i^(e|~o),t,e,a,r,s)}function s(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var i,o,a,r,s=1732584193,n=-271733879,h=-1732584194,l=271733878,c=0;c<t.length;c+=16)s=d(i=s,o=n,a=h,r=l,t[c],7,-680876936),l=d(l,s,n,h,t[c+1],12,-389564586),h=d(h,l,s,n,t[c+2],17,606105819),n=d(n,h,l,s,t[c+3],22,-1044525330),s=d(s,n,h,l,t[c+4],7,-176418897),l=d(l,s,n,h,t[c+5],12,1200080426),h=d(h,l,s,n,t[c+6],17,-1473231341),n=d(n,h,l,s,t[c+7],22,-45705983),s=d(s,n,h,l,t[c+8],7,1770035416),l=d(l,s,n,h,t[c+9],12,-1958414417),h=d(h,l,s,n,t[c+10],17,-42063),n=d(n,h,l,s,t[c+11],22,-1990404162),s=d(s,n,h,l,t[c+12],7,1804603682),l=d(l,s,n,h,t[c+13],12,-40341101),h=d(h,l,s,n,t[c+14],17,-1502002290),s=p(s,n=d(n,h,l,s,t[c+15],22,1236535329),h,l,t[c+1],5,-165796510),l=p(l,s,n,h,t[c+6],9,-1069501632),h=p(h,l,s,n,t[c+11],14,643717713),n=p(n,h,l,s,t[c],20,-373897302),s=p(s,n,h,l,t[c+5],5,-701558691),l=p(l,s,n,h,t[c+10],9,38016083),h=p(h,l,s,n,t[c+15],14,-660478335),n=p(n,h,l,s,t[c+4],20,-405537848),s=p(s,n,h,l,t[c+9],5,568446438),l=p(l,s,n,h,t[c+14],9,-1019803690),h=p(h,l,s,n,t[c+3],14,-187363961),n=p(n,h,l,s,t[c+8],20,1163531501),s=p(s,n,h,l,t[c+13],5,-1444681467),l=p(l,s,n,h,t[c+2],9,-51403784),h=p(h,l,s,n,t[c+7],14,1735328473),s=_(s,n=p(n,h,l,s,t[c+12],20,-1926607734),h,l,t[c+5],4,-378558),l=_(l,s,n,h,t[c+8],11,-2022574463),h=_(h,l,s,n,t[c+11],16,1839030562),n=_(n,h,l,s,t[c+14],23,-35309556),s=_(s,n,h,l,t[c+1],4,-1530992060),l=_(l,s,n,h,t[c+4],11,1272893353),h=_(h,l,s,n,t[c+7],16,-155497632),n=_(n,h,l,s,t[c+10],23,-1094730640),s=_(s,n,h,l,t[c+13],4,681279174),l=_(l,s,n,h,t[c],11,-358537222),h=_(h,l,s,n,t[c+3],16,-722521979),n=_(n,h,l,s,t[c+6],23,76029189),s=_(s,n,h,l,t[c+9],4,-640364487),l=_(l,s,n,h,t[c+12],11,-421815835),h=_(h,l,s,n,t[c+15],16,530742520),s=u(s,n=_(n,h,l,s,t[c+2],23,-995338651),h,l,t[c],6,-198630844),l=u(l,s,n,h,t[c+7],10,1126891415),h=u(h,l,s,n,t[c+14],15,-1416354905),n=u(n,h,l,s,t[c+5],21,-57434055),s=u(s,n,h,l,t[c+12],6,1700485571),l=u(l,s,n,h,t[c+3],10,-1894986606),h=u(h,l,s,n,t[c+10],15,-1051523),n=u(n,h,l,s,t[c+1],21,-2054922799),s=u(s,n,h,l,t[c+8],6,1873313359),l=u(l,s,n,h,t[c+15],10,-30611744),h=u(h,l,s,n,t[c+6],15,-1560198380),n=u(n,h,l,s,t[c+13],21,1309151649),s=u(s,n,h,l,t[c+4],6,-145523070),l=u(l,s,n,h,t[c+11],10,-1120210379),h=u(h,l,s,n,t[c+2],15,718787259),n=u(n,h,l,s,t[c+9],21,-343485551),s=m(s,i),n=m(n,o),h=m(h,a),l=m(l,r);return[s,n,h,l]}function h(t){for(var e="",i=0;i<32*t.length;i+=8)e+=String.fromCharCode(t[i>>5]>>>i%32&255);return e}function l(t){var e,i=[];for(i[(t.length>>2)-1]=void 0,e=0;e<i.length;e+=1)i[e]=0;for(e=0;e<8*t.length;e+=8)i[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return i}function o(t){for(var e,i="0123456789abcdef",o="",a=0;a<t.length;a+=1)e=t.charCodeAt(a),o+=i.charAt(e>>>4&15)+i.charAt(15&e);return o}function c(t){return unescape(encodeURIComponent(t))}function a(t){return h(s(l(t=c(t)),8*t.length))}function r(t,e){var i,t=c(t),e=c(e),o=l(t),a=[],r=[];for(a[15]=r[15]=void 0,16<o.length&&(o=s(o,8*t.length)),i=0;i<16;i+=1)a[i]=909522486^o[i],r[i]=1549556828^o[i];return t=s(a.concat(l(e)),512+8*e.length),h(s(r.concat(t),640))}function e(t,e,i){return e?i?r(e,t):o(r(e,t)):i?a(t):o(a(t))}"function"==typeof define&&define.amd?define(function(){return e}):t.md5=e}(Canteen);var XDate=function(s,h,o,l){var c=0,m=1,d=2,p=3,_=4,u=5,g=6,f=7,n=864e5,t="yyyy-MM-dd'T'HH:mm:ss(.fff)",e=t+"zzz",b=["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds","Day","Year"],a=["Years","Months","Days"],x=[12,31,24,60,60,1e3,1],N=new RegExp("(([a-zA-Z])\\2*)|(\\((('.*?'|\\(.*?\\)|.)*?)\\))|('(.*?)')"),r=s.UTC,y=s.prototype.toUTCString,v=C.prototype;function C(){var t,e=this instanceof C?this:new C,i=arguments,o=i.length;return L(i[o-1])&&(t=i[--o],i=I(i,0,o)),o?1===o?(o=i[0])instanceof s||"number"==typeof o?e[0]=new s(+o):o instanceof C?e[0]=function(t){var e=new s(+t[0]);w(t)&&(e.toString=y);return e}(o):R(o)&&(e[0]=new s(0),e=function(t,e,i){for(var o,a=C.parsers,r=0;r<a.length;r++)if(o=a[r](t,e,i))return o;return i[0]=new s(t),i}(o,t||!1,e)):(e[0]=new s(r.apply(s,i)),t||(e[0]=P(e[0]))):e[0]=new s,L(t)&&$(e,t),e}function w(t){return t!==l&&t[0]!==l&&"Invalid Date"!==t[0]&&t[0].toString===y}function $(t,e,i){return e?w(t)||(i&&(t[0]=(e=t[0],new s(r(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())))),t[0].toString=y):w(t)&&(t[0]=i?P(t[0]):new s(+t[0])),t}function j(t,e,i,o,a){var r=M(F,t[0],a),t=M(O,t[0],a),a=!1;2===o.length&&L(o[1])&&(a=o[1],o=[i]),i=e===m?(i%12+12)%12:r(m),t(e,o),a&&r(m)!==i&&(t(m,[r(m)-1]),t(d,[V(r(c),r(m))]))}function z(t,e,i){t=t.clone().setUTCMode(!0,!0),e=C(e).setUTCMode(!0,!0);var o,a,r=0;if(i===c||i===m){for(var s=g;i<=s;s--)r=(r/=x[s])+(F(e,!1,s)-F(t,!1,s));i===m&&(r+=12*(e.getFullYear()-t.getFullYear()))}else r=i===d?(o=t.toDate().setUTCHours(0,0,0,0),a=e.toDate().setUTCHours(0,0,0,0),h.round((a-o)/n)+(e-a-(t-o))/n):(e-t)/[36e5,6e4,1e3,1][i-3];return r}function T(t){return e=t(c),i=t(m),t=t(d),o=new s(r(e,i,t)),e=S(X(e,i,t)),h.floor(h.round((o-e)/n)/7)+1;var e,i,o}function X(t,e,i){e=new s(r(t,e,i));return e<S(t)?t-1:e>=S(t+1)?t+1:t}function S(t){t=new s(r(t,0,4));return t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+6)%7),t}function W(t,e,i,o){var a=M(F,t,o),r=M(O,t,o),i=S(i=i===l?X(a(c),a(m),a(d)):i);o||(i=P(i)),t.setTime(+i),r(d,[a(d)+7*(e-1)])}function Y(t,e,i,o,a){var r=C.locales,s=r[C.defaultLocale]||{},n=M(F,t,a);return i=(R(i)?r[i]:i)||{},A(t,e,function(t){if(o)for(var e=(t===f?d:t)-1;0<=e;e--)o.push(n(e));return n(t)},function(t){return i[t]||s[t]},a)}function A(t,e,i,o,a){for(var r,s,n="";r=e.match(N);)n+=e.substr(0,r.index),r[1]?n+=function(t,e,i,o,a){var r,s=e.length,n="";for(;0<s;)(r=function(t,e,i,o,a){var r=C.formatters[e];{if(R(r))return A(t,r,i,o,a);if("function"==typeof r)return r(t,a||!1,o)}switch(e){case"fff":return B(i(g),3);case"s":return i(u);case"ss":return B(i(u));case"m":return i(_);case"mm":return B(i(_));case"h":return i(p)%12||12;case"hh":return B(i(p)%12||12);case"H":return i(p);case"HH":return B(i(p));case"d":return i(d);case"dd":return B(i(d));case"ddd":return o("dayNamesShort")[i(f)]||"";case"dddd":return o("dayNames")[i(f)]||"";case"M":return i(m)+1;case"MM":return B(i(m)+1);case"MMM":return o("monthNamesShort")[i(m)]||"";case"MMMM":return o("monthNames")[i(m)]||"";case"yy":return(i(c)+"").substring(2);case"yyyy":return i(c);case"t":return D(i,o).substr(0,1).toLowerCase();case"tt":return D(i,o).toLowerCase();case"T":return D(i,o).substr(0,1);case"TT":return D(i,o);case"z":case"zz":case"zzz":return a?"Z":function(t,e){var t=t.getTimezoneOffset(),i=t<0?"+":"-",o=h.floor(h.abs(t)/60),t=h.abs(t)%60,a=o;"zz"===e?a=B(o):"zzz"===e&&(a=B(o)+":"+B(t));return i+a}(t,e);case"w":return T(i);case"ww":return B(T(i));case"S":var s=i(d);return 10<s&&s<20?"th":["st","nd","rd"][s%10-1]||"th"}}(t,e.substr(0,s),i,o,a))!==l?(n+=r,e=e.substr(s),s=e.length):s--;return n+e}(t,r[1],i,o,a):r[3]?(s=A(t,r[4],i,o,a),parseInt(s.replace(/\D/g,""),10)&&(n+=s)):n+=r[7]||"'",e=e.substr(r.index+r[0].length);return n+e}function D(t,e){return t(p)<12?e("amDesignator"):e("pmDesignator")}function k(t){return!isNaN(+t[0])}function F(t,e,i){return t["get"+(e?"UTC":"")+b[i]]()}function O(t,e,i,o){t["set"+(e?"UTC":"")+b[i]].apply(t,o)}function P(t){return new s(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())}function V(t,e){return 32-new s(r(t,e,32)).getUTCDate()}function i(t){return function(){return t.apply(l,[this].concat(I(arguments)))}}function M(t){var e=I(arguments,1);return function(){return t.apply(l,e.concat(I(arguments)))}}function I(t,e,i){return o.prototype.slice.call(t,e||0,i===l?t.length:i)}function E(t,e){for(var i=0;i<t.length;i++)e(t[i],i)}function R(t){return"string"==typeof t}function L(t){return"boolean"==typeof t}function B(t,e){for(e=e||2,t+="";t.length<e;)t="0"+t;return t}return v.length=1,v.splice=o.prototype.splice,v.getUTCMode=i(w),v.setUTCMode=i($),v.getTimezoneOffset=function(){return w(this)?0:this[0].getTimezoneOffset()},E(b,function(t,i){v["get"+t]=function(){return F(this[0],w(this),i)},8!==i&&(v["getUTC"+t]=function(){return F(this[0],!0,i)}),i!==f&&(v["set"+t]=function(t){return j(this,i,t,arguments,w(this)),this},8!==i)&&(v["setUTC"+t]=function(t){return j(this,i,t,arguments,!0),this},v["add"+(a[i]||t)]=function(t,e){return function t(e,i,o,a){o=Number(o);var r=h.floor(o);e["set"+b[i]](e["get"+b[i]]()+r,a||!1);r!==o&&i<g&&t(e,i+1,(o-r)*x[i],a)}(this,i,t,e),this},v["diff"+(a[i]||t)]=function(t){return z(this,t,i)})}),v.getWeek=function(){return T(M(F,this,!1))},v.getUTCWeek=function(){return T(M(F,this,!0))},v.setWeek=function(t,e){return W(this,t,e,!1),this},v.setUTCWeek=function(t,e){return W(this,t,e,!0),this},v.addWeeks=function(t){return this.addDays(7*Number(t))},v.diffWeeks=function(t){return z(this,t,d)/7},C.parsers=[function(t,e,i){t=t.match(/^(\d{4})(-(\d{2})(-(\d{2})([T ](\d{2}):(\d{2})(:(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/);{var o;if(t)return o=new s(r(t[1],t[3]?t[3]-1:0,t[5]||1,t[7]||0,t[8]||0,t[10]||0,t[12]?1e3*Number("0."+t[12]):0)),t[13]?t[14]&&o.setUTCMinutes(o.getUTCMinutes()+("-"===t[15]?1:-1)*(60*Number(t[16])+(t[18]?Number(t[18]):0))):e||(o=P(o)),i.setTime(+o)}}],C.parse=function(t){return+C(""+t)},v.toString=function(t,e,i){return t!==l&&k(this)?Y(this,t,e,i,w(this)):this[0].toString()},v.toUTCString=v.toGMTString=function(t,e,i){return t!==l&&k(this)?Y(this,t,e,i,!0):this[0].toUTCString()},v.toISOString=function(){return this.toUTCString(e)},C.defaultLocale="",C.locales={"":{monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],amDesignator:"AM",pmDesignator:"PM"}},C.formatters={i:t,u:e},E(["getTime","valueOf","toDateString","toTimeString","toLocaleString","toLocaleDateString","toLocaleTimeString","toJSON"],function(t){v[t]=function(){return this[0][t]()}}),v.setTime=function(t){return this[0].setTime(t),this},v.valid=i(k),v.clone=function(){return new C(this)},v.clearTime=function(){return this.setHours(0,0,0,0)},v.toDate=function(){return new s(+this[0])},C.now=function(){return+new s},C.today=function(){return(new C).clearTime()},C.UTC=r,C.getDaysInMonth=V,"undefined"!=typeof module&&module.exports&&(module.exports=C),"function"==typeof define&&define.amd&&define([],function(){return C}),C}(Date,Math,Array),findInArray=function(t,e,i){t=$.grep(t,function(t){return void 0!==i&&t[e].toLowerCase()==i.toLowerCase()});if(0<t.length)return t[0]};function getArrayWithDefaultValues(t,e){return Array.apply(null,Array(t)).map(function(){return e})}function getStringARSC(t){return t&&t.toString().replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"_")}function getNumericComparableValue(t){var e=t;try{/^-?\d{1,3}(,\d{3})*(\.\d+)?$/.test(t)&&isNaN(t)&&void 0!==t&&(e=(""+t).replace(/\,/g,""))}catch(t){}return e}function getCommaSeparateSeriesData(t){for(var e=t,i=0;i<t.length;i++)isNaN(t[i])&&(e[i]=(""+t[i]).replace(/\,/g,""));return e}function getNumberWithCommas(e){try{for(var t=(e=e.toString()).split("."),i=(e=t[0],/(-?\d+)(\d{3})/);i.test(e);)e=e.replace(i,"$1,$2");return t[1]?e+"."+t[1]:e}catch(t){return e}}function getIndianNumberWithCommas(e){try{for(var t=(e=e.toString()).split("."),i=(e=t[0],/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/);i.test(e);)e=e.replace(i,"$1,");return t[1]?e+"."+t[1]:e}catch(t){return e}}function getFormattedNumberWithCommas(t,e){return"number"===e?getNumberWithCommas(t):"indiannumber"===e?getIndianNumberWithCommas(t):t}function checkNumeric(t){return(""+t).replace(/\,/g,"")}function IsBoolean(t){return"true"===t||"false"!==t&&t}function getFullYear(t){return 4<=(+t).toString().length?+t:50<+t?"19"+t:"20"+t}function isLeapYear(t){return t%4==0&&(t%100!=0||t%400==0)}function drawSVGText(t,e,i,o,a,r,s){var n=document.createElementNS(NS,"text");return isNaN(t)||isNaN(e)||(n.setAttribute("x",t),n.setAttribute("y",e),n.setAttribute("fill",o),""!==s&&void 0!==s&&0!==s&&n.setAttribute("transform","rotate("+s+" "+t+","+e+")"),n.textContent=i,n.setAttribute("text-anchor",getSVGAlignment(a)),n.setAttribute("alignment-baseline",r)),n}function wrapSVGText(t,e,i,o,a,r,s){for(var n=document.createElementNS(NS,"tspan"),h=(n.setAttribute("x",e),n.setAttribute("y",i),o[0]=trimText(t,o[0],s),document.createTextNode(o[0])),l=(n.appendChild(h),a.appendChild(n),""),c=1;c<o.length;c++)o[c]=trimText(t,o[c],s),c<2?((n=document.createElementNS(NS,"tspan")).setAttribute("x",e),n.setAttribute("dy",+r+t.m_chart.fontScaling(2*c)),h=document.createTextNode(o[c]),n.appendChild(h),a.appendChild(n)):(l+=o[c],c==o.length-1&&((n=document.createElementNS(NS,"tspan")).setAttribute("x",e),n.setAttribute("dy",+r+t.m_chart.fontScaling(2)),h=document.createTextNode(l),n.appendChild(h),a.appendChild(n)))}function trimText(t,e,i){if(e=isNaN(e)?e.replace(/\s*$/,""):e,t.m_chart.ctx.font=t.m_fontsize+"px "+selectGlobalFont(t.m_fontfamily),i<t.m_chart.ctx.measureText(e).width){for(var o=e.split(" "),a="",r=0;r<o.length;r++){if(!(i>t.m_chart.ctx.measureText(a+o[r]).width)){a+="..";break}a+=o[r]}return a}return e}function drawSVGLine(t,e,i,o,a,r){var s=document.createElementNS(NS,"line");return isNaN(t)||isNaN(e)||isNaN(i)||isNaN(o)||(s.setAttribute("x1",t),s.setAttribute("y1",e),s.setAttribute("x2",i),s.setAttribute("y2",o),s.setAttribute("stroke",r),s.setAttribute("stroke-width",a),s.setAttribute("shape-rendering","crispEdges")),s}function drawSVGRect(t,e,i,o,a){var r=document.createElementNS(NS,"rect");if(!(""===t||""===e||""===i||""===o||isNaN(t)||isNaN(e)||isNaN(i)||isNaN(o)))try{r.setAttributeNS(null,"x",t),r.setAttributeNS(null,"y",e),r.setAttributeNS(null,"height",o),r.setAttributeNS(null,"width",i),r.setAttributeNS(null,"fill",a)}catch(t){}return r}function drawSVGStackAnimation(t,e,i,o){var a=document.createElementNS(NS,"animate");return isNaN(t)||isNaN(i)||(a.setAttributeNS(null,"attributeName",e),a.setAttributeNS(null,"from",t),a.setAttributeNS(null,"to",i),a.setAttributeNS(null,"dur",o+"s"),a.setAttributeNS(null,"fill","freeze")),a}function drawSVGCircle(t,e,i,o,a,r){var s=document.createElementNS(NS,"circle");return isNaN(t)||isNaN(e)||isNaN(i)||(s.setAttributeNS(null,"cx",t),s.setAttributeNS(null,"cy",e),s.setAttributeNS(null,"r",i),s.setAttributeNS(null,"stroke-width",o),s.setAttributeNS(null,"stroke",r),s.setAttributeNS(null,"fill",a)),s}function drawSVGPath(){return document.createElementNS(NS,"path")}function getSVGAlignment(t){switch(t.toLowerCase()){case"left":return"start";case"center":return"middle";case"right":return"end";default:return t}}function getCopyOfJsonObject(t){try{return JSON.parse(JSON.stringify(t))}catch(t){}return t}function getNumericMax(t){return _.max(t,function(t){return""===t||void 0===t||null==t?void 0:+getNumericComparableValue(t)})}function getNumericMin(t){return _.min(t,function(t){return""===t||void 0===t||null==t?void 0:+getNumericComparableValue(t)})}function getScrollBarWidth(){var t=document.createElement("div"),e=(t.style.visibility="hidden",t.style.width="100px",document.body.appendChild(t),t.offsetWidth),i=(t.style.overflow="scroll",document.createElement("div")),i=(i.style.width="100%",t.appendChild(i),i.offsetWidth);return t.parentNode.removeChild(t),e-i}function getAggregationOperatedData(t,e){switch(e){case"sum":for(var i="",o=0;o<t.length;o++){var a=+getNumericComparableValue(t[o]);isNaN(a)||""===a||(i=+i+a)}return i;case"avg":for(var r="",s=0;s<t.length;s++){a=+getNumericComparableValue(t[s]);isNaN(a)||""===a||(r=+r+a)}return""!==r?r/t.length:"";case"max":for(var n=+getNumericComparableValue(t[0]),h=0;h<t.length;h++){a=+getNumericComparableValue(t[h]);isNaN(a)||""===a||n<a&&(n=a)}return n;case"min":for(var l=+getNumericComparableValue(t[0]),c=0;c<t.length;c++){a=+getNumericComparableValue(t[c]);isNaN(a)||""===a||a<l&&(l=a)}return l;case"count":return t.length;case"customAggregation":for(var a="",m=0;m<t.length;m++){var d=+getNumericComparableValue(t[m]);isNaN(d)||""===d||(a=d)}return a;case"uniquevalue":return $.unique(t);default:return}}function SearchAndReplaceAllOccurence(t,e,i){e=new RegExp("("+(e+"").replace(/([\\\.\+\*\?\[\^\]\$\(\)\{\}\=\!\<\>\|\:])/g,"\\$1")+")","gi");return t.replace(e,i)}function convertTo2DArray(t){for(var e=[],i=0;i<t.length;i++){e[i]=[];for(var o=0;o<t[i].length;o++)e[i][o]=t[i][o]}return e}function convertArrayType(t){var e=[];if(0<t.length&&void 0!==t[0])for(var i=0;i<t[0].length;i++){e[i]=[];for(var o=0;o<t.length;o++)e[i][o]=t[o][i]}return e}function getMaxValueFromArray(t){return t&&0<t.length?Math.max.apply(null,t):0}function updateSeriesData(t){for(var e=[],i=0;i<t.length;i++){e[i]=[];for(var o=0;o<t[i].length;o++){var a=(""+t[i][o]).replace(/\,/g,"");isNaN(a)?e[i][o]=t[i][o]:e[i][o]=a}}return e}function convertColorToHex(t){var e="",i=""+t;if(startsWith(i,"0x")||startsWith(i,"0X"))e=t.substr(2,7);else if(startsWith(i,"#"))(e=t.substr(1,6)).length<=3&&(e=addString(e));else if(isNaN(i))if(3===(e=i).length){for(var o="",a=0;a<e.length;a++)o+=e[a]+""+e[a];e=o}else e.length<6&&(e=padColorString(e));else e=padColorString(e=Number(t).toString(16));i="#"+(e=6<e.length?e.substring(e.length-6,e.length):e);return isValidHex(i)?i:"#000000"}function startsWith(t,e){return 0===t.indexOf(e)}function addString(t){return padString(t,6,t)}function padColorString(t){return padString(t,6,"0")}function padString(t,e,i){if(t.length<e){for(var o=e-t.length,a="",r=0;r<o;r++)a+=i;t=a+t}return t}function isValidHex(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function rgb2hex(t){var e="#";return t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),e="#"+("0"+parseInt(t[1]).toString(16)).slice(-2),e=(e+=("0"+parseInt(t[2]).toString(16)).slice(-2))+("0"+parseInt(t[3]).toString(16)).slice(-2)}function hex2rgb(t,e){if(t){for(var i=t.replace("#","").match(/(.{2})/g),o=3;o--;)i[o]=parseInt(i[o],16);return void 0===e?"rgb("+i.join(", ")+")":"rgba("+i.join(", ")+", "+e+")"}return t}function pSBC(t,e,i,o){var a,r,s,n,h,l=parseInt,c=Math.round,m="string"==typeof i;return!("number"!=typeof t||t<-1||1<t||"string"!=typeof e||"r"!=e[0]&&"#"!=e[0]||i&&!m)&&(this.pSBCr||(this.pSBCr=function(t){var e=t.length,i={};if(9<e){if(t=t.split(","),a=t[0],r=t[1],s=t[2],m=t[3],(e=t.length)<3||4<e)return null;i.r=l("a"==a[3]?a.slice(5):a.slice(4)),i.g=l(r),i.b=l(s),i.a=m?parseFloat(m):-1}else{if(8==e||6==e||e<4)return null;e<6&&(t="#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+(4<e?t[4]+t[4]:"")),t=l(t.slice(1),16),9==e||5==e?(i.r=t>>24&255,i.g=t>>16&255,i.b=t>>8&255,i.a=c((255&t)/.255)/1e3):(i.r=t>>16,i.g=t>>8&255,i.b=255&t,i.a=-1)}return i}),h=9<e.length,h=m?9<i.length||"c"==i&&!h:h,e=pSBCr(e),n=t<0,i=i&&"c"!=i?pSBCr(i):n?{r:0,g:0,b:0,a:-1}:{r:255,g:255,b:255,a:-1},n=1-(t=n?-1*t:t),e)&&i?(o?(a=c(n*e.r+t*i.r),r=c(n*e.g+t*i.g),s=c(n*e.b+t*i.b)):(a=c(.5*(n*e.r*2+t*i.r*2)),r=c(.5*(n*e.g*2+t*i.g*2)),s=c(.5*(n*e.b*2+t*i.b*2)),m=e.a,i=i.a,m=(e=0<=m||0<=i)?m<0?i:i<0?m:m*n+i*t:0),h?"rgb"+(e?"a(":"(")+a+","+r+","+s+(e?","+c(1e3*m)/1e3:"")+")":"#"+(4294967296+16777216*a+65536*r+256*s+(e?c(255*m):0)).toString(16).slice(1,e?void 0:-2)):null}function hex2Matrix(t,e){for(var i="",o=hex2rgb(convertColorToHex(t),e).replace(/[^0-9 ]/g,"").split(" "),a=0;a<o.length;a++){var r=[];a!=o.length-1?(r=["0","0","0","0","0"])[a]=+o[a]/255:r[a]=+e,i+=r.toString().replace(/,/g," ")+" "}return i}function ColorLuminance(t,e){if(t){(t=String(t).replace(/[^0-9a-f]/gi,"")).length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),e=e||.1;for(var i,o="#",a=0;a<3;a++)i=parseInt(t.substr(2*a,2),16),o+=("00"+(i=Math.round(Math.min(Math.max(0,i+i*e),255)).toString(16))).substr(i.length);return o}return t}function getRandomColor(){for(var t="0123456789ABCDEF".split(""),e="",i=0;i<6;i++)e+=""+t[Math.round(15*Math.random())];return e}function sortAscArrayOfJsonByKey(t,i){return t.sort(function(t,e){t=t[i],e=e[i];return t<e?-1:e<t?1:0})}function sortDescArrayOfJsonByKey(t,i){return t.sort(function(t,e){t=t[i],e=e[i];return e<t?-1:t<e?1:0})}function onMouseMove(t){t.drawTooltip(mouseX,mouseY)}function OnMouseClick(t){t.getDataPointAndUpdateGlobalVariable(mouseX,mouseY)}function onSwipeLeft(obj,evt){if(""!==obj.m_clickcallback&&void 0!==obj.m_clickcallback){var data={};try{eval(obj.m_clickcallback+"(data, evt)")}catch(e){}}}function onSwipeRight(obj,evt){if(""!==obj.m_clickcallback&&void 0!==obj.m_clickcallback){var data={};try{eval(obj.m_clickcallback+"(data, evt)")}catch(e){}}}function getCustomNiceScale(t,e,i,o){for(var a=[],r=void 0!==(r=(o+"").split("."))[1]?r[1].length:0,s=0;s<=i;s++){var n=(t+o*s).toFixed(r);if(!(n<=e&&s<i))break;a.push(n)}return{min:t,max:e,step:o,markerArray:a}}function NiceScale(t){var e=t.minPoint.toFixed(5);+e==+t.maxPoint.toFixed(5)&&(t.minPoint=e-.1*e),this.minPoint=t.minPoint,this.maxPoint=t.maxPoint,this.showMaxPoint=t.isMaxYaxis,this.showMinPoint=t.isMinYaxis,this.autoAxis=t.autoAxis,this.chartType=t.chartType,this.minPoint,this.maxPoint,this.maxTicks="default"==t.noOfMarkers?this.getOptimumTicks(t.compHeight):t.noOfMarkers,this.tickSpacing,this.range,this.niceMin,this.niceMax,this.calculate()}function getMax(t){var r=t,s=5,n=5,i=1,o=1,a=1;return isNaN(r)||function t(e){0<e&&e<1?(a*=10,t(e*=10)):1!==a?(h(e),c(i,o,e),r/=a,n/=a):(h(e),c(i,o,e))}(r),[r,s,n];function h(t){var e;1<=t&&t<=5?o=i=1:5<t&&t<=25?(i=2,o=1):25<t&&t<=100?o=i=5:100<t&&t<=200?(i=20,o=10):200<t&&t<=500?(i=50,o=10):500<t&&t<=1e3?(i=100,o=50):1e3<t&&t<=2e3?(i=200,o=100):2e3<t&&t<=5e3?o=i=500:5e3<t&&t<=1e5?(i=2e3,o=1e3):1e5<t&&t<=1e6?o=i=1e4:1e6<t&&t<=1e7?(i=1e6,o=5e6):1e7<t&&t<=1e8?o=i=1e7:1e8<t&&t<=1e9?(i=1e8,o=1e7):1e9<t&&t<=1e10?o=i=1e8:1e10<t&&t<=1e11?o=i=1e9:(o=i=1e11,e=l(t),10<l(t)&&(i=Math.pow(10,e-2),o=Math.pow(10,e-1)))}function l(t){t=t.toString().split(/[eE]/);if(1===t.length)return t[0].length;var e="",i=this<0?"-":"",o=t[0].replace(".",""),a=Number(t[1])+1;if(a<0){for(e=i+"0.";a++;)e+="0";return(e+o.replace(/^\-/,"")).length}for(a-=o.length;a--;)e+="0";return(o+e).length}function c(t,e,i){var o,a=i/t;a<=5?(o=t,s=Math.ceil(a),r=o*s,n=o):c(t+e,e,i)}}function getMin(t){return t%5!=0?t-t%5:t}function numOrdA(t,e){return t-e}function numOrdD(t,e){return e-t}function getImageDataFromCanvas(t,e){return t.toDataURL("image/"+e)}function getNumberFormattedSymbol(t,e){t=Math.abs(t);return"Rupees"===e?getNumberFormattedIndianSymbol(t,e):t<1e3?"":1e3<=t&&t<1e6?"K":1e6<=t&&t<1e9?"M":1e9<=t&&t<1e12?"B":1e12<=t&&t<1e15?"T":1e15<=t&&t<1e18?"Q":1e18<=t&&t<1e21?"E":""}function getNumberFormattedIndianSymbol(t,e){return t<1e3?"":1e3<=t&&t<1e5?"K":1e5<=t&&t<1e7?"Lacs":1e7<=t&&t<1e21?"Cr":""}function getNumberFormattedNumericValue(t,e,i){var o=Math.abs(t),e=null==e||"default"==e?1:e,a=t;return"Rupees"===i?getNumberFormattedNumericIndianValue(o,a,e):o<1e3?a.toFixed(e):1e3<=o&&o<1e6?(a=+t/1e3)%1!=0?a.toFixed(e):a:1e6<=o&&o<1e9?(a=+t/1e6)%1!=0?a.toFixed(e):a:1e9<=o&&o<1e12?(a=+t/1e9)%1!=0?a.toFixed(e):a:1e12<=o&&o<1e15?(a=+t/1e12)%1!=0?a.toFixed(e):a:1e15<=o&&o<1e18?(a=+t/1e15)%1!=0?a.toFixed(e):a:1e18<=o&&o<1e21&&(a=+t/1e18)%1!=0?a.toFixed(e):a}function getNumberFormattedNumericIndianValue(t,e,i){return t<1e3?e.toFixed(i):1e3<=t&&t<1e5?(e=+e/1e3)%1!=0?e.toFixed(i):e:1e5<=t&&t<1e7?(e=+e/1e5)%1!=0?e.toFixed(i):e:1e7<=t&&t<1e21&&(e=+e/1e7)%1!=0?e.toFixed(i):e}function getNumberFormattedValue(t){var e=Math.abs(t),i=t;return e<1e3?i:1e3<=e&&e<1e6?(i=(i=+t/1e3)%1!=0?i.toFixed(1):i)+"K":1e6<=e&&e<1e9?(i=(i=+t/1e6)%1!=0?i.toFixed(1):i)+"M":1e9<=e&&e<1e12?(i=(i=+t/1e9)%1!=0?i.toFixed(1):i)+"B":1e12<=e&&e<1e15?(i=(i=+t/1e12)%1!=0?i.toFixed(1):i)+"T":1e15<=e&&e<1e18?(i=(i=+t/1e15)%1!=0?i.toFixed(1):i)+"Q":1e18<=e&&e<1e21?(i=(i=+t/1e18)%1!=0?i.toFixed(1):i)+"E":i}function setGlobalFont(t){globalFont=t}function selectGlobalFont(t){return globalFont&&globalFont.useGlobal?globalFont.fontFamily:t}function createNewInstance(strClass){var args=Array.prototype.slice.call(arguments,1),clsClass=eval(strClass);function F(){return clsClass.apply(this,args)}return F.prototype=clsClass.prototype,new F}function getDuplicateObject(e){try{return $.extend(!0,{},e)}catch(t){return e}}function getDuplicateArray(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return e}}function isUniqueArray(t){return t.length===_.uniq(t).length}function getDuplicatesFromArray(t){return Array.prototype.getDuplicates=function(){for(var t={},e=0;e<this.length;e++)t.hasOwnProperty(this[e])?t[this[e]].push(e):this.lastIndexOf(this[e])!==e&&(t[this[e]]=[e]);return t},t.getDuplicates()}function countDecimal(t){return(t.split(".")[1]||[]).length}function openHyperlink(t){window.open("http://"+t,"_blank")}function onAfterRender(t){t.call()}function removeCommaFromSrting(t){var e=t;return isNaN(t)&&void 0!==t&&(e=(""+t).replace(/,/g,""),e=isNaN(e)?e:+e),e}function b64EncodeUnicode(t){return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,function(t,e){return String.fromCharCode("0x"+e)}))}function b64DecodeUnicode(t){return decodeURIComponent(atob(t).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function alertPopUpModal(t){$("#alertPopUpModal").remove(),$("#alertPopUpModaloverlay").remove();t.type=t.type||"info",t.message=t.message||"Status Message";var e=t.timeout||3e3,i=document.createElement("div"),o=(i.setAttribute("id","alertPopUpModaloverlay"),$(i).css({position:"fixed",top:"0",left:"0","z-index":9999,width:"100%",height:"100%","background-color":"rgba(128,128,128,0.5)",display:"none"}),document.createElement("div")),a=(o.setAttribute("id","alertPopUpModal"),document.createElement("span"));a.innerHTML="&times;",o.innerHTML=t.message,$(a).css({position:"absolute",right:"10px",color:"#fff","font-weight":"bold",cursor:"pointer","font-size":"21px","line-height":"15px"}),$(o).css({position:"absolute",display:"none",width:"auto","max-width":"350px","min-width":"250px",top:"0px",left:"0px",right:"0px",margin:"0 auto","z-index":9999,"text-align":"center",padding:"10px",border:"2px solid transparent","border-radius":"3px",font:"normal normal 14px "+selectGlobalFont("Roboto"),"box-shadow":"rgba(0, 0, 0, 0.1) 0px 12px 20px -10px, rgba(0, 0, 0, 0.2) 0px 4px 20px 0px, rgba(0, 0, 0, 0.5) 0px 7px 8px -5px","-moz-box-shadow":"rgba(0, 0, 0, 0.1) 0px 12px 20px -10px, rgba(0, 0, 0, 0.2) 0px 4px 20px 0px, rgba(0, 0, 0, 0.5) 0px 7px 8px -5px","-webkit-box-shadow":"rgba(0, 0, 0, 0.1) 0px 12px 20px -10px, rgba(0, 0, 0, 0.2) 0px 4px 20px 0px, rgba(0, 0, 0, 0.5) 0px 7px 8px -5px"}),$(o).css({error:{color:"#ffffff","background-color":"#BD362F","border-color":"#BD362F"},failure:{color:"#ffffff","background-color":"#BD362F","border-color":"#BD362F"},info:{color:"#31708f","background-color":"#d9edf7","border-color":"#d9edf7"},success:{color:"#ffffff","background-color":"#008000","border-color":"#008000"},warning:{color:"#ffffff","background-color":"#F89406","border-color":"#F89406"}}[t.type]),"error"==t.type||"warning"==t.type?(o.append(a),i.append(o),document.body.appendChild(i)):document.body.appendChild(o),$(a).click(function(t){$(o).fadeOut(400),$("#alertPopUpModaloverlay").css({display:"none"})}),localStorage.getItem("popState")==t.message&&($(o).fadeOut(400),localStorage.setItem("popState",null)),"error"==t.type||"warning"==t.type?($(o).fadeIn(300),localStorage.setItem("popState",t.message),$("#alertPopUpModaloverlay").css({display:"block"})):$(o).fadeIn(300).delay(e).fadeOut(400)}function svgTitle(t){this.base=Title,this.base(t)}function svgSubTitle(){this.base=SubTitle,this.base()}function Chart(){this.base=Widget,this.base(),this.m_enablecolorfromdrill="",this.m_id="",this.m_name="",this.m_type="",this.m_legendShowType="series",this.m_backgroundcolor=0,this.m_showgradient=0,this.m_bgalpha="1",this.m_bggradients="#f1f1f1,#f1f1f1",this.m_bggradientrotation="0",this.m_backgroundalpha=0,this.m_showborder=!0,this.m_bordercolor="#BDC3C7",this.m_borderthickness=1,this.m_horizontalaxisautoadjust=0,this.m_horizontalaxisbasezero=0,this.m_horizontalminimumaxisvalue=20,this.m_horizontalmaximumaxisvalue=110,this.m_minimumaxisvalue=0,this.m_maximumaxisvalue=0,this.m_autoaxissetup=0,this.m_basezero=0,this.m_associatedlegendid="",this.m_showlegends=0,this.m_legenddirection="",this.m_legendfontcolor="",this.m_legendfontstyle="",this.m_legendfontfamily="Roboto",this.m_legendtextdecoration="",this.m_showcheckboxwithlegend=!1,this.m_showcheckboxseprate=0,this.m_showcolorbandlegends="false",this.m_legendfontsize="",this.m_legendfontweight="normal",this.m_legendiconshape="bd-menu-2",this.m_bandalphas=0,this.m_showcolorbands=0,this.m_colorbandranges="",this.m_bandcolors="",this.m_banddisplaynames="",this.m_showcolorbandlegends=0,this.m_rangesofseries="",this.m_rangedseriescolors="",this.m_rangedseriesdisplaynames="",this.m_rangeenabledseries="",this.m_secondaryaxisshow=0,this.m_secondaxisbasezero=0,this.m_secondaxisautosetup=0,this.m_secondaxisminimumvalue=0,this.m_secondaxismaximumvalue=0,this.m_secondaryaxisformater="",this.m_secondaryaxisunit=0,this.m_secondaryaxisprecision="default",this.m_secondaryaxissignposition="",this.m_secondaryaxissecondaryformatter="Number",this.m_secondaryaxissecondaryunit="none",this.m_secondaryaxislabelfontcolor="#494950",this.m_secondaryaxislabelfontsize="12",this.m_secondaryaxislabelfontstyle="normal",this.m_secondaryaxislabelfontweight="normal",this.m_secondaryaxislabelfontfamily="BizvizFont",this.m_secondaryaxislabeltextdecoration="none",this.m_secondaxisdiscription="",this.m_secondaxisfontcolor="#000000",this.m_secondaxisfontsize=10,this.m_secondaxisfontstyle="normal",this.m_secondaxisfontweight="normal",this.m_secondaxisfontfamily="Roboto",this.m_secondaxistextdecoration="none",this.m_secondaxisprecision=0,this.m_fixedlabel=!0,this.m_formater="",this.m_secondaryformater="",this.m_unit="$",this.m_secondaryunit="",this.m_precision=0,this.m_signposition=0,this.m_pptheading="",this.m_pptsubheading="",this.m_scrnshotfilename="",this.m_showexceldownload="false",this.m_showmaximizebutton="true",this.m_isConditionalColor=!1,this.m_conditionalColors="",this.m_categoryColors="",this.m_globalkey="",this.m_chartbase="plain",this.m_charttype="",this.m_showpoint=!0,this.m_lineform="segment",this.m_showtitle="",this.m_showsubtitle="",this.m_drillColor="#e0dfdf",this.m_drillminstackheight=15,this.m_seriescolor="991818,759999,313210,824434,555441",this.m_strokecolor="",this.m_gradientcolor="",this.m_declinefillcolor="",this.m_fillcolor="",this.m_targetcolor="",this.m_valuecolor="",this.m_enablecolorfromdrill=0,this.m_plotwithlabel=0,this.m_currentphasebordercolor="#ff0000",this.m_sourcedateformat="mm/dd/yyyy",this.m_url="",this.m_axiscolor="",this.m_categorymarkingcolor="#ffffff",this.m_markercolor="#ffffff",this.m_showmarkerline=!1,this.m_markertransparency=.5,this.plugin=new Plugin,this.m_chartFrame=new ChartFrame,this.m_title=new Title(this),this.m_subTitle=new SubTitle,this.m_tooltip=new Tooltip,this.m_isEmptySeries=!0,this.m_showSeries=[],this.m_startDrill=!1,this.m_tickmarks=!1,this.m_tickmarksatstart=!1,this.m_showverticalmarkerline=!1,this.m_sliderborderopacity=.8,this.m_sliderTextField="",this.m_sliderStartText="",this.m_sliderEndText="",this.m_continuouslinetype={straight:"dot",dot:"straight",dash:"straight",dash1:"straight"},this.m_barwidth=50,this.m_hideoverbounddatalabel="false",this.m_overlappeddatalabelarrayY=[],this.m_overlappeddatalabelarrayX=[],this.m_isrepeater="false",this.m_repeaterfield="",this.m_repeateradditionalfield="",this.m_repeaterfieldvalue="",this.m_repeatercolumns="3",this.m_repeaterheight="250",this.m_repeatervmargin="5",this.m_repeaterhmargin="5",this.m_repeaterallexport="false",this.m_repeatercommonmarker="false",this.m_repeaterscrollwidth="",this.m_repeaterCharts=[],this.m_hidelegendonstart=!0,this.m_chartalignment="center",this.m_sliderrange="auto",this.m_axistodrawingareamargin=0,this.m_showtooltip=!0,this.m_tooltipprecision="default",this.m_tooltiphighlighter="true",this.m_customtextboxfortooltip={dataTipTypeArray:"",dataTipType:"Default",datatipData:"",formatter:{},useComponentFormatter:!0,displayWindow:"textBox"},this.m_tooltipproperties={showcummulativesum:"true",showcummulativepercent:"true",tooltippercentprecision:"auto",tooltipheadervalue:["Field","Value","Percent","Cumulative Sum","Cumulative Percentage"]},this.clusteredbarpadding=.9,this.m_skipxaxislabels="auto",this.m_chartpaddings={leftBorderToDescription:5,leftDescriptionToMarkers:5,leftMarkersToLine:5,rightBorderToLegend:15,rightLegendSpace:10,rightLegendToLine:5,rightLegendToDescription:5,rightDescriptionToMarkers:5,rightMarkersToLine:5,topTitleToSubtitle:10,topSubtitleToChart:10,bottomBorderToDescription:20,bottomDescriptionToMarkers:10,bottomMarkersToLine:5,chartToBorder:15},this.m_updateddesign="false",this.m_canvastype="canvas",this.m_ismaxyaxis=!1,this.m_isminyaxis=!1,this.m_customaxis={enable:"false",axis:{left:{data:{min:10,max:100,step:10,noOfMarkers:10}},right:{data:{min:10,max:100,step:10,noOfMarkers:10}}}},this.m_coloropacity="1",this.m_noofmarkers="default",this.m_datalablebackgroundrect="false",this.m_titletextwrap=!0,this.m_subtitletextwrap=!0}function constrainResizable(t){t=t.data;t.left<0&&(t.width=t.width-Math.abs(t.left),t.left=0),+t.left+ +t.width>t.target.parentElement.clientWidth&&(t.width=t.width-(+t.left+ +t.width-t.target.parentElement.clientWidth)),t.top<0&&(t.height=t.height-Math.abs(t.top),t.top=0),+t.top+ +t.height>t.target.parentElement.clientHeight&&(t.height=t.height-(+t.top+ +t.height-t.target.parentElement.clientHeight))}function constrain(t){t=t.data;t.left<0&&(t.left=0),t.top<0&&(t.top=0),t.left+$(t.target).outerWidth()>$(t.parent).width()&&(t.left=$(t.parent).width()-$(t.target).outerWidth()),t.top+$(t.target).outerHeight()>$(t.parent).height()&&(t.top=$(t.parent).height()-$(t.target).outerHeight())}function Axes(){this.m_labelfontweight="normal",this.m_labelrotation="90",this.m_labelfontstyle="normal",this.m_labelfontsize="11",this.m_labeltextdecoration="none",this.m_textdecoration="none",this.m_labeltilted="false",this.m_labelfontfamily="Roboto",this.m_fontsize="11",this.m_fontstyle="normal",this.m_fontweight="normal",this.m_fontcolor="0",this.m_description="",this.m_labelfontcolor="0",this.m_fontfamily="Roboto",this.m_leftaxisformater="true",this.m_seconddiscription="yaxis",this.m_rightaxisformater="false",this.m_labeltextalign="center",this.m_descriptiontextalign="center"}function Xaxis(){this.base=Axes,this.base(),this.m_chart,this.m_startX,this.m_startY,this.m_endX,this.m_endY,this.m_xAxisData=[],this.m_axiscolor,this.m_showlinexaxis="true",this.m_linexaxiscolor="",this.m_textUtil=new TextUtil,this.ctx=""}function Yaxis(){this.base=Axes,this.base(),this.m_chart,this.m_chartCalculation,this.m_startX,this.m_startY,this.m_endX,this.m_endY,this.m_yAxisText=[],this.m_yAxisMarkersArray=[],this.m_labeltextalign="right",this.m_axislinetotextgap=5,this.m_showlineyaxis="true",this.m_lineyaxiscolor="",this.m_unitSymbol,this.m_textUtil=new TextUtil,this.m_util=new Util,this.m_isSecondAxisFormatter=!1,this.ctx=""}function LayerCalculation(){this.m_chartRef}function Layer(){this.ctx="",this.m_strokecolor="#FFFFFF"}function CategoryColor(){this.m_categoryname="",this.m_color=""}function CategoryColors(){this.m_categorydefaultcolor="",this.m_categorydefaultcolorset="",this.m_showcolorsfromcategoryname="",this.m_categorydefaultcolorsetArray=[],this.cateogryNameColorMap=new Object,this.m_categoryColor=[]}function SubCategoryColor(){this.m_subcategoryname="",this.m_color=""}function SubCategoryColors(){this.m_subcategorydefaultcolor="",this.m_subcategorydefaultcolorset="",this.m_showcolorsfromsubcategoryname="",this.m_subcategorydefaultcolorsetArray=[],this.subcateogryNameColorMap=new Object,this.m_subcategoryColor=[]}function ConditionalColor(){this.m_seriesname,this.m_color,this.m_operator,this.m_compareto,this.m_comparedfield,this.m_compToFlag=!1}function ConditionalColors(){this.m_ConditionalColor=[],this.m_chart,this.m_colorChangedConditional=[]}function Line(){this.color,this.startXPosition,this.startYPosition,this.endXPosition,this.endYPosition,this.ctx="",this.m_chart=""}function Point(){this.color,this.radius,this.xPosition,this.yPosition,this.ctx="",this.m_chart=""}function ValueTextSeries(){this.xPositionArray=[],this.yPositionArray=[],this.ctx="",this.m_chart="",this.m_ySeriesData=[],this.valueText=[],this.datalabelProperties="",this.m_ySeriesActualData=[],this.m_stackWidth="",this.m_stackHeightArray="",this.seriesChartType=""}function ValueText(){this.xPosition,this.yPosition,this.ctx="",this.m_chart="",this.m_ySeriesData,this.datalabelProperties="",this.m_ySeriesActualData,this.m_stackWidth="",this.m_stackHeight="",this.seriesChartType="",this.MaxValue}function SVGValueTextSeries(){this.xPositionArray=[],this.yPositionArray=[],this.ctx="",this.m_chart="",this.m_ySeriesData=[],this.svgvalueText=[],this.datalabelProperties="",this.m_ySeriesActualData=[],this.m_stackWidth,this.m_stackHeightArray,this.seriesChartType,this.MaxValue}function SVGValueText(){this.base=ValueText,this.base()}function Stack(){this.m_stackXPixel,this.m_stackYPixel,this.m_stackWidth,this.m_stackHeight,this.m_stackColor=[],this.m_showGradient,this.ctx="",this.checkStroke=!0,this.m_ySeriesData,this.m_chart,this.m_showDataLabel,this.fontstyle,this.fontweight,this.fontsize,this.fontfamily,this.fontcolor}function DataGrid(){this.base=Widget,this.base(),this.plugin=new Plugin,this.m_compareindices="",this.m_id="",this.m_rowheight="",this.m_url="",this.m_maxrowcount="",this.m_rowcount="10",this.m_labelfontfamily="Roboto",this.m_datagridtype="",this.m_colorbycomparison="",this.m_alerttype="",this.m_title="",this.m_valuesgood="",this.m_alertcolors="",this.m_showgradient="",this.m_labeltextdecoration="",this.m_name="",this.m_labelfontsize="",this.m_fontweight="",this.m_xmlwithcolorcolumn="",this.m_labelfontstyle="",this.m_textdecoration="",this.m_labelfontweight="",this.m_gaugeclickenable="",this.m_labelfontcolor="",this.m_fontcolor="",this.m_gaugeorder="1",this.m_alertvalues="",this.m_alertwithdata="",this.m_alertundefinedcolor="rgb(204, 204, 204)",this.m_percentval="",this.m_fontfamily="",this.m_showtitle="true",this.m_showsubtitle="true",this.m_fontstyle="",this.m_gradientcolor="",this.m_globalkey="",this.m_showborder="",this.m_fontsize="",this.m_align="",this.m_showinfobutton="",this.m_declinefillcolor="#f1f1f1",this.m_languageMapping="",this.m_alertObj=new Object,this.m_fieldsObj,this.m_chartFrame=new ChartFrame,this.m_title=new Title(this),this.m_subTitle=new SubTitle,this.m_linkbutton=new LinkButton,this.m_column=new Column,this.m_datagridstyles=new DatagridStyles,this.m_rowdata=new RowData,this.m_linkbar=new LinkBar,this.m_alerts=new Alerts,this.m_dashboard="",this.m_isEmptySeries=!0,this.m_showexceldownload="true",this.m_usefieldcolorasheader="false",this.m_headersymbolcolor="#000",this.m_headerchromecolor="#2E64FE",this.m_usefieldalign=!0,this.m_headertextalign="center",this.m_headertextdecoration="normal",this.m_headerfontfamily="Roboto",this.m_headerfontsize="12",this.m_headerfontstyle="normal",this.m_headerfontweight="normal",this.m_headerfontcolor="#ff0000",this.m_bggradientrotation="0",this.m_bgalpha="1",this.m_bggradients="#ffccff",this.m_textwrap=!0,this.m_defaultalertcolor="#e0dfdf",this.m_exporttogrid=!1,this.m_adjustpixel=1,this.m_gridcustomtooltip=!1,this.m_updateddesign=!1,this.m_titletextwrap=!0,this.m_subtitletextwrap=!0}function LinkButton(){this.m_selectedcolor,this.m_textrollovercolor,this.m_id,this.m_textcolor,this.m_description,this.m_textselectedcolor,this.m_titrollovercolorle}function Column(){this.m_columnwisefill,this.m_columnindeciesarray,this.m_columncolorarray}function DatagridStyles(){this.m_showhorizontalgridlines,this.m_enableitemrenderer,this.m_headercolors,this.m_alternaterowscolor,this.m_horizontalgridlinecolor,this.m_selectioncolor,this.m_verticalgridlinecolor,this.m_rollovercolor,this.m_texthovercolor,this.m_gridcolor="#ffffff,#D9E5EC"}function RowData(){this.m_allindeciesarray,this.m_rowwisefill,this.m_rowindeciesarray}function LinkBar(){this.m_selectedcolor,this.m_linkbarcolor,this.m_textrollovercolor,this.m_seperatorcolor,this.m_textcolor,this.m_textselectedcolor,this.m_rollovercolor,this.m_texthovercolor}function Alerts(){this.m_alertColumn=[]}function AlertColumn(){this.m_showalert,this.m_colors,this.m_fixedvalue,this.m_ranges,this.m_staticrange,this.m_operatorname,this.m_alerttype,this.m_equalitymode,this.m_fixedvaluecompare,this.m_comparecolumn,this.m_showdata,this.m_alertposition,this.m_alertsize=18,this.m_name,this.m_rangeColorsImages=[],this.m_pagingDg="",this.m_chart="",this.m_numberMap={},this.m_defaultcolor="#e0dfdf",this.m_showdynamicrange="false",this.m_mincolor="#ff0000",this.m_maxcolor="#000000",this.m_customicon="bd-down-arrow,bd-minus,bd-up-arrow",this.m_defaultcustomicon="bd-minus"}function getToolTip(t,e,i,o,a,r,s,n){var h,l=document.getElementById("WatermarkDiv"),c=document.getElementsByClassName("draggableWidgetDiv"),m=null==l?0:l.scrollLeft,d=(null==l||l.scrollTop,(null==l?c[0]:l).clientWidth),c=(null==l?c[0]:l).clientHeight,l=window.pageXOffset,d=l+d,c=window.pageYOffset+c;if(void 0!==s&&IsBoolean(s)){var p,_=JSON.parse(b64DecodeUnicode(i)),u="";for(p in _)u=u+"<p>"+p+" : "+_[p]+"</p>";i=u}else isNaN(i)&&t.textContent!==i&&(i="&nbsp;"===(i=b64DecodeUnicode(i))?"":i);$("#toolTipDiv").remove(),IsBoolean(e)&&0<""+i.trim().length&&((s=document.createElement("div")).id="toolTipDiv",s.setAttribute("class","settingIcon"),document.body.appendChild(s),o=""!=o?hex2rgb(convertColorToHex(o),a):"#ffffff",$(s).css({visibility:"",display:"block",position:"absolute",opacity:"1",padding:n?"24px":"5px","z-index":"999",fontFamily:selectGlobalFont("Roboto"),fontSize:"12px",width:r+"px",fontWeight:"normal",zIndex:"10000",backgroundColor:o,border:n?"0px solid #cccccc":"1px solid #cccccc",borderRadius:n?"8px":"0px"}),s.innerHTML=i,t=s.clientWidth,e=s.clientHeight,a={left:+pageX-t/2+ +m,top:+pageY+10},+pageX+t/2>=d&&(0<+a.left?(a.left=+a.left-t/2+26,h="left"):-1*a.left<+t/3&&(a.left=-1*a.left)),+pageX-t/2<=l&&(a.left=+a.left+t/2-58,h="right"),r=pageY-+e-40,+pageY+e>=c&&0<r?(a.top=r,"left"==h?s.setAttribute("placement","top-right"):"right"==h?s.setAttribute("placement","top-left"):(s.setAttribute("placement","top"),a.left=a.left-20)):"left"==h?s.setAttribute("placement","bottom-right"):"right"==h?s.setAttribute("placement","bottom-left"):(s.setAttribute("placement","bottom"),a.left=a.left-20),$(s).css({left:a.left+"px",top:a.top+"px","text-align":"left",width:t}))}function hideToolTip(){$("#tooltipDiv").remove()}function Filter(){this.base=Widget,this.base(),this.m_checkboxselected,this.m_dataurl="",this.m_indexstring="",this.m_fieldname="",this.m_fontstyle="",this.m_fontsize="",this.m_selectedindex="",this.m_type="",this.m_direction="",this.m_showckeckbox="",this.m_name="",this.m_globalkey="",this.m_id="",this.m_fontcolor="",this.m_hierarchylevel="",this.m_layout="",this.m_fontweight="",this.m_textdecoration="",this.m_fontfamily="",this.m_chromecolor="",this.m_selectioncolor="",this.m_rollovercolor="",this.m_selectedvalue="",this.m_description="",this.m_dataSetObject="",this.m_isActive=!0,this.m_valuesObject=[],this.m_controlledselection=!1,this.m_dashboardname="",this.m_allowmultipleselection="",this.m_backgroundcolor="#FFFFFF",this.m_associatedfilterchipsid="",this.m_categoryData=[],this.m_seriesData=[],this.m_hideokbutton=!1,this.m_searchboxuiobj={placeholder:"Search ...",border:"1",borderStyle:"solid",borderColor:"#c2c2c2",backgroundColor:"transparent",margin:"3",padding:"5"},this.m_title=new FilterTitle,this.m_enablegvautoupdate=!1,this.m_notifygvautoupdate=!1}function FilterTitle(){this.m_showtitle=!1,this.m_showgradient=!1,this.m_align="left",this.m_formattedDescription="",this.m_titlebarheight=25,this.m_gradientcolorsArray=[],this.m_chartLeftRightMargin=5,this.m_fontsize=10,this.m_fontweight="normal",this.m_fontfamily="Roboto",this.m_fontstyle="normal",this.m_fontcolor="#000000",this.m_textalign="center",this.m_textdecoration="none",this.m_align="center",this.m_description="",this.m_titlewidth=50,this.m_showonlytitle=!1}function Values(){this.m_label="",this.m_value="",this.m_uncheckedvalue=""}NiceScale.prototype.getOptimumTicks=function(t){try{for(var e=[{h:100,m:2},{h:120,m:3},{h:160,m:4},{h:200,m:5},{h:300,m:6},{h:400,m:8},{h:600,m:12},{h:750,m:15},{h:1e3,m:20},{h:2e3,m:25}],i=0;i<e.length;i++)if(+e[i].h>=+t)return+e[i].m}catch(t){}return t<201?5:10},NiceScale.prototype.calculate=function(){this.range=this.niceNum(this.maxPoint-this.minPoint,!1),this.tickSpacing=this.niceNum(this.range/(this.maxTicks-1),!0),this.niceMin=Math.floor(this.minPoint/this.tickSpacing)*this.tickSpacing,this.niceMax=Math.ceil(this.maxPoint/this.tickSpacing)*this.tickSpacing,IsBoolean(this.autoAxis)&&"100%"!=this.chartType&&(this.niceMin==this.minPoint&&0!==this.minPoint&&(this.niceMin=this.niceMin-this.tickSpacing),this.niceMax==this.maxPoint)&&(this.niceMax=this.niceMax+this.tickSpacing),this.markerArray=[];var t,e=this.niceMin,i=void 0!==(i=(this.tickSpacing+"").split("."))[1]?i[1].length:0;for(0!=+e&&(e=this.niceMin.toFixed(i)),IsBoolean(this.showMinPoint)&&0!==this.minPoint&&(this.niceMin=(e-this.tickSpacing).toFixed(i),this.markerArray.push(this.niceMin));;)if(this.markerArray.push(e),(e=(e=+e+ +this.tickSpacing)&&-1<e.toString().indexOf("e")?(+(t=e.toString().split("e"))[0]).toFixed(i)+"e"+t[1]:(+e).toFixed(i))>this.niceMax||30<this.markerArray.length)break;IsBoolean(this.showMaxPoint)&&(this.niceMax=this.niceMax+this.tickSpacing,this.markerArray.push(this.niceMax))},NiceScale.prototype.niceNum=function(t,e){var i=Math.floor(this.getBaseLog(10,t)),t=t/Math.pow(10,i),e=e?t<1.5?1:t<3?2:t<7?5:10:t<=1?1:t<=2?2:t<=5?5:10;return e*Math.pow(10,i)},NiceScale.prototype.setMinMaxPoints=function(t,e){this.minPoint=t,this.maxPoint=e,calculate()},NiceScale.prototype.setMaxTicks=function(t){this.maxTicks=t,calculate()},NiceScale.prototype.getScaleInfo=function(){return{min:this.niceMin,max:this.niceMax,step:this.tickSpacing,markerArray:this.markerArray}},NiceScale.prototype.getBaseLog=function(t,e){return Math.log(e)/Math.log(t)},svgTitle.prototype=new Title,svgTitle.prototype.drawTitleBox=function(){var t=+this.m_chart.m_x,e=+this.m_chart.m_y,i=+this.m_chart.m_width,o=this.m_titleBarHeight,a=document.createElementNS("http://www.w3.org/2000/svg","rect");a.setAttributeNS(null,"x",t),a.setAttributeNS(null,"y",e),a.setAttributeNS(null,"height",o),a.setAttributeNS(null,"width",i),a.setAttributeNS(null,"fill",this.m_gradientcolorsArray[0]),$("#"+this.m_chart.svgContainerId).append(a)},svgTitle.prototype.drawText=function(){var t;IsBoolean(this.m_chart.m_enablehtmlformate.title)?this.drawTitleTextInHTML():(t=drawSVGText(this.startX,this.startY,"",this.m_fontColor,this.getAlign(),"middle"),wrapSVGText(this,this.startX,this.startY,this.m_formattedDescription,t,this.m_chart.fontScaling(this.m_fontsize),+this.m_chart.m_width-20),t.setAttribute("dominant-baseline","middle"),t.setAttribute("style","font-family:"+this.getFontFamily()+";font-style:"+this.getFontStyle()+";font-size:"+this.m_chart.fontScaling(this.getFontSize())+"px;font-weight:"+this.getFontWeight()+";text-decoration:"+this.getTextDecoration()+";"),document.documentMode&&t.setAttribute("dy","0.3em"),$("#"+this.m_chart.svgContainerId).append(t))},svgTitle.prototype.drawTitleTextInHTML=function(){var t=this,e=($("#title"+this.m_chart.m_objectid).remove(),document.createElement("div")),i=document.createElement("span"),o=(e.setAttribute("id","title"+this.m_chart.m_objectid),i.innerHTML=this.m_chart.formattedDescription(this.m_chart,this.getDescription()),e.style.height=this.m_chart.fontScaling(t.m_titlebarheight)+"px",IsBoolean(this.m_chart.m_showmaximizebutton)?+t.maxIconWidth:0),o=IsBoolean(this.m_chart.m_showsettingmenubutton)?25+o:0+o;i.setAttribute("style","display: inline-block; vertical-align: middle; line-height: 1.1;text-decoration:inherit;"),e.setAttribute("style","position: absolute; top:0px; left:0px;height:"+this.m_chart.fontScaling(t.m_titlebarheight)+"px;width:calc(100% - "+o+"px);line-height:"+this.m_chart.fontScaling(t.m_titlebarheight)+"px;padding-left:"+t.m_chartLeftRightMargin+"px;font-family:"+this.getFontFamily()+";font-style:"+this.getFontStyle()+";font-size:"+this.m_chart.fontScaling(this.getFontSize())+"px;font-weight:"+this.getFontWeight()+";color:"+this.m_fontColor+";text-align:"+this.getAlign()+";text-decoration:"+this.getTextDecoration()+";overflow: hidden;white-space: nowrap;text-overflow: ellipsis;"),$(e).append(i),$("#draggableDiv"+t.m_chart.m_objectid).append(e)},svgSubTitle.prototype=new SubTitle,svgSubTitle.prototype.drawText=function(){var t;IsBoolean(this.m_chart.m_enablehtmlformate.subtitle)?this.drawSubTitleTextInHTML():(t=drawSVGText(this.startX,this.startY,"",this.m_fontColor,this.getAlign(),"middle"),wrapSVGText(this,this.startX,this.startY,this.m_formattedDescription,t,this.m_chart.fontScaling(this.m_fontsize),+this.m_chart.m_width-20),t.setAttribute("dominant-baseline","middle"),t.setAttribute("style","font-family:"+this.getFontFamily()+";font-style:"+this.getFontStyle()+";font-size:"+this.m_chart.fontScaling(this.getFontSize())+"px;font-weight:"+this.getFontWeight()+";text-decoration:"+this.getTextDecoration()+";"),this.m_subtitleText=t,document.documentMode&&t.setAttribute("dy","0.3em"),$("#"+this.m_chart.svgContainerId).append(t))},svgSubTitle.prototype.drawSubTitleTextInHTML=function(){$("#subTitle"+this.m_chart.m_objectid).remove();var t=document.createElement("div"),e=document.createElement("span"),i=(t.setAttribute("id","subTitle"+this.m_chart.m_objectid),e.innerHTML=this.m_chart.formattedDescription(this.m_chart,this.getDescription()),IsBoolean(this.m_chart.m_showmaximizebutton)?+this.maxIconWidth:0),i=IsBoolean(this.m_chart.m_showsettingmenubutton)?25+i:0+i,o=this.m_titleMargin;e.setAttribute("style","display: inline-block; vertical-align: top;line-height: 1.1;text-decoration:inherit;height:"+this.m_subTitleBarHeight+"px;"),t.setAttribute("style","position: absolute; top:"+o+"px;left:0px;width:calc(100% - "+i+"px);padding-left:"+this.m_chartLeftRightMargin+"px;font-family:"+this.getFontFamily()+";font-style:"+this.getFontStyle()+";font-size:"+this.m_chart.fontScaling(this.getFontSize())+"px;font-weight:"+this.getFontWeight()+";color:"+this.m_fontColor+";text-align:"+this.getAlign()+";text-decoration:"+this.getTextDecoration()+";overflow: hidden;white-space: nowrap;text-overflow: ellipsis;"),$(t).append(e),$("#draggableDiv"+this.m_chart.m_objectid).append(t)},Chart.prototype=new Widget,Chart.prototype.fontScaling=function(t){return t*this.minWHRatio()},Chart.prototype.getLegendComponentObj=function(){if(""!==this.m_associatedlegendid&&IsBoolean(!this.m_designMode)&&this.m_dashboard)for(var t=0;t<this.m_dashboard.m_widgetsArray.length;t++)if(this.m_associatedlegendid==this.m_dashboard.m_widgetsArray[t].m_objectid)return this.m_dashboard.m_widgetsArray[t]},Chart.prototype.isVisibleSeries=function(){for(var t=0;t<this.m_seriesNames.length;t++)if(this.m_seriesVisibleArr[this.m_seriesNames[t]])return!0;return!1},Chart.prototype.countVisibleSeries=function(){for(var t=0,e=0;e<this.m_seriesNames.length;e++)this.m_seriesVisibleArr[this.m_seriesNames[e]]&&(t+=1);return t},Chart.prototype.getVisibleSeriesData=function(t){for(var e={seriesData:[],seriesColor:[],seriesDisplayName:[],seriesName:[]},i=0;i<this.m_seriesNames.length;i++)this.m_seriesVisibleArr[this.m_seriesNames[i]]&&(e.seriesData.push(t[i]),e.seriesColor.push(this.m_seriesColors[i]),e.seriesDisplayName.push(this.m_seriesDisplayNames[i]),e.seriesName.push(this.m_seriesNames[i]));return e},Chart.prototype.IsDrawingPossible=function(){var t={};return IsBoolean(this.isEmptyCategory)?t={permission:"false",message:this.m_status.noCategory}:IsBoolean(this.m_isEmptySeries)?IsBoolean(0<this.m_allSeriesDisplayNames.length)?IsBoolean(this.isVisibleSeries())?IsBoolean(this.m_isEmptySeries)&&(t={permission:"false",message:this.m_status.noData}):t={permission:"false",message:this.m_status.noSeries}:t={permission:"false",message:this.m_status.noData}:t=IsBoolean(this.isVisibleSeries())?{permission:"true",message:this.m_status.success}:{permission:"false",message:this.m_status.noSeries},t},Chart.prototype.getValidInitialValue=function(t){var e=0;if(0<t.length)for(var i=0;i<t[0].length;i++)if(!isNaN(+t[0][i])){e=t[0][i];break}return e},Chart.prototype.calculateMinMaxValue=function(t){for(var e=this.getValidInitialValue(t),i=this.getValidInitialValue(t),o=t.map(function(t){return t.filter(function(t){return"undefined"!=t&&""!=t&&"null"!=t})}),a=0;a<o.length;a++)for(var r=0;r<o[a].length;r++)+o[a][r]>e&&(e=+o[a][r]),+o[a][r]<i&&(i=+o[a][r]);return{max:e,min:i}},Chart.prototype.getCalculateNiceScale=function(t,e,i,o,a,r,s,n){var h,l;return IsBoolean(this.m_customaxis.enable)?"left"==n||null==n?getCustomNiceScale(this.m_customaxis.axis.left.data.min,this.m_customaxis.axis.left.data.max,this.m_customaxis.axis.left.data.noOfMarkers,this.m_customaxis.axis.left.data.step):getCustomNiceScale(this.m_customaxis.axis.right.data.min,this.m_customaxis.axis.right.data.max,this.m_customaxis.axis.right.data.noOfMarkers,this.m_customaxis.axis.right.data.step):(n="timeline_chart"==this.m_componenttype?this.m_columntype:this.m_chartType||this.m_charttype,t===e&&(e=0<t?(t=3*t/5,21*e/20):(t=21*t/20,3*e/5)),IsBoolean(i)&&IsBoolean(o)?(h=0,l=+e):IsBoolean(i)&&!IsBoolean(o)?(h=0,l=isNaN(r)||""===r?0:+r):!IsBoolean(i)&&IsBoolean(o)?(h=+t,l=+e):IsBoolean(i)||IsBoolean(o)||(h=isNaN(a)||""===r?0:+a,l=isNaN(r)||""===r?0:+r),new NiceScale({minPoint:h,maxPoint:l=l<=h?h+4:l,compHeight:s,isMaxYaxis:this.m_ismaxyaxis,isMinYaxis:this.m_isminyaxis,noOfMarkers:this.m_noofmarkers,autoAxis:o,chartType:n}).getScaleInfo())},Chart.prototype.getMinValue=function(t,e,i,o,a,r){o=IsBoolean(o)||IsBoolean(i)?!IsBoolean(o)||IsBoolean(i)||e==t&&0<e?0:t:""!==a?a:t;return 0<=o?o=getMin(o):1<Math.abs(o)?o=-getMax(Math.abs(o))[0]:1<e&&(o=Math.floor(o)),o},Chart.prototype.getMaxValue=function(t,e,i,o,a,r,s){var n,o=IsBoolean(o)?IsBoolean(i)?(n=getMax(+e))[0]:e==t&&e<0?+(n=getMax(0-s))[0]+ +s:+(n=getMax(e-s))[0]+ +s:IsBoolean(i)?(n=getMax(0===r&&+r<+e?+e:+r))[0]:""!==a?+(n=getMax(r-s))[0]+ +s:+(n=getMax(e-s))[0]+ +s;return{max:o,numberOfMarkers:+n[1]+1,yAxisText:n[2]}},Chart.prototype.setYAxisMarkersArray=function(t,e,i,o,a,r){var s=[];if(IsBoolean(t))for(n=0;n<a;n++)s[n]=r<1?(r*n).toFixed(2):r*n;else for(var n=0;n<a;n++){var h=+i+r*n;s[n]=IsBoolean(this.isInt(h))?h:h.toFixed(3)}return s},Chart.prototype.isInt=function(t){return"number"==typeof t&&t%1==0},Chart.prototype.setShowSeries=function(t){for(var e=0;e<t.length;e++)this.m_showSeries[t[e]]=!0},Chart.prototype.getShowSeries=function(){return this.m_showSeries},Chart.prototype.getSeriesVisibility=function(){return this.getDataSet().getSeriesVisibility()},Chart.prototype.updateSeriesVisibility=function(){for(var t=0;t<this.m_seriesDisplayNames.length;t++)this.m_seriesVisibleArr[this.m_seriesDisplayNames[t]]=$("#checklist"+this.m_seriesDisplayNames[t]).is(":checked")},Chart.prototype.drawObject=function(){this.ctx.clearRect(this.m_x,this.m_y,this.m_width,this.m_height),this.m_chartFrame.init(this),this.m_chartFrame.drawFrame(),this.m_title.init(this),this.m_title.draw(),this.drawMessage(this.m_status.noDataset)},Chart.prototype.drawSVGObject=function(){this.createSVG(),this.m_chartFrame.init(this),this.drawChartFrame(),this.m_title.init(this),this.m_title.draw(),this.drawSVGMessage(this.m_status.noDataset)},Chart.prototype.draw=function(){try{this.isValidRepeaterConfig()?this.setRepeaterConfiguration():(this.deleteExistingRepeaterCharts(),this.resetOriginalChartsContainer(),this.hideToolTip(),this.setChartState(""),this.init(),this.drawChart(),""!=this.m_onafterrendercallback&&onAfterRender(this.m_onafterrendercallback)),null!=this.plugin&&null!=this.plugin&&this.plugin.initPlugin(this)}catch(t){}},Chart.prototype.setRepeaterConfiguration=function(){try{var t=this.getRepeaterData(this.getDataProvider(),this.m_repeaterfield),e=this.getRepeaterAdditionalField(this.getDataProvider(),this.m_repeaterfield,this.m_repeateradditionalfield);if(this.deleteExistingRepeaterCharts(),0!==Object.keys(t).length){$("#draggableCanvas"+this.m_objectid).hide(),$("#svgContainer"+this.m_objectid).hide(),"tree_map_chart"==this.m_componenttype&&$("#treemapDiv"+this.m_objectid).hide(),this.resetOriginalChartsContainerResiduals();var i,o,a,r=this.getRepeaterCoordinates(t),s=this.getRepeaterChartType(this.m_type).chart;for(i in t)t.hasOwnProperty(i)&&(o={Object:getDuplicateObject(JSON.parse(JSON.stringify(this.chartJson)))},a=createNewInstance(s,$("#draggableDiv"+this.m_objectid),this.m_zIndex),o.Object.objectId=r[i].objectId,o.Object.x=r[i].x,o.Object.y=r[i].y,o.Object.width=+r[i].width,o.Object.height=+r[i].height,o.Object[o.Object.subElement].isRepeater=!1,o.Object[o.Object.subElement].Title.Description=this.getRepeaterTitleSubTitle(o.Object[o.Object.subElement].Title.Description,i,e[i]),o.Object[o.Object.subElement].SubTitle.Description=this.getRepeaterTitleSubTitle(o.Object[o.Object.subElement].SubTitle.Description,i,e[i]),a.m_isRepeaterPart="true",a.m_repeaterfieldvalue=i,a.m_siblingIds=r.siblingRepeaterIds,a.m_designMode=this.m_designMode,a.m_dashboard=this.m_dashboard,a.m_parentContainer=this.m_chartContainer,a.m_parentObj=this,a.m_parentleft=this.m_left,a.m_parenttop=this.m_top,a.m_customtooltipwidth=this.m_customtooltipwidth,a.m_datasource=this.m_datasource,a.m_actionchartviews=!IsBoolean(this.m_isrepeater)&&this.m_actionchartviews,a.setProperty(o),a.setDataProvider(t[i]),a.m_isDataSetavailable=!0,a.setFields(this.m_fieldsJson),a.m_startDrill=this.m_startDrill,a.m_drillColor=this.m_drillColor,a.m_seriesVisibleArr=this.m_seriesVisibleArr,a.m_chartactions.sort.enable=this.m_actionsort,a.m_onafterrendercallback=this.m_onafterrendercallback,this.m_repeaterCharts.push(a));this.drawRepeaterCharts()}else $("#LegendContainerDiv"+this.m_associatedlegendid).remove(),this.resetOriginalChartsContainer(),this.drawObject(),this.resetOriginalChartsContainerResiduals(),this.hideToolTip(),$("#draggableDiv"+this.m_objectid).unbind(),$("#draggableCanvas"+this.m_objectid).unbind(),$("#svgContainer"+this.m_objectid).unbind(),$("#draggableDiv"+this.m_objectid).css({overflow:"hidden","overflow-x":"hidden","overflow-y":"hidden"})}catch(t){}},Chart.prototype.getRepeaterTitleSubTitle=function(t,e,i){try{return"[repeaterfield]"==t.toLowerCase()?SearchAndReplaceAllOccurence(t,"[repeaterField]",e):"[repeateradditionalfield]"==t.toLowerCase()?SearchAndReplaceAllOccurence(t,"[repeateradditionalfield]",i):SearchAndReplaceAllOccurence(t,"[repeaterField]",e)}catch(t){return e}},Chart.prototype.resetOriginalChartsContainerResiduals=function(){$("#loaderImage"+this.m_objectid).remove(),$("#loaderImageContentArrow"+this.m_objectid).remove(),$("#loaderImageContent"+this.m_objectid).remove(),$("#minmaxImage"+this.m_objectid).remove(),$("#menuSettingImage"+this.m_objectid).remove(),$("#legendIcon"+this.m_objectid).remove(),$("#legendContent"+this.m_objectid).remove(),$("#svgTimeScaleDiv"+this.m_objectid).remove(),$("#rangeSelector"+this.m_objectid).remove(),$("#menuContent"+this.m_objectId).remove(),$("#draggableDiv"+this.m_objectid).css({"overflow-x":"hidden","overflow-y":"auto"})},Chart.prototype.resetOriginalChartsContainer=function(){("svg"==this.m_canvastype?($("#draggableCanvas"+this.m_objectid).hide(),$("#svgContainer"+this.m_objectid)):$("#draggableCanvas"+this.m_objectid)).show(),$("#draggableDiv"+this.m_objectid).css({overflow:"hidden","overflow-x":"hidden","overflow-y":"hidden"})},Chart.prototype.deleteExistingRepeaterCharts=function(){try{if(this.m_repeaterCharts){for(var t=0;t<this.m_repeaterCharts.length;t++)$("#draggableDiv"+this.m_repeaterCharts[t].m_objectid).remove();this.m_repeaterCharts=[]}}catch(t){}},Chart.prototype.drawRepeaterCharts=function(){for(var t=0;t<this.m_repeaterCharts.length;t++){var e=this.m_repeaterCharts[t];try{e.setChartState(""),e.init(),e.drawChart()}catch(t){}try{""!=this.m_onafterrendercallback&&onAfterRender(this.m_onafterrendercallback.bind(e))}catch(t){}try{e.plugin.initPlugin(e)}catch(t){}}},Chart.prototype.getRepeaterCoordinates=function(t){var e,i={},o=this.m_repeatervmargin*(this.m_repeatercolumns-1),a=getScrollBarWidth(),r=Math.floor((this.m_width-o-a)/this.m_repeatercolumns),s=this.m_repeaterheight*this.minWHRatio(),n=0,h=0,l=0,c=0,m=0,d=0;for(e in i.siblingRepeaterIds=[],t){n%this.m_repeatercolumns==0&&0!=m?(l=r*(n=0),c=s*++h+this.m_repeaterhmargin*h):(l=r*n+this.m_repeatervmargin*n,c=s*h+this.m_repeaterhmargin*h,m++);var p=this.m_objectid+"_"+d++;i.siblingRepeaterIds.push(p),i[e]={x:l,y:c,width:r,height:s,objectId:p},n++}return i},Chart.prototype.getRepeaterData=function(t,e){for(var i={},o=0;o<t.length;o++)null==i[t[o][e]]&&(i[t[o][e]]=[]),i[t[o][e]].push(t[o]);return i},Chart.prototype.getRepeaterAdditionalField=function(t,e,i){for(var o={},a=0;a<t.length;a++)null==o[t[a][e]]&&(o[t[a][e]]=t[a][i]);return o},Chart.prototype.getBgGradients=function(){return this.m_bggradients},Chart.prototype.getType=function(){return this.m_type},Chart.prototype.setType=function(t){this.m_type=t},Chart.prototype.getChartType=function(){return this.m_charttype},Chart.prototype.setChartType=function(t){this.m_charttype=t},Chart.prototype.getShowGradient=function(){return this.m_showgradient},Chart.prototype.setShowGradient=function(t){this.m_showgradient=t},Chart.prototype.getShowPoint=function(){return this.m_showpoint},Chart.prototype.setShowPoint=function(t){this.m_showpoint=t},Chart.prototype.getShowLegends=function(){return this.m_showlegends},Chart.prototype.setShowLegends=function(t){this.m_showlegends=t},Chart.prototype.getLegendDirection=function(){return this.m_legenddirection},Chart.prototype.setLegendDirection=function(t){this.m_legenddirection=t},Chart.prototype.getShowcheckboxwithlegend=function(){return this.m_showcheckboxwithlegend},Chart.prototype.setShowcheckboxwithlegend=function(t){this.m_showcheckboxwithlegend=t},Chart.prototype.getPrecision=function(){return this.m_precision},Chart.prototype.setPrecision=function(t){this.m_precision=t},Chart.prototype.getSecondaryAxisPrecision=function(){return this.m_secondaryaxisprecision},Chart.prototype.setSecondaryAxisPrecision=function(t){this.m_secondaryaxisprecision=t},Chart.prototype.getAxisColor=function(){return this.m_axiscolor},Chart.prototype.setAxisColor=function(t){this.m_axiscolor=t},Chart.prototype.getSignPosition=function(){return this.m_signposition},Chart.prototype.setSignPosition=function(t){this.m_signposition=t},Chart.prototype.getFixedLabel=function(){return this.m_fixedlabel},Chart.prototype.setFixedLabel=function(t){this.m_fixedlabel=1===t},Chart.prototype.getSeriesColor=function(){return this.m_seriescolor},Chart.prototype.setSeriesColor=function(t){this.m_seriescolor=t},Chart.prototype.getLineForm=function(){return this.m_lineform},Chart.prototype.setLineForm=function(t){this.m_lineform=t},Chart.prototype.getFormater=function(){return this.m_formater},Chart.prototype.setFormater=function(t){this.m_formater=t},Chart.prototype.getSecondaryFormater=function(){return this.m_secondaryformater},Chart.prototype.setSecondaryFormater=function(t){this.m_secondaryformater=t},Chart.prototype.getUnit=function(){return this.m_unit},Chart.prototype.setUnit=function(t){this.m_unit=t},Chart.prototype.getSecondaryUnit=function(){return this.m_secondaryunit},Chart.prototype.setSecondaryUnit=function(t){this.m_secondaryunit=t},Chart.prototype.getGlobalKey=function(){return this.m_globalkey},Chart.prototype.setGlobalkey=function(t){this.m_globalkey=t},Chart.prototype.getName=function(){return this.m_name},Chart.prototype.setName=function(t){this.m_name=t},Chart.prototype.getTitle=function(){return this.m_title},Chart.prototype.setTitle=function(t){this.m_title=t},Chart.prototype.getSubTitle=function(){return this.m_subTitle},Chart.prototype.setSubTitle=function(t){this.m_subTitle=t},Chart.prototype.getLegend=function(){return this.m_heatMaplegend},Chart.prototype.setLegend=function(t){this.m_heatMaplegend=t},Chart.prototype.getXAxes=function(){return this.m_xAxes},Chart.prototype.setXAxes=function(t){this.m_xaxis=this.m_xAxes=t},Chart.prototype.getYAxes=function(){return this.m_yAxes},Chart.prototype.setYAxes=function(t){this.m_yaxis=this.m_yAxes=t},Chart.prototype.getDataSet=function(){return this.m_dataSet},Chart.prototype.setDataSet=function(t){this.m_dataSet=t},Chart.prototype.getConditionalColors=function(){return this.m_conditionalColors},Chart.prototype.setConditionalColors=function(t){this.m_conditionalColors=t},Chart.prototype.getCategoryColors=function(){return this.m_categoryColors},Chart.prototype.setCategoryColors=function(t){this.m_categoryColors=t},Chart.prototype.getSubCategoryColors=function(){return this.m_subCategoryColors},Chart.prototype.setSubCategoryColors=function(t){this.m_subCategoryColors=t},Chart.prototype.getStartValueNames=function(){return this.getDataSet().getFieldByStartValue()},Chart.prototype.getEndValueNames=function(){return this.getDataSet().getFieldByEndValue()},Chart.prototype.getCategoryNames=function(){return this.getDataSet().getFieldbyCategory()},Chart.prototype.getSeriesNames=function(){return this.getDataSet().getFieldbySeries()},Chart.prototype.getNoneNames=function(){return this.getDataSet().getFieldByNoneValue()},Chart.prototype.createLegendObj=function(t){return"horizontal"==t?this.m_legend=new LegendHorizontal:"vertical"==t?this.m_legend=new LegendVertical:this.m_legend},Chart.prototype.isAxisSetup=function(){return!!IsBoolean(this.m_autoaxissetup)},Chart.prototype.isBaseZero=function(){return!!IsBoolean(this.m_basezero)},Chart.prototype.isSeriesDataEmpty=function(){this.m_isEmptySeries=!1,"new_word_cloud_chart"==this.m_componenttype&&("paragraph"==this.m_wordinputformat&&0==this.getCategoryData()[0].length||"word"==this.m_wordinputformat&&""==this.m_seriesData||0!=this.m_seriesData.length&&0==this.m_seriesData[0].length)&&(this.m_isEmptySeries=!0),("new_word_cloud_chart"!=this.m_componenttype&&""==this.m_seriesData||0!=this.m_seriesData.length&&0==this.m_seriesData[0].length)&&(this.m_isEmptySeries=!0)},Chart.prototype.getFieldNameValueMap=function(t){for(var e=new Object,i=this.getAllFieldsName(),o=0;o<i.length;o++)e[i[o]]=this.getDataProvider()[t][i[o]];return e},Chart.prototype.drawMessage=function(t){this.ctx.beginPath(),this.ctx.fillStyle=convertColorToHex(this.m_statuscolor),this.ctx.font=this.m_statusfontsize+"px "+selectGlobalFont(this.m_statusfontfamily),this.ctx.textAlign="left";var e=this.ctx.measureText(t).width,e=this.m_width-e;this.ctx.fillText(t,+this.m_x+e/2,+this.m_y+this.m_height/2),this.ctx.fill(),this.ctx.closePath()},Chart.prototype.drawSVGMessage=function(t){(t=drawSVGText(+this.m_x+this.m_width/2,+this.m_y+this.m_height/2,t,this.m_statuscolor,"center","middle",0)).setAttribute("style","font-family:"+selectGlobalFont(this.m_statusfontfamily)+";font-style:none;font-size:"+this.m_statusfontsize+"px;font-weight:normal;text-decoration:none;"),$("#"+this.svgContainerId).append(t)},Chart.prototype.toTitleCase=function(e){try{return(""+e).replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})}catch(t){return""+e}},Chart.prototype.underLine=function(t,e,i,o,a,r){var t=this.ctx.measureText(t).width,s=0,i=+i+parseInt(a)/15+1,n=0,h=i,n="center"===r?(s=e-t/2,e+t/2):"right"===r?(s=e-t,e):(s=e)+t,r=(r=parseInt(a)/15)<1?1:r;this.ctx.beginPath(),this.ctx.strokeStyle=o,this.ctx.lineWidth=r,this.ctx.moveTo(s,i),this.ctx.lineTo(n,h),this.ctx.stroke()},Chart.prototype.getNumberWithCommas=function(t){return getNumberWithCommas(t)},Chart.prototype.getRoundValue=function(t,e){for(var i,o,a,r,s=t.length,n=0,h=0,l=[],c=t.length,m=[];s--;)h+=l[s]=Math.round(t[s]);for(i=h<e?1:-1;h!==e;){for(s=0;s<c;s++)n=d(t[o=s===c-1?0:s+1],l[o]+i)<d(t[s],l[s]+i)?o:n;l[n]+=i,h+=i}for(s=0;s<c;s++)m[s]=l[s]&&Math.abs(t[s]-l[s])/t[s];for(s=0;s<c;s++)for(n=0;n<c;n++)n!==s&&(r=d(t[s],l[s]+1)+d(t[n],l[n]-1),a=d(t[s],l[s]-1)+d(t[n],l[n]+1),r<(r=m[s]+m[n])&&(l[s]=l[s]+1,l[n]=l[n]-1,m[s]=l[s]&&Math.abs(t[s]-l[s])/t[s],m[n]=l[n]&&Math.abs(t[n]-l[n])/t[n]),a<r)&&(l[s]=l[s]-1,l[n]=l[n]+1,m[s]=l[s]&&Math.abs(t[s]-l[s])/t[s],m[n]=l[n]&&Math.abs(t[n]-l[n])/t[n]);function d(t,e){return Math.abs(t-e)/t}return l},Chart.prototype.getCloserRoundValue=function(t,e){for(var i,o=t.length,a=1,r=0,s=[],n=t.length;o--;)r+=s[o]=Math.round(t[o]);for(i=r<e?1:-1;r!==e;){for(o=0;o<n;o++)a=h(t[a],s[a]+i)<h(t[o],s[o]+i)?a:o;s[a]+=i,r+=i}function h(t,e){return Math.abs(t-e)}return s},Chart.prototype.drawTooltip=function(t,e){var i;IsBoolean(this.m_isEmptySeries)||this.m_designMode||(i=this.getToolTipData(t,e),this.m_hovercallback&&""!==this.m_hovercallback?this.drawCallBackContent(t,e,i):(this.drawTooltipContent(i),this.m_showannotationTooltip=!1))},Chart.prototype.drawCallBackContent=function(mouseX,mouseY,toolTipData){var component=this,data=(this.hideToolTip(),{}),map=(data.toolTipData=toolTipData,data.component=component,this.getDrillDataPoints(mouseX,mouseY));map?(data.value=map.drillRecord,data.color=map.drillColor):(data.value="",data.color="");try{toolTipData&&component.m_hovercallback?eval(component.m_hovercallback+"(data)"):this.hideToolTip()}catch(e){this.hideToolTip()}},Chart.prototype.initializeToolTipProperty=function(){""==this.m_customtextboxfortooltip?(this.m_customtextboxfortooltip={dataTipTypeArray:"",dataTipType:"Default",datatipData:"",formatter:{},useComponentFormatter:!0,displayWindow:"textBox"},IsBoolean(this.m_showtooltip)||(this.m_customtextboxfortooltip.dataTipType="None")):""==this.m_customtextboxfortooltip.dataTipTypeArray&&(IsBoolean(this.m_showtooltip)?this.m_customtextboxfortooltip={dataTipTypeArray:"",dataTipType:"Default",datatipData:"",formatter:{},useComponentFormatter:!0,displayWindow:"textBox"}:this.m_customtextboxfortooltip.dataTipType="None"),null==this.m_customtextboxfortooltip.formatter&&(this.m_customtextboxfortooltip.formatter={}),null==this.m_customtextboxfortooltip.useComponentFormatter&&(this.m_customtextboxfortooltip.useComponentFormatter=!0),null==this.m_customtextboxfortooltip.displayWindow&&(this.m_customtextboxfortooltip.displayWindow="textBox")},Chart.prototype.drawTooltipContent=function(t){this.m_tooltip.draw(t,this.m_componenttype)},Chart.prototype.updateTooltipData=function(t){for(var e=$.extend(!0,{},t),i=(e.data=[],e.highlightIndex),o=0,a=t.data.length;o<a;o++)""!==t.data[o][2]?e.data.push(t.data[o]):i>e.data.length&&(e.highlightIndex=--i);return e},Chart.prototype.getHTMLShape=function(t){return this.m_shapeMap.hasOwnProperty(t)?this.m_shapeMap[t]:this.m_shapeMap.default},Chart.prototype.drawLegendShape=function(t,e){var i=document.createElement("span");return $(i)[0].setAttribute("class",t),$(i)[0].setAttribute("style","color:"+e+"; height:10px; width:10px; font-size:10px;"),$(i)[0].outerHTML},Chart.prototype.getLegendInfo=function(){return{}},Chart.prototype.drawLegends=function(){try{this.drawChartLegends(),IsBoolean(this.m_legendFlag)||null==this.m_legendFlag?this.drawLegendComponent():this.m_legendFlag=!0}catch(t){}},Chart.prototype.drawChartLegends=function(){IsBoolean(this.getShowLegends())?(this.drawLegendIcon(),IsBoolean(this.m_designMode)||this.drawLegendContentDiv()):$("#legendIcon"+this.m_objectid).remove()},Chart.prototype.isSeriesDataAvailable=function(t){return!!IsBoolean(t.associatedChartObject.m_isrepeater)||0<t.associatedChartObject.m_seriesData.length&&0<t.associatedChartObject.m_seriesData[0].length},Chart.prototype.drawLegendComponent=function(){var t;IsBoolean(this.m_designMode)||null!=(t=this.getLegendComponentObj())&&(IsBoolean(this.isSeriesDataAvailable(t))?IsBoolean(this.m_isRepeaterPart)&&this.m_parentObj?(t.m_associatedchartid=this.m_parentObj.m_objectid,t.m_associatedrepeaterchartid=this.m_objectid,0!=this.m_objectid.split("_")[1]&&"maximized"!=this.getChartState()&&"minimized"!=this.getChartState()||t.drawObject()):(t.m_associatedchartid=this.m_objectid,t.drawObject()):$("#LegendContainerDiv"+t.m_objectid).remove())},Chart.prototype.drawLegendIcon=function(){var e,i=this,t=this.fontScaling(16),o=IsBoolean(this.m_showmaximizebutton)?IsBoolean(this.m_updateddesign)?+this.getTitleBarHeight()+16:+this.getTitleBarHeight()+5:+this.m_y+(this.getTitleBarHeight()-this.m_legendfontsize)/2+this.m_legendfontsize/2-this.fontScaling(10),t=this.drawFontIcons("legendIcon","",this.m_width-25,o,this.m_legendiconshape,t),a=(i.m_designMode||(t.onclick=function(t){$("#legendIconTooltipDiv").remove(),$("#legendContent"+i.m_objectid).toggle("slide",{direction:"right"},200);var e=$("#legendContent"+i.m_objectid).position();e&&"none"!=$("#legendContent"+i.m_objectid).css("display")&&$("#legendContent"+i.m_objectid).css({top:e.top,left:e.left})}),selectGlobalFont(this.m_legendfontfamily)),o=25+o;e=this.m_showslider?6*this.m_sliderheightratio+"px":"0px",IsBoolean(isTouchEnabled)||$("#legendIcon"+i.m_objectid).hover(function(){var t;i.m_designMode||((t=document.createElement("div")).innerHTML="Legends",t.setAttribute("class","minMax"),t.setAttribute("placement","bottom"),t.setAttribute("id","legendIconTooltipDiv"),$(t).css({"font-family":a,"font-size":"12px",top:o,right:e,"z-index":1e4,border:"1px solid #e0dfdf",padding:"5px",position:"absolute","background-color":"#ffffff"}),$("#draggableDiv"+i.m_objectid).append(t))},function(){$("#legendIconTooltipDiv").remove()})},Chart.prototype.getLegendTableContent=function(){for(var t="",e=0;e<this.getLegendNames().length;e++){var i=this.getLegendShape(e),i=this.getHTMLShape(i);t+='<tr style="font-style:'+this.m_legendfontstyle+";color:"+convertColorToHex(this.m_legendfontcolor)+";text-decoration:"+this.m_legendtextdecoration+";font-weight:"+this.m_legendfontweight+";font-family:"+selectGlobalFont(this.m_legendfontfamily)+'"><td>'+this.drawLegendShape(i,this.getSeriesColors()[e])+'<span style="display:inline-table;">'+this.getLegendNames()[e]+"</span> </td></tr>"}return t},Chart.prototype.getCategoryLegendTableContent=function(){for(var t="",e=[],i=this.getDataProvider(),o=this.getDataProvider().length,a=0;a<o;a++)for(j=0;j<this.getCategoryNames().length;j++){var r=this.getCategoryNames()[j],r=i[a][r];null==r||""===r||e.includes(r)||e.push(r)}for(var s=this.m_categoryColors.m_categoryColor||[],n=this.m_categoryFieldColor[0]||"#F89406",a=0;a<e.length;a++){var h=s.findIndex(function(t){return t.m_categoryname===e[a]}),h=null!=s[h]&&-1!=h?s[h].m_color:n,l=this.getHTMLShape("cube");t+='<tr style="font-style:'+this.m_legendfontstyle+";color:"+convertColorToHex(this.m_legendfontcolor)+";text-decoration:"+this.m_legendtextdecoration+";font-weight:"+this.m_legendfontweight+";font-family:"+selectGlobalFont(this.m_legendfontfamily)+'"><td>'+this.drawLegendShape(l,h)+'<span style="display:inline-table;">'+e[a]+"</span> </td></tr>"}return t},Chart.prototype.getSubCategoryLegendTableContent=function(){for(var t="",e=[],i=this.getDataProvider(),o=this.getDataProvider().length,a=0;a<o;a++)for(j=0;j<this.getSubCategoryNames().length;j++){var r=this.getSubCategoryNames()[j],r=i[a][r];null==r||""===r||e.includes(r)||e.push(r)}for(var s=this.m_subCategoryColors.m_subcategoryColor||[],n=this.m_subCategoryFieldColor[0]||"#F89406",a=0;a<e.length;a++){var h=s.findIndex(function(t){return t.m_subcategoryname===e[a]}),h=null!=s[h]&&-1!=h?s[h].m_color:n,l=this.getHTMLShape("cube");t+='<tr style="font-style:'+this.m_legendfontstyle+";color:"+convertColorToHex(this.m_legendfontcolor)+";text-decoration:"+this.m_legendtextdecoration+";font-weight:"+this.m_legendfontweight+";font-family:"+selectGlobalFont(this.m_legendfontfamily)+'"><td>'+this.drawLegendShape(l,h)+'<span style="display:inline-table;">'+e[a]+"</span> </td></tr>"}return t},Chart.prototype.getLegendShape=function(t){return this.legendMap[this.getSeriesNames()[t]].shape},Chart.prototype.getLegendContentDiv=function(){var t=IsBoolean(this.m_showmaximizebutton)?IsBoolean(this.m_updateddesign)?+this.getTitleBarHeight()+16:+this.getTitleBarHeight()+5:+this.m_y+(this.getTitleBarHeight()-this.m_legendfontsize)+this.m_legendfontsize/2-this.fontScaling(10),e=($("#legendContent"+this.m_objectid).remove(),document.createElement("div"));return e.setAttribute("id","legendContent"+this.m_objectid),e.style.position="absolute",e.style.zIndex=this.m_zIndex,e.style.visible="hidden",e.style.width="100px",e.style.top=t+"px",this.m_draggableDiv.appendChild(e),e},Chart.prototype.drawLegendContentDiv=function(){var t=this,e=this.getLegendContentDiv(),i='<table class="legend">'+("category"==this.m_legendShowType?this.getCategoryLegendTableContent():"subcategory"==this.m_legendShowType?this.getSubCategoryLegendTableContent():this.getLegendTableContent())+"</table>",o=($(e).append(i),convertColorToHex(t.m_legendbackgroundcolor)),i=($(e).find(".legend").css("background-color",hex2rgb(o,t.m_legendbackgroundtransparency)),$(e).find("td").each(function(){$(this).css({"background-color":hex2rgb(o,t.m_legendbackgroundtransparency),"font-size":t.m_legendfontsize+"px"})}),$("#legendContent"+t.m_objectid).height());+i>+this.m_height-35&&$("#legendContent"+t.m_objectid).css({height:+this.m_height-35+"px","overflow-x":"hidden"});var a=e.getElementsByTagName("table")[0].offsetWidth;0==a?a=119:+i>+this.m_height-35?a+=20:a=a>this.getLegendTableWidth()?+a+10:+this.getLegendTableWidth(),e.style.width=a+"px",this.m_showslider?e.style.left=this.m_width-a-25-7*this.m_sliderheightratio+"px":e.style.left=this.m_width-a-35+"px",IsBoolean(this.m_hidelegendonstart)&&$(e).toggle()},Chart.prototype.getLegendTableWidth=function(){for(var t=[],e=0;e<this.getLegendNames().length;e++){var i=(""+this.getLegendNames()[e]).split(" ")[0];t[e]=+this.ctx.measureText(i).width+30}return Math.max.apply(null,t)},Chart.prototype.getMarginForTitle=function(){return IsBoolean(this.getShowGradient())||IsBoolean(this.m_showmaximizebutton)||IsBoolean(this.m_showsettingmenubutton)||IsBoolean(this.getTitle().m_showtitle)?+this.getTitleBarHeight()+this.getTitleToSubtitleMargin():this.getTitleToSubtitleMargin()},Chart.prototype.getMarginForSubTitle=function(){return IsBoolean(this.m_subTitle.m_showsubtitle)?""!==this.m_subTitle.getDescription()?1.5*this.m_subTitle.getFontSize()+ +this.getSubttitleToChartMargin():+this.getSubttitleToChartMargin()+10:0},Chart.prototype.getXAxisDescriptionMargin=function(){return""!==(IsBoolean(this.m_xAxis.m_showdatasetdescription)?this.m_allCategoryDisplayNames.join(""):this.m_xAxis.getDescription())?1.5*this.m_xAxis.getFontSize():5},Chart.prototype.getYAxisDescriptionMargin=function(){return""!==(IsBoolean(this.m_yAxis.m_showdatasetdescription)?this.m_allSeriesDisplayNames.reduce(function(t,e){return""!==e?""===t?e:t+", "+e:t},""):this.m_yAxis.m_description)?"underline"==this.m_yAxis.m_textdecoration?1.5*this.fontScaling(this.m_yAxis.getFontSize())+1:1.5*this.fontScaling(this.m_yAxis.getFontSize()):0},Chart.prototype.getSecondYAxisDescriptionMargin=function(){var t,e=0,i=0;return+(i=""!==this.m_secondaxisdiscription&&0<this.rightAxisInfo.markerarray.length&&(t=IsBoolean(this.m_enablehtmlformate.secondaryaxis)?"<br>":"\\n",e=this.fontScaling(this.m_secondaxisfontsize)*(3<this.m_secondaxisdiscription.split(t).length?2:this.m_secondaxisdiscription.split(t).length-1),i=1.5*this.fontScaling(this.m_secondaxisfontsize),"underline"==this.m_secondaxistextdecoration)?+i+1:i)+ +e},Chart.prototype.getVerticalLegendMargin=function(){return IsBoolean(this.getShowLegends())?20:+this.m_chartpaddings.rightLegendSpace||10},Chart.prototype.getTitleToSubtitleMargin=function(){return this.m_chartpaddings.topTitleToSubtitle=IsBoolean(this.m_updateddesign)?27:this.m_chartpaddings.topTitleToSubtitle,this.m_chartpaddings.topTitleToSubtitle},Chart.prototype.getSubttitleToChartMargin=function(){return this.m_chartpaddings.topSubtitleToChart=IsBoolean(this.m_updateddesign)?26:this.m_chartpaddings.topSubtitleToChart,this.m_chartpaddings.topSubtitleToChart},Chart.prototype.getChartMargin=function(){return this.m_chartpaddings.bottomBorderToDescription=IsBoolean(this.m_updateddesign)?40:this.m_chartpaddings.bottomBorderToDescription,this.m_chartpaddings.bottomBorderToDescription},Chart.prototype.getHorizontalLegendMargin=function(){return this.m_chartpaddings.bottomDescriptionToMarkers},Chart.prototype.getBorderToLegendMargin=function(){return this.m_chartpaddings.rightBorderToLegend},Chart.prototype.getVerticalLegendToXAxisMargin=function(){return this.m_chartpaddings.rightLegendToLine},Chart.prototype.getLegendToDescriptionMargin=function(){return this.m_chartpaddings.rightLegendToDescription},Chart.prototype.getSecondAxisToXAxisMargin=function(){return this.m_chartpaddings.rightDescriptionToMarkers},Chart.prototype.getSecondAxisLabelToAxisMargin=function(){return this.m_chartpaddings.rightMarkersToLine},Chart.prototype.getBorderToDescriptionMargin=function(){return this.m_chartpaddings.leftBorderToDescription=IsBoolean(this.m_updateddesign)?21:this.m_chartpaddings.leftBorderToDescription,this.m_chartpaddings.leftBorderToDescription},Chart.prototype.getDescriptionToLabelMargin=function(){return this.m_chartpaddings.leftDescriptionToMarkers},Chart.prototype.getLabelToAxisMargin=function(){return this.m_chartpaddings.leftMarkersToLine=IsBoolean(this.m_updateddesign)?10:this.m_chartpaddings.leftMarkersToLine,this.m_chartpaddings.leftMarkersToLine},Chart.prototype.getChartToBorderMargin=function(){return this.m_chartpaddings.chartToBorder},Chart.prototype.getUpdatedFormatterForToolTip=function(t,e){e=isNaN(getNumericComparableValue(t))||""==t||null==t?t:void 0!==e&&void 0!==this.m_customtextboxfortooltip.useComponentFormatter&&!IsBoolean(this.m_customtextboxfortooltip.useComponentFormatter)&&null!=this.m_customtextboxfortooltip.formatter&&void 0!==this.m_customtextboxfortooltip.formatter[e]?this.getFieldFormatterForToolTip(t,e):this.getFormatterForToolTip(t);return e},Chart.prototype.getFormatterForToolTip=function(t){var e,i,o,a,r,s,n;return isNaN(getNumericComparableValue(t))?t:((""+t).indexOf(","),e=""!=this.m_signposition?this.m_signposition:"suffix",i=this.m_tooltipprecision,s=this.m_unit,a=this.m_secondaryunit,n="default"===i?+getNumericComparableValue(t):(+getNumericComparableValue(t)).toFixed(i),""!=s?(o=this.m_yAxis.m_util.getFormatterSymbol("Currency",s),"auto"==(a=this.m_yAxis.m_util.getFormatterSymbol("Number",a))?(r=getNumberFormattedSymbol(+(t=getNumericComparableValue(t)),s),s=getNumberFormattedNumericValue(+t,i,s),s=this.m_yAxis.m_util.updateTextWithFormatter(s,"",i),n=this.m_yAxis.m_util.addFormatter(s,r,"suffix")):(n=this.m_yAxis.m_util.updateTextWithFormatter(n,a,i),"none"!=a&&""!=a&&(n=this.m_yAxis.m_util.addFormatter(n,a,"suffix"))),"NaN"==n||""===n?"":this.m_yAxis.m_util.addFormatter(getFormattedNumberWithCommas(n,this.m_numberformatter),o,e)):"NaN"==n?t:n)},Chart.prototype.getFieldFormatterForToolTip=function(t,e){var i,o,a=""!=this.m_customtextboxfortooltip.formatter[e].SignPosition.value?this.m_customtextboxfortooltip.formatter[e].SignPosition.value:"suffix",r=this.m_customtextboxfortooltip.formatter[e].Precision.value,s=this.m_customtextboxfortooltip.formatter[e].Unit.value,n=this.m_customtextboxfortooltip.formatter[e].SecondaryUnit.value,e=this.m_customtextboxfortooltip.formatter[e].NumberFormatter.value,h=this.m_util.getFormatterSymbol("Currency",s),n=this.m_util.getFormatterSymbol("Number",n);return o="NaN"==(o="auto"==n?(i=getNumberFormattedSymbol(+(t=getNumericComparableValue(t)),s),s=getNumberFormattedNumericValue(+t,r,s),s=this.m_util.updateTextWithFormatter(s,"",r),this.m_util.addFormatter(+s,i,"suffix")):(o=this.m_util.updateTextWithFormatter(+t,n,r),"none"!=n&&""!=n?this.m_util.addFormatter(+o,n,"suffix"):+o))||""===o?"":this.m_util.addFormatter(getFormattedNumberWithCommas(o,e),h,a)},Chart.prototype.getUpdatedLeftRightAxisFormatterForToolTip=function(t){var e,i=t.serVal,o=t.axisType;return isNaN(i)||""==i||null==i?i:(e=void 0===this.m_customtextboxfortooltip.useComponentFormatter||this.m_customtextboxfortooltip.useComponentFormatter,void 0===t.seriesName||void 0===this.m_customtextboxfortooltip.useComponentFormatter||IsBoolean(e)&&null!=this.m_customtextboxfortooltip.formatter&&"Default"==this.m_customtextboxfortooltip.dataTipType?this.getLeftRightAxisFormatterForToolTip(+i,o):(this.m_customtextboxfortooltip.dataTipType,this.getFieldFormatterForToolTip(+i,t.seriesName)))},Chart.prototype.getLeftRightAxisFormatterForToolTip=function(t,e){var i="default"!==this.m_tooltipprecision?0==this.m_tooltipprecision&&t%1!=0?2:this.m_tooltipprecision:void 0!==(i=(t+"").split("."))[1]?i[1].length:0,o="left"==e?this.m_numberformatter:this.m_secondaryaxisnumberformatter,i=(t=this.getLocaleWithPrecision(t,i,o),"left"==e?this.m_yAxis.m_secondaryUnitSymbol:this.m_yAxis.m_secondAxisSecondaryUnitSymbol);return(IsBoolean(this.m_yAxis.m_isSecondaryFormatter)&&this.checkCurrencyForToolTip(i)||IsBoolean(this.m_yAxis.m_rightaxisformater)&&this.checkCurrencyForToolTip(i)&&IsBoolean(this.m_yAxis.m_isFormatter||this.m_yAxis.m_rightaxisformater)&&null!=this.m_yAxis.m_unitSymbol)&&(t=this.m_yAxis.getSecondaryFormaterAddedText(t,i)),IsBoolean(this.m_yAxis.m_isFormatter||this.m_yAxis.m_rightaxisformater)&&null!=this.m_yAxis.m_unitSymbol&&(o="left"==e?this.m_yAxis.m_unitSymbol:this.m_yAxis.m_secondAxisUnitSymbol,i="left"==e?this.m_yAxis.m_formatterPosition:this.m_yAxis.m_secondAxisFormatterPosition,t=this.m_yAxis.m_util.addFormatter(t,o,i,this.m_precision)),t},Chart.prototype.getLineType=function(t){return this.m_continuouslinetype[t]},Chart.prototype.getLeftRightAxisFormatterForShowData=function(t,e){var i,e=this.m_seriesAxis[e];return isNaN(getNumericComparableValue(t))||""==t||null==t||(t=getNumericComparableValue(t),i="default"!==this.m_tooltipprecision?0==this.m_tooltipprecision&&t%1!=0?2:this.m_tooltipprecision:void 0!==(i=(t+"").split("."))[1]?i[1].length:0,t=this.getLocaleWithPrecision(t,i),i="left"==e?this.m_yAxis.m_secondaryUnitSymbol:this.m_yAxis.m_secondAxisSecondaryUnitSymbol,IsBoolean(this.m_yAxis.m_isSecondaryFormatter)&&this.checkCurrencyForToolTip(i)&&(t=this.m_yAxis.getSecondaryFormaterAddedText(t,i)),IsBoolean(this.m_yAxis.m_isFormatter||this.m_yAxis.m_rightaxisformater)&&null!=this.m_yAxis.m_unitSymbol&&(i="left"==e?this.m_yAxis.m_unitSymbol:this.m_yAxis.m_secondAxisUnitSymbol,e="left"==e?this.m_yAxis.m_formatterPosition:this.m_yAxis.m_secondAxisFormatterPosition,t=this.m_yAxis.m_util.addFormatter(t,i,e,this.m_precision))),t},Chart.prototype.checkCurrencyForToolTip=function(t){return"mixed_chart"==this.m_componenttype?"%"==t&&"100%"!==this.m_charttype:"timeline_chart"==this.m_componenttype?"%"==t&&"100%"!==this.m_columntype:"%"==t},Chart.prototype.getLocaleWithPrecision=function(e,i,t){t="indiannumber"===t?"en-IN":navigator.userLanguage||navigator.language;try{return(+e).toLocaleString(t,{minimumFractionDigits:i,maximumFractionDigits:i})}catch(t){return(+e).toFixed(i).toLocaleString()}},Chart.prototype.setChartDrawingArea=function(){this.setStartX(),this.setEndX(),this.setStartY(),this.setEndY()},Chart.prototype.getStartX=function(){return this.m_startX},Chart.prototype.getStartY=function(){return this.m_startY},Chart.prototype.getEndX=function(){return this.m_endX},Chart.prototype.getEndY=function(){return this.m_endY},Chart.prototype.getFormattedDate=function(i){i=""+i;var o,t={"mm/yy":function(){var t=i.split("/");o=t[0]+"/01/"+getFullYear(t[1])},"dd/mm/yy":function(){var t=i.split("/");o=t[1]+"/"+t[0]+"/"+getFullYear(t[2])},"mm/dd/yy":function(){var t=i.split("/");o=t[0]+"/"+t[1]+"/"+getFullYear(t[2])},"dd/mm/yyyy":function(){var t=i.split("/");o=t[1]+"/"+t[0]+"/"+t[2]},"mm/dd/yyyy":function(){var t=0<i.indexOf("-")?i.split("-"):i.split("/");o=t[0]+"/"+t[1]+"/"+t[2]},"yyyy/mm/dd":function(){var t=i.split("/");o=t[1]+"/"+t[2]+"/"+t[0]},"dd/mm/yyyy hh:mm:ss":function(){var t=i.split(" "),e=t[0].split("/");o=e[1]+"/"+e[0]+"/"+e[2]+" "+t[1]},"dd/mm/yyyy hh:mm:ss pm":function(){var t=i.split(" "),e=t[0].split("/");o=e[1]+"/"+e[0]+"/"+e[2]+" "+t[1]},"mm/dd/yyyy hh:mm:ss":function(){var t=i.split(" "),e=t[0].split("/");o=e[0]+"/"+e[1]+"/"+e[2]+" "+t[1]},"mm/dd/yyyy hh:mm:ss pm":function(){var t=i.split(" "),e=t[0].split("/");o=e[0]+"/"+e[1]+"/"+e[2]+" "+t[1]},"mm-yy":function(){var t=i.split("-");o=t[0]+"/01/"+getFullYear(t[1])},"dd-mm-yy":function(){var t=i.split("-");o=t[1]+"/"+t[0]+"/"+getFullYear(t[2])},"mm-dd-yy":function(){var t=i.split("-");o=t[0]+"/"+t[1]+"/"+getFullYear(t[2])},"dd-mm-yyyy":function(){var t=i.split("-");o=t[1]+"/"+t[0]+"/"+t[2]},"mm-dd-yyyy":function(){var t=i.split("-");o=t[0]+"/"+t[1]+"/"+t[2]},"yyyy-mm-dd":function(){var t=i.split("-");o=t[1]+"/"+t[2]+"/"+t[0]},"dd-mm-yyyy hh:mm:ss":function(){var t=i.split(" "),e=t[0].split("-");o=e[1]+"/"+e[0]+"/"+e[2]+" "+t[1]},"dd-mm-yyyy hh:mm:ss pm":function(){var t=i.split(" "),e=t[0].split("-");o=e[1]+"/"+e[0]+"/"+e[2]+" "+t[1]},"mm-dd-yyyy hh:mm:ss":function(){var t=i.split(" "),e=t[0].split("-");o=e[0]+"/"+e[1]+"/"+e[2]+" "+t[1]},"mm-dd-yyyy hh:mm:ss pm":function(){var t=i.split(" "),e=t[0].split("-");o=e[0]+"/"+e[1]+"/"+e[2]+" "+t[1]},"yyyy-mm-ddThh:mm:ss.sss-hh.mm":function(){o=i},"yyyy-mm-ddThh:mm:ss.sss":function(){o=i},"dd mmm yyyy":function(){o=i},"dd mmm yyyy hh:mm":function(){o=i},"day,month dd,yyyy":function(){o=i},default:function(){o=i}};return(t[IsBoolean(this.m_designMode)?"mm/dd/yyyy":this.m_sourcedateformat]||t.default)(),o},Chart.prototype.drawRangeSelector=function(){$("#rangeSelector"+this.m_objectid).remove(),"timeseries"==this.m_charttype&&IsBoolean(this.m_showrangeselector)&&this.rangeSelectorImplementation()},Chart.prototype.rangeSelectorImplementation=function(){for(var t=this,e=document.createElement("div"),i=!IsBoolean(this.getShowLegends())||IsBoolean(this.m_fixedlegend)||"horizontalTopLeft"!=this.m_legendposition&&"horizontalTopCenter"!=this.m_legendposition&&"horizontalTopRight"!=this.m_legendposition?0:this.m_topFloatingLegendMargin,o=($(e).attr("id","rangeSelector"+t.m_objectid),$(e).attr("class","timeSeries-RangeSelector-Container"),$(e).css({"z-index":IsBoolean(this.m_designMode)?"0":+this.m_zIndex+1,top:+this.getMarginForTitle()+ +this.getMarginForSubTitle()-14+i+"px",background:hex2rgb(this.m_sliderbordercolor,this.m_rangeselectoropacity),height:27*t.minWHRatio()+"px"}),["1w","2w","1m","3m","6m","1y","5y","All"]),a=t.m_lineCalculation.getDataFrequency(t.CatData[0]),r=0;r<o.length;r++){var s=document.createElement("li");s.style.fontFamily=selectGlobalFont(t.m_rangeselectorfontfamily),$(s).attr("id","range_"+o[r]+"_"+t.m_objectid),$(s).attr("class","timeSeries-RangeSelector"),t.isInRange(o[r].substring(0,1),o[r].substring(1,2),a)||"All"===o[r]||$(s).css({"pointer-events":"none",opacity:"0.4",display:"inline-block"}),$(s).html(o[r]),$(e).append(s),$(s).click(function(){t.updateTimeSeriesWithRange($(this).text())})}$("#draggableDiv"+t.m_objectid).append(e),545<+t.m_width&&2<=t.CatData[0].length&&$(e).append('<div id="TimeInterval'+t.m_objectid+'"  style="position:absolute; right:'+(10+(IsBoolean(t.getShowLegends())?20:0))+'px;display: inline-block; margin:2px;"><span class="textBox-time-Interval" style="font-family:'+selectGlobalFont(t.m_rangeselectorfontfamily)+';">From </span><input type="text" readonly style="font-size:'+t.fontScaling(13)+"px;font-family:"+selectGlobalFont(t.m_rangeselectorfontfamily)+';" class="textBox-time-Interval" id="From'+t.m_objectid+'"> <span class="textBox-time-Interval" style="font-size:'+selectGlobalFont(t.m_rangeselectorfontfamily)+';"> To </span><input type="text" readonly style="font-size:'+t.fontScaling(13)+"px;font-family:"+selectGlobalFont(t.m_rangeselectorfontfamily)+';" class="textBox-time-Interval" id="To'+t.m_objectid+'"></div>'),IsBoolean(isScaling)&&($(e).find(".timeSeries-RangeSelector").css({height:19*t.minWHRatio()+"px",margin:4*t.minWHRatio()+"px","font-size":t.fontScaling(13)+"px",display:"block"}),document.documentMode&&$(e).find(".timeSeries-RangeSelector").css("display","inline-block"),$(e).find(".textBox-time-Interval").css({height:20*t.minWHRatio()+"px","font-size":t.fontScaling(13)+"px"}))},Chart.prototype.isInRange=function(t,e,i){for(var o=this.CatData[0],a=new Date(isNaN(o[0])?o[0]:+o[0]),r=o.length-1,s=o.length-1;0<s;s--)if(""!==o[s]){r=s;break}a=(new Date(isNaN(o[r])?o[r]:+o[r]).getTime()-a.getTime())/864e5+1,a=Math.floor(a);if(!(this.getDaysInRange(o[0],t,e)<=a))return!1;switch(i){case"year":return"y"==e;case"month":return"y"==e||"m"==e;case"day":case"hour":case"minute":return"y"==e||"m"==e||"w"==e;default:return!1}},Chart.prototype.getDaysInMonths=function(t,e){for(var i,t=new Date(t),o=t.getMonth()+1,a=t.getFullYear(),r=0,s=1;s<=e;s++)i=new Date(a,o,0).getDate(),o++,r+=i;return r},Chart.prototype.getDaysInYears=function(t,e){for(var i,o=new Date(t).getFullYear(),a=0,r=1;r<=e;r++)i=isLeapYear(o)?366:365,o++,a+=i;return a},Chart.prototype.getDaysInRange=function(t,e,i){return"w"==i?7*e:"m"==i?this.getDaysInMonths(t,e):"y"==i?this.getDaysInYears(t,e):""},Chart.prototype.updateTimeSeriesWithRange=function(t){for(var e,i,o=this,a=this.getEndX()-this.getStartX(),r=+this.getStartX(),s=["1w","2w","1m","3m","6m","1y","5y","All"],n=0;n<s.length;n++)s[n]==t?$("#range_"+s[n]+"_"+o.m_objectid).css({"font-weight":"bold"}):$("#range_"+s[n]+"_"+o.m_objectid).css({"font-weight":"normal"});"All"!=t&&(e=o.CatData[0][0],i=new Date(e).getTime(),a=a/((new Date(o.CatData[0][o.CatData[0].length-1]).getTime()-i)/864e5)*this.getDaysInRange(e,t.substring(0,1),t.substring(1,2))),$("#silderSelecterdiv"+o.m_objectid).css({left:0,width:a}),o.updatechart(r,r+a)},Chart.prototype.resetSelectorToNormal=function(){for(var t=["1w","2w","1m","3m","6m","1y","5y","All"],e=0;e<t.length;e++)$("#range_"+t[e]+"_"+this.m_objectid).css("font-weight","normal")},Chart.prototype.updatechart=function(t,e){this.updateDragChartFromSlider(t,e),"Invalid Date"!=new Date(this.startDate).toDateString()&&($("#From"+this.m_objectid).val(new Date(this.startDate).toDateString()),$("#To"+this.m_objectid).val(new Date(this.endDate).toDateString()))},Chart.prototype.sliderTextBox=function(){var t,e,i=this,o=this.getStartX(),a=this.getEndX()-this.getStartX(),r=a/4,s=(e=""==this.m_sliderTextField||null==this.m_sliderTextField?(t=i.CatData[0][0],i.CatData[0][i.CatData[0].length-1]):(t=i.m_dataProvider[0][this.m_sliderTextField],i.m_dataProvider[i.m_dataProvider.length-1][this.m_sliderTextField]),document.createElement("div")),o=(s.setAttribute("id","textdiv"+i.m_objectid),s.setAttribute("style"," left:"+o+"px; bottom:68px; width:"+a+"px; height:18px; position:relative; display:flex; justify-content: space-between;"),$(s).css({"font-family":selectGlobalFont(this.m_xAxis.getLabelFontFamily()),color:convertColorToHex(this.m_xAxis.getLabelFontColor()),"font-style":this.m_xAxis.getLabelFontStyle(),"font-size":this.fontScaling(this.m_xAxis.getLabelFontSize())+"px","font-weight":this.m_xAxis.getLabelFontWeight(),"text-decoration":this.m_xAxis.getLabelTextDecoration()}),document.createElement("div")),a=document.createElement("div");o.setAttribute("style","width:"+r+"px; text-align:start; overflow:hidden; white-space:nowrap; text-overflow:ellipsis;"),a.setAttribute("style","width:"+r+"px; text-align:end; overflow:hidden; white-space:nowrap; text-overflow:ellipsis;"),s.append(o),s.append(a),""==this.m_sliderStartText&&""==this.m_sliderEndText?(o.innerHTML=t+":",a.innerHTML=e+":"):(o.innerHTML=this.m_sliderStartText+t,a.innerHTML=this.m_sliderEndText+e),$("#svgTimeScaleDiv"+i.m_objectid).append(s),IsBoolean(this.m_showslidertext)&&(height=this.m_sliderheight,$("#textdiv"+i.m_objectid).css("bottom",height+18+"px"))},Chart.prototype.drawslider=function(){$("#rangeslider"+this.m_objectid).remove(),IsBoolean(this.m_showslider)&&this.jquerySliderImplementation()},Chart.prototype.jquerySliderImplementation=function(){var i,o=this,t=this.getStartX(),e=this.getEndX()-this.getStartX(),a=null!=o.m_sliderwidthperc?o.m_sliderwidthperc*e:"auto"==this.m_sliderrange?3*e/10:+this.m_sliderrange*e/100,r=(IsBoolean(!o.m_slideronmaxmize)||null==this.m_sliderleftperc?"left"==this.m_sliderposition?i=+this.getStartX():"right"==this.m_sliderposition?i=e-a:(i=this.sliderAxisCalculation(e,a),0===this.currentDateIndex&&(i=this.sliderAxisCalculation(e,a)-+this.getStartX())):i=this.m_sliderleftperc*e,document.createElement("div")),t=(r.setAttribute("id","newSilderBody"+o.m_objectid),r.setAttribute("class","newSilderBody"),r.setAttribute("style"," left:"+t+"px; top:0px; width:"+e+"px; height:"+this.m_sliderheight+"px; position:relative;"),$(r).css({background:hex2rgb(this.m_sliderbordercolor,this.m_slideropacitycontainer),border:"1px solid "+hex2rgb(this.m_sliderbordercolor,this.m_sliderborderopacity)}),$("#svgTimeScaleDiv"+o.m_objectid).append(r),document.createElement("div")),s=(t.setAttribute("id","silderSelecterdiv"+o.m_objectid),t.setAttribute("class","easyui-draggable"),hex2rgb(this.m_sliderbordercolor,this.m_slideropacityselection)),s=(t.setAttribute("style","position:absolute;top:0px; width:"+a+"px; height:"+this.m_sliderheight+"px;  background:"+s+";cursor:move;"),$(t).css({"border-left":"1px solid "+hex2rgb(this.m_sliderbordercolor,this.m_sliderborderopacity),"border-right":"1px solid "+hex2rgb(this.m_sliderbordercolor,this.m_sliderborderopacity)}),"left"!=o.m_sliderposition&&$(t).css({left:i+"px"}),$(r).append(t),document.createElement("div")),r=(s.setAttribute("id","leftHandle"+o.m_objectid),$(t).append(s),hex2rgb(this.m_sliderbordercolor,this.m_sliderborderopacity)),s=($("#leftHandle"+o.m_objectid).attr("style","position:absolute;left:-3px;top:"+this.m_sliderheight/4+"px;width:5px;height:"+this.m_sliderheight/2.5+"px;border:1px solid "+r+";background:#F6F7F2;"),document.createElement("div")),r=(s.setAttribute("id","rightHandle"+o.m_objectid),$(t).append(s),hex2rgb(this.m_sliderbordercolor,this.m_sliderborderopacity));$("#rightHandle"+o.m_objectid).attr("style","position:absolute;top:"+this.m_sliderheight/4+"px;right:-3px;width:5px;height:"+this.m_sliderheight/2.5+"px;border:1px solid "+r+";background:#F6F7F2;"),$("#silderSelecterdiv"+o.m_objectid).draggable({axis:"x",containment:"#newSilderBody"+o.m_objectid,start:function(t,e){a=$(this).width()},drag:function(t,e){i=+o.getStartX()+ +$(this).position().left,o.updatechart(i,+i+ +a)},stop:function(t,e){i=+o.getStartX()+ +$(this).position().left,o.updatechart(i,+i+ +a)}}),$("#silderSelecterdiv"+o.m_objectid).resizable({axis:"x",containment:"#newSilderBody"+o.m_objectid,handles:"e,w",start:function(t,e){},resize:function(t,e){i=+o.getStartX()+ +e.position.left,15<(a=e.size.width)&&o.updatechart(i,+i+ +a)},stop:function(t,e){i=+o.getStartX()+ +e.position.left,a=e.size.width,o.updatechart(i,+i+ +a),o.resetSelectorToNormal()}}),$("#silderSelecterdiv"+o.m_objectid).draggable({axis:"h",containment:"#newSilderBody"+o.m_objectid,onStartDrag:function(t,e){a=$(t.data.target).outerWidth()},onDrag:function(t,e){constrain(t),i=+o.getStartX()+ +$(this).position().left,o.updatechart(i,+i+ +a)},onStopDrag:function(t,e){constrain(t),i=+o.getStartX()+ +$(this).position().left,o.m_sliderleftperc=+$(this).position().left/(+o.getEndX()-+o.getStartX()),o.updatechart(i,+i+ +a)}}),$("#silderSelecterdiv"+o.m_objectid).resizable({minWidth:15,fit:!0,axis:"h",containment:"#newSilderBody"+o.m_objectid,maxWidth:e,handles:"e,w",onStartResize:function(t,e){},onResize:function(t,e){constrainResizable(t),i=+o.getStartX()+ +$(this).position().left,15<(a=t.data.width)&&o.updatechart(i,+i+ +a)},onStopResize:function(t,e){constrainResizable(t),$(this).css({left:t.data.left,width:t.data.width}),i=+o.getStartX()+ +$(this).position().left,a=t.data.width,o.m_sliderleftperc=+$(this).position().left/(+o.getEndX()-+o.getStartX()),o.m_sliderwidthperc=a/(+o.getEndX()-+o.getStartX()),o.updatechart(i,+i+ +a),o.resetSelectorToNormal()}}),IsBoolean(this.m_showslidertext)&&this.sliderTextBox()},Chart.prototype.createXAxisMarkerLabelGroup=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttribute("id",t+this.m_objectid),e.setAttribute("class",t),$(e).css({"font-family":selectGlobalFont(this.m_xAxis.getLabelFontFamily()),"font-style":this.m_xAxis.getLabelFontStyle(),"font-size":this.fontScaling(this.m_xAxis.getLabelFontSize())+"px","font-weight":this.m_xAxis.getLabelFontWeight(),"text-decoration":this.m_xAxis.getLabelTextDecoration()}),$("#"+this.svgContainerId).append(e)},Chart.prototype.createYAxisMarkerLabelGroup=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttribute("id",t+this.m_objectid),e.setAttribute("class",t),$(e).css({"font-family":selectGlobalFont(this.m_yAxis.getLabelFontFamily()),"font-style":this.m_yAxis.getLabelFontStyle(),"font-size":this.fontScaling(this.m_yAxis.getLabelFontSize())+"px","font-weight":this.m_yAxis.getLabelFontWeight(),"text-decoration":this.m_yAxis.getLabelTextDecoration()}),$("#"+this.svgContainerId).append(e)},Chart.prototype.createTickGroup=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttribute("id",t+this.m_objectid),e.setAttribute("class",t),$("#"+this.svgContainerId).append(e)},Chart.prototype.createVerticalLineGroup=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttribute("id",t+this.m_objectid),e.setAttribute("class",t),$("#"+this.svgContainerId).append(e)},Chart.prototype.createHorizontalLineGroup=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttribute("id",t+this.m_objectid),e.setAttribute("class",t),$("#"+this.svgContainerId).append(e)},Chart.prototype.createShapeGroup=function(t,e,i){var o=document.createElementNS("http://www.w3.org/2000/svg","g");o.setAttribute("id",t+e+this.m_objectid),o.setAttribute("class",t),o.setAttribute("data-fieldIndex",e),o.setAttribute("data-fieldName",i),$("#"+this.svgContainerId).append(o)},Chart.prototype.createYAxisCategoryMarkerLabelGroup=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttribute("id",t+this.m_objectid),e.setAttribute("class",t),$(e).css({"font-family":selectGlobalFont(this.m_yAxis.getLabelFontFamily()),"font-style":this.m_yAxis.getLabelFontStyle(),"font-size":this.fontScaling(this.m_yAxis.getLabelFontSize())+"px","font-weight":this.m_yAxis.getLabelFontWeight(),"text-decoration":this.m_yAxis.getLabelTextDecoration()}),$("#"+this.svgContainerId).append(e)},Chart.prototype.createYAxisSubCategoryMarkerLabelGroup=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttribute("id",t+this.m_objectid),e.setAttribute("class",t),$(e).css({"font-family":selectGlobalFont(this.m_yAxis.getLabelFontFamily()),"font-style":this.m_yAxis.getLabelFontStyle(),"font-size":this.fontScaling(this.m_yAxis.m_subcategoryfontsize)+"px","font-weight":this.m_yAxis.getLabelFontWeight(),"text-decoration":this.m_yAxis.getLabelTextDecoration()}),$("#"+this.svgContainerId).append(e)},Chart.prototype.createDataLabelGroup=function(t,e,i,o){var a=document.createElementNS("http://www.w3.org/2000/svg","g");a.setAttribute("id",e+i+this.m_objectid),a.setAttribute("class",e+this.m_referenceid),a.setAttribute("data-fieldIndex",i),a.setAttribute("data-fieldName",o),$(a).css({"font-family":selectGlobalFont(t.datalabelProperties.datalabelFontFamily),"font-style":t.datalabelProperties.datalabelFontStyle,"font-size":this.fontScaling(t.datalabelProperties.dataLabelFontSize)+"px","font-weight":t.datalabelProperties.datalabelFontWeight,"text-decoration":"none"}),$("#"+this.svgContainerId).append(a)},Chart.prototype.createStackGroup=function(t,e,i,o){var a=document.createElementNS("http://www.w3.org/2000/svg","g");a.setAttribute("id",e+i+this.m_objectid),a.setAttribute("class",e),a.setAttribute("data-fieldIndex",i),a.setAttribute("data-fieldName",o),$("#"+this.svgContainerId).append(a)},Chart.prototype.createStackGroupForSlider=function(t,e,i,o){var a=document.createElementNS("http://www.w3.org/2000/svg","g");a.setAttribute("id",e+i+this.m_objectid),a.setAttribute("class",e),a.setAttribute("data-fieldIndex",i),a.setAttribute("data-fieldName",o),$("#"+this.svgTimeScaleId).append(a)},Chart.prototype.createHeatMapRectBoxGroup=function(t,e,i,o){var a=document.createElementNS("http://www.w3.org/2000/svg","g");a.setAttribute("id",e+i+this.m_objectid),a.setAttribute("class",e),a.setAttribute("data-fieldIndex",i),a.setAttribute("data-fieldName",o),$("#"+this.svgContainerId).append(a)},Chart.prototype.createHeatMapBoxLabelGroup=function(t,e,i,o){var a=document.createElementNS("http://www.w3.org/2000/svg","g");a.setAttribute("id",e+i+this.m_objectid),a.setAttribute("class",e+this.m_referenceid),a.setAttribute("data-fieldIndex",i),a.setAttribute("data-fieldName",o),$(a).css({"font-family":selectGlobalFont(this.m_celltextfontfamily),"font-style":this.m_celltextfontstyle,"font-size":this.fontScaling(+this.m_celltextfontsize)+"px","font-weight":this.m_celltextfontweight}),$("#"+this.svgContainerId).append(a)},Chart.prototype.isPropertyBrowserCompatible=function(){var t=navigator.userAgent.indexOf("Safari"),e=navigator.userAgent.indexOf("Chrome");return 0<t&&e<0},Axes.prototype.getFontWeight=function(){return this.m_fontweight},Axes.prototype.setFontWeight=function(t){this.m_fontweight=t},Axes.prototype.getLabelTextDecoration=function(){return this.m_labeltextdecoration},Axes.prototype.setLabelTextDecoration=function(t){this.m_labeltextdecoration=t},Axes.prototype.getLabelFontWeight=function(){return this.m_labelfontweight},Axes.prototype.setLabelFontWeight=function(t){this.m_labelfontweight=t},Axes.prototype.getLabelFontColor=function(){return this.m_labelfontcolor},Axes.prototype.setLabelFontColor=function(t){this.m_labelfontcolor=t},Axes.prototype.getLabelFontStyle=function(){return this.m_labelfontstyle},Axes.prototype.setLabelFontStyle=function(t){this.m_labelfontstyle=t},Axes.prototype.getTextDecoration=function(){return this.m_textdecoration},Axes.prototype.setTextDecoration=function(t){this.m_textdecoration=t},Axes.prototype.getLabelTilted=function(){return this.m_labeltilted},Axes.prototype.setLabelTilted=function(t){this.m_labeltilted=t},Axes.prototype.getFontSize=function(){return this.m_fontsize},Axes.prototype.setFontSize=function(t){this.m_fontsize=t},Axes.prototype.getLabelFontFamily=function(){return selectGlobalFont(this.m_labelfontfamily)},Axes.prototype.setLabelFontFamily=function(t){this.m_labelfontfamily=t},Axes.prototype.getFontFamily=function(){return selectGlobalFont(this.m_fontfamily)},Axes.prototype.setFontFamily=function(t){this.m_fontfamily=t},Axes.prototype.getDescription=function(){return this.m_description},Axes.prototype.setDescription=function(t){this.m_description=t},Axes.prototype.getLabelrotation=function(){return IsBoolean(this.getLabelTilted())?this.m_labelrotation:0},Axes.prototype.setLabelrotation=function(t){this.m_labelrotation=t},Axes.prototype.getFontStyle=function(){return this.m_fontstyle},Axes.prototype.setFontStyle=function(t){this.m_fontstyle=t},Axes.prototype.getFontColor=function(){return this.m_fontcolor},Axes.prototype.setFontColor=function(t){this.m_fontcolor=t},Axes.prototype.getSecondAxisFontColor=function(){return this.m_secondAxisfontcolor},Axes.prototype.getLabelFontSize=function(){return this.m_labelfontsize},Axes.prototype.setLabelFontSize=function(t){this.m_labelfontsize=t},Axes.prototype.getRightAxisFormater=function(){return this.m_rightaxisformater},Axes.prototype.setRightaxisFormater=function(t){this.m_rightaxisformater=t},Axes.prototype.getLeftaxisFormater=function(){return this.m_leftaxisformater},Axes.prototype.setLeftaxisFormater=function(t){this.m_leftaxisformater=t},Axes.prototype.getSecondDiscription=function(){return this.m_seconddiscription},Axes.prototype.setSecondDiscription=function(t){this.m_seconddiscription=t},Axes.prototype.isLabelDecoration=function(){return"underline"==this.getLabelTextDecoration().toLowerCase()},Axes.prototype.isDescriptionDecoration=function(){return"underline"==this.getTextDecoration().toLowerCase()},Axes.prototype.getSecondAxisFontStyle=function(){return this.m_chart.m_secondaxisfontstyle},Axes.prototype.getSecondAxisFontWeight=function(){return this.m_chart.m_secondaxisfontweight},Axes.prototype.getSecondAxisFontSize=function(){return this.m_chart.m_secondaxisfontsize},Axes.prototype.getSecondAxisFontFamily=function(){return selectGlobalFont(this.m_chart.m_secondaxisfontfamily)},Axes.prototype.getSecondAxisTextDecoration=function(){return this.m_chart.m_secondaxistextdecoration},Axes.prototype.drawLineBetweenPoints=function(t,e,i,o,a,r,s){this.ctx.beginPath(),this.ctx.save(),this.ctx.lineWidth=t,this.ctx.translate(e,e),this.ctx.strokeStyle=i,this.ctx.moveTo(parseInt(o),parseInt(a)),this.ctx.lineTo(parseInt(r),parseInt(s)),this.ctx.stroke(),this.ctx.restore(),this.ctx.closePath()},Axes.prototype.initColors=function(){this.m_labelfontcolor=convertColorToHex(this.getLabelFontColor()),this.m_fontcolor=convertColorToHex(this.getFontColor())},Axes.prototype.getText=function(t,e,i){var o,a=""+t,r="",t=(this.ctx.font=i,this.ctx.measureText(a).width);0<a.length&&(o=t/a.length*2);for(var s=0;s<a.length;s++){if(!(this.ctx.measureText(r).width<e-o||s==a.length-1)){r+=".";break}r+=a[s]}return r},Xaxis.prototype=new Axes,Xaxis.prototype.init=function(t){this.m_chart=t,this.ctx=this.m_chart.ctx,this.m_startX=this.m_chart.getStartX(),this.m_startY=this.m_chart.getStartY(),this.m_endX=this.m_chart.getEndX(),this.m_endY=this.m_chart.getEndY(),this.m_xAxisData=this.m_chart.getCategoryData()[0],this.m_axiscolor=convertColorToHex(this.m_chart.getAxisColor()),this.m_linexaxiscolor=""!==this.m_linexaxiscolor?convertColorToHex(this.m_linexaxiscolor):this.m_axiscolor,this.m_labelfontcolor=convertColorToHex(this.getLabelFontColor())},Xaxis.prototype.drawXAxis=function(){var t,e,i,o,a;IsBoolean(this.m_showlinexaxis)&&(t=this.m_linexaxiscolor,e=+this.m_startX-1-this.m_chart.m_axistodrawingareamargin,i=+this.m_startY+1+this.m_chart.m_axistodrawingareamargin,o=+this.m_endX,a=+this.m_startY+1+this.m_chart.m_axistodrawingareamargin,this.drawLineBetweenPoints(.5,.5,t,e,i,o,a))},Xaxis.prototype.drawTickMarks=function(){if(IsBoolean(this.m_tickmarks))if(IsBoolean(this.m_chart.m_tickmarksatstart))for(var t=0;t<this.m_xAxisData.length;t++){var e=.5,i=.5,o=this.m_categorymarkingcolor,a=+this.m_startX+this.getXaxisDivison()*t+this.getXaxisDivison()/2,r=+this.m_startY+this.m_chart.m_axistodrawingareamargin,s=+this.m_startX+this.getXaxisDivison()*t+this.getXaxisDivison()/2,n=+this.m_startY+8+this.m_chart.m_axistodrawingareamargin;this.drawLineBetweenPoints(e,i,o,a,r,s,n)}else for(t=0;t<this.m_xAxisData.length+1;t++){e=.5,i=.5,o=this.m_categorymarkingcolor,a=+this.m_startX+this.getXaxisDivison()*t-1,r=+this.m_startY+this.m_chart.m_axistodrawingareamargin,s=+this.m_startX+this.getXaxisDivison()*t-1,n=+this.m_startY+8+this.m_chart.m_axistodrawingareamargin;this.drawLineBetweenPoints(e,i,o,a,r,s,n)}},Xaxis.prototype.drawTickMarksForScatterPlotChart=function(){if(IsBoolean(this.m_tickmarks))for(var t=0;t<this.m_xAxisData.length;t++){var e=this.m_categorymarkingcolor,i=+this.m_startX+(this.m_endX-this.m_startX)/(this.m_xAxisData.length-1)*+t,o=+this.m_startY+1,a=+this.m_startX+(this.m_endX-this.m_startX)/(this.m_xAxisData.length-1)*+t,r=+this.m_startY+8;this.drawLineBetweenPoints(.5,.5,e,i,o,a,r)}},Xaxis.prototype.drawVerticalLine=function(){if(IsBoolean(this.m_chart.m_showverticalmarkerline))for(var t=0;t<this.m_xAxisData.length;t++){var e=hex2rgb(this.m_chart.m_markercolor,this.m_chart.m_markertransparency),i=+this.m_startX+(this.getXaxisDivison()/2+this.getXaxisDivison()*t),o=+this.m_startY+this.m_chart.m_axistodrawingareamargin,a=+this.m_startX+(this.getXaxisDivison()/2+this.getXaxisDivison()*t),r=+this.m_endY;this.drawLineBetweenPoints(.5,.5,e,i,o,a,r)}},Xaxis.prototype.drawVerticalLineForScatterPlotChart=function(){for(var t=0;t<this.m_xAxisData.length;t++){var e=hex2rgb(this.m_chart.m_markercolor,this.m_chart.m_markertransparency),i=+this.m_startX+(this.m_endX-this.m_startX)/(this.m_xAxisData.length-1)*+t,o=+this.m_startY,a=+this.m_startX+(this.m_endX-this.m_startX)/(this.m_xAxisData.length-1)*+t,r=+this.m_endY;this.drawLineBetweenPoints(.5,.5,e,i,o,a,r)}},Xaxis.prototype.zeroMarkerVerticalLineForScatterPlotChart=function(){for(var t=0;t<this.m_xAxisActualMarkersArray.length;t++)if(0==this.m_xAxisActualMarkersArray[t]){var e=hex2rgb(this.m_chart.m_verticalzeromarkercolor,this.m_chart.m_markertransparency),i=+this.m_startX+(this.m_endX-this.m_startX)/(this.m_xAxisActualMarkersArray.length-1)*+t,o=+this.m_startY,a=+this.m_startX+(this.m_endX-this.m_startX)/(this.m_xAxisActualMarkersArray.length-1)*+t,r=+this.m_endY;this.drawLineBetweenPoints(.5,.5,e,i,o,a,r);break}},Xaxis.prototype.markXaxis=function(){var t=parseInt(this.m_chart.m_xAxis.m_labelfontsize),e=parseInt(this.m_chart.m_xAxis.m_fontsize);0<t&&this.drawAxisLabels(),0<e&&this.drawDescription()},Xaxis.prototype.drawAxisLabels=function(){for(var t=0;t<this.m_xAxisData.length;t++)t%this.m_chart.m_skipxaxislabels!=0&&"auto"!=this.m_chart.m_skipxaxislabels||(this.ctx.beginPath(),this.ctx.save(),"Plot"==this.m_chart.m_type?this.drawAxisLabelsForScatterPlotChart(this.m_xAxisData[t],t):this.drawLabel(this.m_xAxisData[t],t),this.ctx.restore(),this.ctx.closePath())},Xaxis.prototype.drawAxisLabelsForScatterPlotChart=function(t,e){var i,o,a=IsBoolean(this.m_chart.m_updateddesign)?15:5;IsBoolean(this.getLabelTilted())?(i=""!==this.getDescription()?this.m_fontsize:5,i=this.m_chart.m_height/4-a/2-i-this.calculateAxisLineToTextGap()/2+this.m_chart.m_extraspace,o=this.getLabelrotation(),this.ctx.font=this.getLabelFontProperties(),this.ctx.measureText(t).width>i&&(t=this.getText(""+t,i,this.getLabelFontProperties()))):(i=(this.m_endX-this.m_startX)/this.m_xAxisData.length*2,o=0,2==this.m_chart.noOfRows&&(t=this.getText(""+t,i,this.getLabelFontProperties()))),this.translateTextPosition(a,e,t),this.ctx.rotate(o*Math.PI/180),this.m_textUtil.drawText(this.ctx,t,0,0,this.getLabelFontProperties(),this.m_labeltextalign,this.m_labelfontcolor),IsBoolean(this.isLabelDecoration())&&this.drawUnderLine(t,0,this.m_labelfontsize/2,this.m_labelfontcolor,this.m_chart.fontScaling(this.getLabelFontSize()),this.m_labeltextalign)},Xaxis.prototype.drawAxisLabelsForTrellis=function(){var t,e,i=this.m_xAxisData,o=(this.m_chart.getEndX()-this.m_chart.getStartX())/i.length;"BarChart"==this.m_chart.m_type&&null!=(i=this.m_chart.m_calculation.getXAxisMarkersArray())[0]&&1<i.length&&(t=(+i[i.length-1]-+i[0])/2,(e=[]).push(+i[0]),e.push(t+ +i[0]),e.push(i[i.length-1]),i=e,o=(this.m_chart.getEndX()-this.m_chart.getStartX())/(i.length-1));for(var a=0;a<i.length;a++){this.ctx.beginPath(),this.ctx.save();var r,s=i[a],n=("BarChart"==this.m_chart.m_type&&(s=this.getFormattedText(s)),s=this.getText(""+s,o,this.getLabelFontProperties()),this.getLabelTextWidth(s));r="BarChart"==this.m_chart.m_type?+this.m_startX+o*a:1==this.m_xAxisData.length?+this.m_startX+(this.m_endX-this.m_startX)/2:+this.m_startX+this.getXaxisDivison()/2*1+this.getXaxisDivison()*a,"BarChart"==this.m_chart.m_type?((s=drawSVGText(r,10,s,this.m_labelfontcolor,"center","middle",this.getLabelrotation())).setAttribute("style","font-family:"+this.getLabelFontFamily()+";font-style:"+this.getLabelFontStyle()+";font-size:"+this.m_chart.fontScaling(this.getLabelFontSize())+"px;font-weight:"+this.getLabelFontWeight()+";text-decoration:"+this.getLabelTextDecoration()+";"),$("#"+this.m_chart.svgContainerId).append(s)):(this.translateText(0,r,0,s,n),this.ctx.rotate(0*Math.PI/180),IsBoolean(this.isLabelDecoration())&&this.drawUnderLine(s,0,this.m_labelfontsize/2,this.m_labelfontcolor,this.m_chart.fontScaling(this.getLabelFontSize()),this.m_labeltextalign),this.m_textUtil.drawText(this.ctx,getFormattedNumberWithCommas(s,this.m_chart.m_numberformatter),0,0,this.getLabelFontProperties(),this.m_labeltextalign,convertColorToHex(this.m_labelfontcolor)),this.ctx.restore(),this.ctx.closePath())}},Xaxis.prototype.drawLabel=function(t,e){var i,o,a=IsBoolean(this.m_chart.m_updateddesign)?15:5;IsBoolean(this.getLabelTilted())?(i=""!==this.getDescription()?this.m_fontsize:5,i=this.m_chart.m_height/4-a/2-i-this.calculateAxisLineToTextGap()/2,o=this.getLabelrotation(),this.ctx.font=this.getLabelFontProperties(),this.ctx.measureText(t).width>i&&(t=this.getText(""+t,i,this.getLabelFontProperties()))):(i=(this.m_endX-this.m_startX)/this.m_xAxisData.length*2,o=0,2==this.m_chart.noOfRows&&(t=this.getText(""+t,i,this.getLabelFontProperties()))),this.translateTextPosition(a,e,t),this.ctx.rotate(o*Math.PI/180),IsBoolean(this.isLabelDecoration())&&this.drawUnderLine(t,0,this.m_labelfontsize/2,this.m_labelfontcolor,this.m_chart.fontScaling(this.getLabelFontSize()),this.m_labeltextalign),this.m_textUtil.drawText(this.ctx,t,0,0,this.getLabelFontProperties(),this.m_labeltextalign,this.m_labelfontcolor)},Xaxis.prototype.drawLabelUnderLine=function(){if(this.isLabelDecoration())for(var t=0;t<this.m_xAxisData.length;t++)this.drawUnderLine(this.m_xAxisData[t],parseInt(this.m_startX)+parseInt(this.getXaxisDivison())*t,parseInt(this.m_startY)+15,this.m_labelfontcolor,this.m_chart.fontScaling(this.getLabelFontSize()),this.m_labeltextalign)},Xaxis.prototype.drawDescription=function(){var t=this.m_chart.m_allCategoryDisplayNames.join(""),t=IsBoolean(this.m_chart.m_xAxis.m_showdatasetdescription)?this.m_chart.formattedDescription(this.m_chart,t):this.m_chart.formattedDescription(this.m_chart,this.m_description);""!==t&&(this.ctx.beginPath(),this.ctx.font=this.getFontProperties(),this.ctx.textAlign=this.m_descriptiontextalign,this.ctx.fillStyle=convertColorToHex(this.m_fontcolor),this.ctx.fillText(t,this.getXDesc(),this.getYDesc()),this.ctx.closePath(),this.isDescriptionDecoration())&&this.drawUnderLine(t,this.getXDesc(),+this.getYDesc()+this.m_fontsize/2,convertColorToHex(this.m_fontcolor),this.m_chart.fontScaling(this.getFontSize()),this.m_descriptiontextalign)},Xaxis.prototype.drawUnderLine=function(t,e,i,o,a,r){this.m_chart.underLine(t,e,i,o,a,r)},Xaxis.prototype.getXaxisDivison=function(){return(this.m_endX-this.m_startX)/this.m_xAxisData.length},Xaxis.prototype.getFontProperties=function(){return this.m_textUtil.getFontProperties(this.getFontStyle(),this.getFontWeight(),this.m_chart.fontScaling(this.getFontSize()),this.getFontFamily())},Xaxis.prototype.getLabelFontProperties=function(){return this.m_textUtil.getFontProperties(this.getLabelFontStyle(),this.getLabelFontWeight(),this.m_chart.fontScaling(this.getLabelFontSize()),this.getLabelFontFamily())},Xaxis.prototype.calculateAxisLineToTextGap=function(){return this.m_chart.fontScaling(this.getLabelFontSize())+(+this.m_chart.m_chartpaddings.bottomMarkersToLine||0)},Xaxis.prototype.calculateAxisToLabelMargin=function(t){var e=0;return 2!=this.m_chart.noOfRows||IsBoolean(this.getLabelTilted())||t%2!=0&&(e=this.m_chart.fontScaling(1.5*this.getLabelFontSize())),+e},Xaxis.prototype.getLabelTextWidth=function(t){this.ctx.font=this.getLabelFontProperties();t=this.ctx.measureText(t).width;return t=t>.25*this.m_chart.m_height?.25*this.m_chart.m_height:t},Xaxis.prototype.translateTextPosition=function(t,e,i){var o=this.getLabelrotation(),a=this.calculateAxisToLabelMargin(e),t=+this.m_startY+t/2+ +a+this.calculateAxisLineToTextGap()/2+this.m_chart.m_axistodrawingareamargin;switch(this.m_chart.m_type){case"HeatMap":var r=this.m_chart.getHeatMapCellWidth(),s=+this.m_startX+(r*e*1+ +r/2),n=this.getLabelTextWidth(i);break;case"Plot":var r=this.getMaxSeriesValue(),n=this.getLabelTextWidth(r);s=1==this.m_xAxisData.length?+this.m_startX+(this.m_endX-this.m_startX)/2:+this.m_startX+(this.m_endX-this.m_startX)/(+this.m_xAxisData.length-1)*+e;break;default:n=this.getLabelTextWidth(i);s=1==this.m_xAxisData.length?+this.m_startX+(this.m_endX-this.m_startX)/2:+this.m_startX+this.getXaxisDivison()/2*1+this.getXaxisDivison()*e}this.translateText(o,s,t,i,n)},Xaxis.prototype.getMaxSeriesValue=function(){for(var t=this.m_xAxisData[0],e=0;e<this.m_xAxisData.length;e++)t<this.m_xAxisData[e]&&(t=this.m_xAxisData[e]);return t},Xaxis.prototype.translateText=function(t,e,i,o,a){this.m_labeltextalign="center",IsBoolean(this.m_chart.m_xAxis.getLabelTilted())?(this.m_labeltextalign=0<t&&t<=90?"left":t<0&&-90<=t?"right":"center",this.ctx.translate(e,i)):this.ctx.translate(e,+i+10)},Xaxis.prototype.getXDesc=function(){return+this.m_chart.m_x+this.m_chart.m_width/2},Xaxis.prototype.getYDesc=function(){return this.m_chart.m_chartpaddings.bottomBorderToDescription=IsBoolean(this.m_chart.m_updateddesign)?40:this.m_chart.m_chartpaddings.bottomBorderToDescription,+this.m_chart.m_y+ +this.m_chart.m_height-this.m_fontsize-+this.m_chart.m_chartpaddings.bottomBorderToDescription/2},Yaxis.prototype=new Axes,Yaxis.prototype.init=function(t,e){this.m_chart=t,this.ctx=this.m_chart.ctx,this.m_chartCalculation=e,this.m_startX=this.m_chart.getStartX(),this.m_startY=this.m_chart.getStartY(),this.m_endX=this.m_chart.getEndX(),this.m_endY=this.m_chart.getEndY(),"Pie"!=this.m_chart.m_type&&"MitoPlot"!=this.m_chart.m_type&&"PieDoughnut"!=this.m_chart.m_type&&"Funnel"!=this.m_chart.m_type&&"InvertedFunnel"!=this.m_chart.m_type&&"Pyramid"!=this.m_chart.m_type&&"Spider"!=this.m_chart.m_type?(this.m_yAxisText=this.m_chartCalculation.getYAxisText(),this.m_yAxisMarkersArray=this.m_chartCalculation.getYAxisMarkersArray(),this.setLeftAxisFormatters(),this.setRightAxisFormatters()):(this.setFormatter(),this.setSecondaryFormatter()),this.m_precision=this.m_chart.getPrecision(),this.m_secondaryAxisPrecision=this.m_chart.getSecondaryAxisPrecision(),this.m_isSecodaryAxis=!1,this.m_axiscolor=convertColorToHex(this.m_chart.getAxisColor()),this.m_lineyaxiscolor=""!==this.m_lineyaxiscolor?convertColorToHex(this.m_lineyaxiscolor):this.m_axiscolor,this.m_labelfontcolor=convertColorToHex(this.getLabelFontColor())},Yaxis.prototype.setLeftAxisFormatters=function(){this.m_isFormatter=!1,this.m_isSecondaryFormatter=!1,IsBoolean(this.m_chart.getFixedLabel())||IsBoolean(this.getLeftaxisFormater())&&(this.setFormatter(),this.setSecondaryFormatter())},Yaxis.prototype.setFormatter=function(){var t,e;this.m_unitSymbol="",this.m_formatterPosition="",this.m_isFormatter=!1,"none"!=this.m_chart.m_formater&&""!=this.m_chart.m_formater&&(t=this.m_chart.getFormater(),"none"!=(e=this.m_chart.getUnit()))&&""!=e&&(this.m_isFormatter=!0,this.m_unitSymbol=this.m_util.getFormatterSymbol(t,e),this.m_formatterPosition=this.m_chart.getSignPosition(),""==this.m_formatterPosition)&&(this.m_formatterPosition="suffix")},Yaxis.prototype.setSecondaryFormatter=function(){var t,e;this.m_secondaryUnitSymbol="",this.m_secondaryFormatterPosition="",this.m_isSecondaryFormatter=!1,"none"!=this.m_chart.m_secondaryformater&&""!=this.m_chart.m_secondaryformater&&(t=this.m_chart.getSecondaryFormater(),""!=(e=this.m_chart.getSecondaryUnit())&&"none"!=e&&null!=e&&(this.m_isSecondaryFormatter=!0,this.m_secondaryUnitSymbol=this.m_util.getFormatterSymbol(t,e)),this.m_secondaryFormatterPosition="suffix")},Yaxis.prototype.setRightAxisFormatters=function(){IsBoolean(this.m_chart.m_secondaryaxisshow)&&IsBoolean(this.getRightAxisFormater())&&(this.setSecondAxisFormatter(),this.setSecondAxisSecondaryFormatter())},Yaxis.prototype.setSecondAxisFormatter=function(){var t,e;this.m_secondAxisUnitSymbol="",this.m_secondAxisFormatterPosition="",this.m_isSecondAxisFormatter=!1,"none"==this.m_chart.m_secondaryaxisformater&&""==this.m_chart.m_secondaryaxisformater||(t=this.m_chart.m_secondaryaxisunit,e=this.m_chart.m_secondaryaxisformater,"none"!=t&&""!=t&&(this.m_isSecondAxisFormatter=!0,this.m_secondAxisUnitSymbol=this.m_util.getFormatterSymbol(e,t),this.m_secondAxisFormatterPosition=this.m_chart.m_secondaryaxissignposition))},Yaxis.prototype.setSecondAxisSecondaryFormatter=function(){var t,e;this.m_secondAxisSecondaryUnitSymbol="",this.m_secondAxisSecondaryFormatterPosition="",this.m_isSecondAxisSecondaryFormatter=!1,"none"==this.m_chart.m_secondaryaxissecondaryformatter&&""==this.m_chart.m_secondaryaxissecondaryformatter||(t=this.m_chart.m_secondaryaxissecondaryunit,e=this.m_chart.m_secondaryaxissecondaryformatter,"none"!=t&&""!=t&&(this.m_isSecondAxisSecondaryFormatter=!0,this.m_secondAxisSecondaryUnitSymbol=this.m_util.getFormatterSymbol(e,t),this.m_secondAxisSecondaryFormatterPosition="suffix"))},Yaxis.prototype.drawYAxis=function(){var t,e,i,o,a;IsBoolean(this.m_showlineyaxis)&&(t=this.m_lineyaxiscolor,e=+this.m_startX-this.m_chart.m_axistodrawingareamargin-1,i=+this.m_startY+1+this.m_chart.m_axistodrawingareamargin,o=+this.m_startX-this.m_chart.m_axistodrawingareamargin-1,a=+this.m_endY,this.drawLineBetweenPoints(.5,.5,t,e,i,o,a))},Yaxis.prototype.horizontalMarkerLines=function(){for(var t=0;t<this.m_yAxisMarkersArray.length;t++){var e=hex2rgb(this.m_chart.m_markercolor,this.m_chart.m_markertransparency),i=+this.m_startX-this.m_chart.m_axistodrawingareamargin,o=+this.m_startY-this.getYAxisDiv()*t,a=+this.m_endX,r=+this.m_startY-this.getYAxisDiv()*t;this.drawLineBetweenPoints(.5,.5,e,i,o,a,r)}},Yaxis.prototype.zeroMarkerLine=function(){for(var t=0;t<this.m_yAxisMarkersArray.length;t++)if(0==this.m_yAxisMarkersArray[t]){var e=hex2rgb(this.m_chart.m_zeromarkercolor,this.m_chart.m_markertransparency),i=+this.m_startX-this.m_chart.m_axistodrawingareamargin,o=+this.m_startY-this.getYAxisDiv()*t,a=+this.m_endX,r=+this.m_startY-this.getYAxisDiv()*t;this.drawLineBetweenPoints(.5,.5,e,i,o,a,r);break}},Yaxis.prototype.secondAxisZeroMarkerLine=function(){for(var t=0;t<this.m_yAxisMarkersArray.length;t++)if(0==this.m_yAxisMarkersArray[t]){var e=hex2rgb(this.m_chart.m_secondaxiszeromarkercolor,this.m_chart.m_markertransparency),i=+this.m_startX-this.m_chart.m_axistodrawingareamargin,o=+this.m_startY-this.getYAxisDiv()*t,a=+this.m_endX,r=+this.m_startY-this.getYAxisDiv()*t;this.drawLineBetweenPoints(.5,.5,e,i,o,a,r);break}},Yaxis.prototype.markYaxis=function(){var t=parseInt(this.m_chart.m_yAxis.m_labelfontsize),e=parseInt(this.m_chart.m_yAxis.m_fontsize);if(("Bar"==this.m_chart.m_type||"bar"==this.m_chart.m_type||"Chevron"==this.m_chart.m_type||"chevron"==this.m_chart.m_type)&&0<t)this.markYaxisForBarOrChevron();else{for(var i=[],o=0;o<this.m_yAxisMarkersArray.length;o++){var a=this.m_yAxisMarkersArray[o];IsBoolean(this.m_chart.m_fixedlabel)?a=getNumberFormattedValue(a):IsBoolean(this.m_isSecodaryAxis)?IsBoolean(this.getRightAxisFormater())&&(a=this.getSecondaryAxisFormattedText(a,this.m_secondaryAxisPrecision)):a=this.getFormattedText(a,this.m_precision),i.push(a)}if(!isUniqueArray(i))for(var r=getDuplicatesFromArray(i),o=0;o<this.m_yAxisMarkersArray.length;o++){var s,a=this.m_yAxisMarkersArray[o];IsBoolean(this.m_chart.m_fixedlabel)?a=getNumberFormattedValue(a):IsBoolean(this.m_isSecodaryAxis)?IsBoolean(this.getRightAxisFormater())&&(s=this.getSecondaryAxisFormattedText(a,this.m_secondaryAxisPrecision),a="default"==this.m_secondaryAxisPrecision&&"auto"==this.m_secondAxisSecondaryUnitSymbol&&0<Object.keys(r).length?this.getSecondaryAxisFormattedText(a,1):s):(s=this.getFormattedText(a,this.m_precision),a="default"==this.m_precision&&"auto"==this.m_secondaryUnitSymbol&&0<Object.keys(r).length?this.getFormattedText(a,1):s),i[o]=a}for(var n=0;n<i.length;n++)this.m_axislinetotextgap=IsBoolean(this.m_chart.m_updateddesign)?5:this.m_axislinetotextgap,0<t&&this.m_textUtil.drawText(this.ctx,i[n],+this.m_startX-this.m_chart.m_axistodrawingareamargin-this.m_axislinetotextgap,+this.m_startY-n*this.getYAxisDiv(),this.getLabelFontProperties(),this.m_labeltextalign,this.m_labelfontcolor),this.isLabelDecoration()&&this.textDecoration(i[n],+this.m_startX-this.m_axislinetotextgap,+this.m_startY-n*this.getYAxisDiv(),this.m_labelfontcolor,this.m_chart.fontScaling(this.getLabelFontSize()),this.m_labeltextalign)}0<e&&(IsBoolean(this.m_isSecodaryAxis)?this.drawSecondAxisDescription():this.drawDescription())},Yaxis.prototype.descriptionDecoration=function(t,e,i,o,a,r){this.ctx.beginPath(),this.ctx.font=this.m_fontstyle+" "+this.m_fontweight+" "+this.m_fontsize+"px "+selectGlobalFont(this.m_fontfamily);t=this.ctx.measureText(t).width;this.ctx.closePath();this.drawLineBetweenPoints(.5,.5,o,+e+2,+i+t/2,+e+2,+i-t/2)},Yaxis.prototype.secondAxisDescriptionDecoration=function(t,e,i,o,a,r){this.ctx.beginPath(),this.ctx.font=this.getSecondAxisFontProperties();t=this.ctx.measureText(t).width;this.ctx.closePath();this.drawLineBetweenPoints(.5,.5,o,+e+2,+i+t/2,+e+2,+i-t/2)},Yaxis.prototype.drawDescription=function(){var t=convertColorToHex(this.getFontColor()),e="box_plot_chart"===this.m_chart.m_componenttype?this.m_chart.m_subCategoryDisplayNames.reduce(function(t,e){return""!==e?""===t?e:t+", "+e:t},""):"candle_stick_chart"===this.m_chart.m_componenttype?"Data":this.m_chart.m_allSeriesDisplayNames.reduce(function(t,e){return""!==e?""===t?e:t+", "+e:t},""),e=IsBoolean(this.m_chart.m_yAxis.m_showdatasetdescription)?this.m_chart.formattedDescription(this.m_chart,e):this.m_chart.formattedDescription(this.m_chart,this.m_description);""!==e&&(this.ctx.beginPath(),this.ctx.save(),this.ctx.translate(this.getXDesc(),this.getYDesc()),this.ctx.rotate(270*Math.PI/180),this.m_textUtil.drawText(this.ctx,e,0,0,this.getFontProperties(),"center",t),this.ctx.restore(),this.isDescriptionDecoration()&&this.descriptionDecoration(e,+this.getXDesc()+this.m_fontsize/2,this.getYDesc(),t,this.m_chart.fontScaling(this.getFontSize()),"center"),this.ctx.closePath())},Yaxis.prototype.drawSecondAxisDescription=function(){this.m_chart.m_x,this.m_chart.m_width,IsBoolean(this.m_chart.m_showlegends);var t=convertColorToHex(this.m_chart.m_secondaxisfontcolor),e=this.m_chart.formattedDescription(this.m_chart,this.m_chart.m_secondaxisdiscription);this.ctx.beginPath(),this.ctx.save(),this.ctx.translate(this.getSecondXDesc(),this.getYDesc()),this.ctx.rotate(270*Math.PI/180),this.m_textUtil.drawText(this.ctx,e,0,0,this.getSecondAxisFontProperties(),"center",t),this.ctx.restore(),"underline"==this.getSecondAxisTextDecoration().toLowerCase()&&this.secondAxisDescriptionDecoration(e,+this.getSecondXDesc()+this.m_chart.fontScaling(this.m_chart.m_secondaxisfontsize)/2,this.getYDesc(),t,this.m_chart.fontScaling(this.m_chart.m_secondaxisfontsize),"center"),this.ctx.closePath()},Yaxis.prototype.textDecoration=function(t,e,i,o,a,r){this.m_chart.underLine(t,e,+i+this.m_labelfontsize/2,o,a,r)},Yaxis.prototype.getFormattedText=function(t,e){var i,o,e="undefined"==e||null==e?this.m_chart.m_precision:e;return t%1!=0&&e<1?t=this.setPrecision(t,0):IsBoolean(this.m_isFormatter)||IsBoolean(this.m_isSecondaryFormatter)||"default"!==e&&(t=this.setPrecision(t,e)),"none"!=this.m_chart.m_formater&&""!=this.m_chart.m_formater||"none"!=this.m_chart.m_secondaryformater&&""!=this.m_chart.m_secondaryformater||(t=this.setPrecision(t,e)),IsBoolean(this.m_isFormatter)&&(t=this.m_util.updateTextWithFormatter(t,this.m_unitSymbol,e)),IsBoolean(this.m_isSecondaryFormatter)&&"Number"==this.m_chart.m_secondaryformater&&(t=this.m_util.updateTextWithFormatter(t,this.m_secondaryUnitSymbol,e)),t=getFormattedNumberWithCommas(t=IsBoolean(this.m_isSecondaryFormatter)?"auto"!=this.m_secondaryUnitSymbol?(0!=e&&null!=e?t=this.setPrecision(t,e):t<1&&t%1!=0&&(t=this.setPrecision(t,2)),t=t%1==0&&"default"===this.m_precision?+t:t,this.addSecondaryFormater(t,this.m_secondaryUnitSymbol)):(i=getNumberFormattedSymbol(+t,this.m_chart.m_unit),o=getNumberFormattedNumericValue(+t,e,this.m_chart.m_unit),t=this.setPrecision(o,e),0!=e&&null!=e?t=this.setPrecision(t,e):t<1&&t%1!=0&&(t=this.setPrecision(t,2)),t=t%1==0&&"default"===this.m_precision?+t:t,this.addSecondaryFormater(t,i)):t,this.m_chart.m_numberformatter),t=IsBoolean(this.m_isFormatter)&&null!=this.m_unitSymbol?this.m_util.addFormatter(t,this.m_unitSymbol,this.m_formatterPosition,e):t},Yaxis.prototype.getSecondaryAxisFormattedText=function(t,e){var i,o,e=void 0!==e?e:this.m_secondaryAxisPrecision;return t%1!=0&&e<1?t=this.setPrecision(t,0):IsBoolean(this.m_isSecondAxisFormatter)||IsBoolean(this.m_isSecondAxisSecondaryFormatter)||"default"!==e&&(t=this.setPrecision(t,e)),"none"!=this.m_chart.m_secondaryaxisformater&&""!=this.m_chart.m_secondaryaxisformater||"none"!=this.m_chart.m_secondaryaxissecondaryformatter&&""!=this.m_chart.m_secondaryaxissecondaryformatter||(t=this.setPrecision(t,e)),IsBoolean(this.m_isSecondAxisFormatter)&&(t=this.m_util.updateTextWithFormatter(t,this.m_secondAxisUnitSymbol,e)),IsBoolean(this.m_isSecondAxisSecondaryFormatter)&&"Number"==this.m_chart.m_secondaryaxissecondaryformatter&&(t=this.m_util.updateTextWithFormatter(t,this.m_secondAxisSecondaryUnitSymbol,e)),t=getFormattedNumberWithCommas(t=IsBoolean(this.m_isSecondAxisSecondaryFormatter)?"auto"!=this.m_secondAxisSecondaryUnitSymbol?(0!=e&&null!=e?t=this.setPrecision(t,e):t<1&&t%1!=0&&(t=this.setPrecision(t,2)),t=t%1==0&&"default"===this.m_secondaryAxisPrecision?+t:t,this.addSecondAxisSecondaryFormater(t,this.m_secondAxisSecondaryUnitSymbol)):(i=getNumberFormattedSymbol(+t,this.m_chart.m_secondaryaxisunit),o=getNumberFormattedNumericValue(+t,e,this.m_chart.m_secondaryaxisunit),t=this.setPrecision(o,e),0!=e&&null!=e?t=this.setPrecision(t,e):t<1&&t%1!=0&&(t=this.setPrecision(t,2)),t=t%1==0&&"default"===this.m_secondaryAxisPrecision?+t:t,this.addSecondAxisSecondaryFormater(t,i)):t,this.m_chart.m_secondaryaxisnumberformatter),t=IsBoolean(this.m_isSecondAxisFormatter)&&null!=this.m_secondAxisUnitSymbol?this.m_util.addFormatter(t,this.m_secondAxisUnitSymbol,this.m_secondAxisFormatterPosition,this.m_secondaryAxisPrecision):t},Yaxis.prototype.hasNegativeAxisMarker=function(t){var e=!1;return e=Array.isArray(t)&&0<t.length&&Math.min.apply(null,t)<0?!0:e},Yaxis.prototype.setPrecision=function(t,e){return 0!==t&&"default"!==e?(+t).toFixed(e):+t},Yaxis.prototype.addSecondaryFormater=function(t,e){return this.getSecondaryFormaterAddedText(t,e).toString()},Yaxis.prototype.getSecondaryFormaterAddedText=function(textValue,secondaryUnitSymbol){var formattedText=textValue;try{eval("var formattedText = this.m_util.addUnitAs"+this.m_secondaryFormatterPosition+"(textValue,secondaryUnitSymbol);")}catch(e){}return formattedText},Yaxis.prototype.addSecondAxisSecondaryFormater=function(text,secondAxisSecondaryUnitSymbol){var textValue=text;try{eval("var formattedText = this.m_util.addUnitAs"+this.m_secondAxisSecondaryFormatterPosition+"(textValue,secondAxisSecondaryUnitSymbol);")}catch(e){}return formattedText.toString()},Yaxis.prototype.markYaxisForBarOrChevron=function(){this.m_axislinetotextgap=IsBoolean(this.m_chart.m_updateddesign)?15:this.m_axislinetotextgap;for(var t=0;t<this.m_yAxisText.length;t++){var e=+this.m_startY-+this.m_chart.m_barGap*(+t+1)-+this.m_chart.m_barWidth*t-+this.m_chart.m_barWidth/2+5,i=this.getText(""+this.m_yAxisText[t],this.m_chart.m_width/4,this.getLabelFontProperties());this.m_textUtil.drawText(this.ctx,i,+this.m_startX-this.m_axislinetotextgap,e-4,this.getLabelFontProperties(),this.m_labeltextalign,this.m_labelfontcolor),this.isLabelDecoration()&&this.textDecoration(i,this.m_startX,e-3,this.m_labelfontcolor,this.m_chart.fontScaling(this.getLabelFontSize()),this.m_labeltextalign)}},Yaxis.prototype.getSecondAxisFontProperties=function(){return this.m_textUtil.getFontProperties(this.getSecondAxisFontStyle(),this.getSecondAxisFontWeight(),this.m_chart.fontScaling(this.getSecondAxisFontSize()),this.getSecondAxisFontFamily())},Yaxis.prototype.getFontProperties=function(){return this.m_textUtil.getFontProperties(this.getFontStyle(),this.getFontWeight(),this.m_chart.fontScaling(this.getFontSize()),this.getFontFamily())},Yaxis.prototype.getLabelFontProperties=function(){return this.m_textUtil.getFontProperties(this.getLabelFontStyle(),this.getLabelFontWeight(),this.m_chart.fontScaling(this.getLabelFontSize()),this.getLabelFontFamily())},Yaxis.prototype.getYAxisDiv=function(){return(this.m_startY-this.m_endY)/(this.m_yAxisMarkersArray.length-1)},Yaxis.prototype.getSecondXDesc=function(){return+this.m_chart.m_x+ +this.m_chart.m_width-this.m_chart.m_spaceForSecondAxisDec-+this.m_chart.fontScaling(this.m_chart.m_secondaxisfontsize)+2},Yaxis.prototype.getXDesc=function(){return+this.m_chart.m_x+ +this.m_chart.fontScaling(this.getFontSize())+ +this.m_chart.m_chartpaddings.leftBorderToDescription/2},Yaxis.prototype.getYDesc=function(){return this.m_startY-(this.m_startY-this.m_endY)/2},Yaxis.prototype.formatToCurrency=function(t){t=t.toString().replace(/\$|\,/g,"");var e=(t=isNaN(t)?"0":t)==(t=Math.abs(t)),i=(t=Math.floor(100*t+.50000000001))%100;t=Math.floor(t/100).toString(),i<10&&(i="0"+i);for(var o=0;o<Math.floor((t.length-(1+o))/3);o++)t=t.substring(0,t.length-(4*o+3))+","+t.substring(t.length-(4*o+3));return 0<i?(e?"":"-")+"$ "+t+"."+i:(e?"":"-")+"$ "+t},Yaxis.prototype.secondaryAxisInit=function(t){this.m_chartCalculation=t,this.m_yAxisText=this.m_chart.rightAxisInfo.markertext,this.m_yAxisMarkersArray=this.m_chart.rightAxisInfo.markerarray},Yaxis.prototype.drawSecondaryAxis=function(t){IsBoolean(this.m_chart.m_showmarkerline)&&""==this.m_chart.leftAxisInfo.markerarray&&this.horizontalMarkerLines(),IsBoolean(this.m_chart.m_secondaxiszeromarkerline)&&!IsBoolean(this.m_chart.m_secondaxisbasezero)&&IsBoolean(this.hasNegativeAxisMarker(this.m_yAxisMarkersArray))&&this.secondAxisZeroMarkerLine();var e=this.m_startX;this.m_startX=this.m_endX,this.drawYAxis(),this.m_isSecodaryAxis=!0,this.m_labeltextalign="left",this.m_startX=+this.m_endX+10,this.markYaxis(),this.m_labeltextalign="right",this.m_startX=e},LayerCalculation.prototype.init=function(t){this.m_chartRef=t},LayerCalculation.prototype.getFunnelHeight=function(){return this.funnelHeight=this.m_chartRef.m_height-this.m_chartRef.getMarginForTitle()-this.m_chartRef.getMarginForSubTitle()-this.m_chartRef.m_height/20,this.funnelHeight},LayerCalculation.prototype.getAbsSum=function(t){for(var e=0,i=0;i<t.length;i++){var o=getNumericComparableValue(t[i]);isNaN(o)||(e+=Math.abs(+o))}return e},LayerCalculation.prototype.updatedSeriesValue=function(t){var e=this.getAbsSum(t);if("identicalStack"==this.m_chartRef.m_charttype)for(var i=(this.m_chartRef.funnelHeight-this.m_chartRef.sliceGap*t.length)/t.length,o=[],a=0;a<t.length;a++)o[a]=Math.abs(i);else for(i=(this.m_chartRef.funnelHeight-this.m_chartRef.sliceGap*t.length)/e,o=[],a=0;a<t.length;a++)o[a]=Math.abs(+t[a])*i;return o},LayerCalculation.prototype.updatedSeriesValueForPyramid=function(t){for(var e=this.getAbsSum(t),i=(ratio=this.m_chartRef.funnelHeight/e,[]),o=0;o<t.length;o++)i[o]=Math.abs(+t[o])*ratio;return i},LayerCalculation.prototype.calculateXPosition=function(t){for(var e=this.getAbsSum(t),i=(ratio=this.m_chartRef.funnelWidth/e,[]),o=i[-1]=0;o<t.length;o++){var a=Math.abs(t[+o])*ratio/2;i[o]=+i[o-1]+a}return i},LayerCalculation.prototype.getCalculatePercent=function(t){for(var e=this.getAbsSum(t),i=[],o=0;o<t.length;o++){var a=getNumericComparableValue(t[o]),a=isNaN(100*a/e)?0:100*a/e;i[o]=Math.abs(a).toFixed(2)}return i},LayerCalculation.prototype.sliceSpace=function(t){return 10*this.funnelHeight/(100*t.length)},LayerCalculation.prototype.angle=function(){return Math.atan(this.funnelHeight/(this.m_chartRef.funnelWidth/2))},Layer.prototype.init=function(t){this.m_chartRef=t,this.ctx=this.m_chartRef.ctx},Layer.prototype.draw=function(){},Layer.prototype.drawTriangle=function(){this.x="Funnel"==this.m_chartRef.m_type?1:-1,this.ctx.beginPath(),this.ctx.moveTo(this.m_chartRef.startX,this.m_chartRef.startY),this.ctx.lineTo(this.m_chartRef.startX+this.m_chartRef.funnelWidth/2,this.m_chartRef.startY-this.x*this.m_chartRef.funnelHeight),this.ctx.lineTo(this.m_chartRef.startX-this.m_chartRef.funnelWidth/2,this.m_chartRef.startY-this.x*this.m_chartRef.funnelHeight),this.ctx.lineTo(this.m_chartRef.startX,this.m_chartRef.startY),this.ctx.strokeStyle=this.m_strokecolor,this.ctx.stroke(),this.ctx.closePath()},Layer.prototype.drawFirstSlice=function(t,e,i,o,a){this.seriesValue=e;var e=this.seriesValue/Math.tan(this.m_chartRef.angle),r=(this.percentArr=o,this.x="Funnel"==this.m_chartRef.m_type?1:-1,0),s=[];this.x="Funnel"==this.m_chartRef.m_type?1:-1;for(var n=t;n<this.percentArr.length;n++){for(var h=0;h<this.percentArr[n].length;h++){var l,r=(l=r)+this.percentArr[n][h]/100*this.seriesValue;0==h?(this.ctx.beginPath(),this.ctx.moveTo(this.m_chartRef.startX,this.m_chartRef.startY),this.ctx.lineTo(this.m_chartRef.startX-r/Math.tan(this.m_chartRef.angle),this.m_chartRef.startY-this.x*r),this.ctx.lineTo(+this.m_chartRef.startX+r/Math.tan(this.m_chartRef.angle)*1,this.m_chartRef.startY-this.x*r),this.ctx.lineTo(this.m_chartRef.startX,this.m_chartRef.startY)):(this.ctx.moveTo(this.m_chartRef.startX-l/Math.tan(this.m_chartRef.angle),this.m_chartRef.startY-this.x*l),this.ctx.lineTo(this.m_chartRef.startX-r/Math.tan(this.m_chartRef.angle),this.m_chartRef.startY-this.x*r),this.ctx.lineTo(this.m_chartRef.startX+r/Math.tan(this.m_chartRef.angle),this.m_chartRef.startY-this.x*r),this.ctx.lineTo(this.m_chartRef.startX+l/Math.tan(this.m_chartRef.angle),this.m_chartRef.startY-this.x*l),this.ctx.lineTo(this.m_chartRef.startX-l/Math.tan(this.m_chartRef.angle),this.m_chartRef.startY-this.x*l)),this.ctx.fillStyle=hex2rgb(i[0],a[h]),this.ctx.fill(),this.ctx.strokeStyle=i[0],this.ctx.closePath(),h!=this.percentArr[n].length-1&&(this.ctx.beginPath(),this.ctx.moveTo(this.m_chartRef.startX-r/Math.tan(this.m_chartRef.angle),this.m_chartRef.startY-this.x*r),this.ctx.lineTo(+this.m_chartRef.startX+r/Math.tan(this.m_chartRef.angle),this.m_chartRef.startY-this.x*r),this.ctx.strokeStyle="#ffffff",this.ctx.stroke(),this.ctx.closePath()),s[h]=this.m_chartRef.startY-this.x*r}this.m_chartRef.yPos.push(s);break}this.m_chartRef.m_layerXpositionArray.push(this.m_chartRef.startX-e);o="Funnel"==this.m_chartRef.m_type?this.m_chartRef.startY-this.x*this.seriesValue:this.m_chartRef.startY;this.m_chartRef.m_layerYpositionArray.push(o),this.m_chartRef.m_layerWidthArray.push(2*e),this.m_chartRef.m_layerHeightArray.push(this.seriesValue);t=(this.m_chartRef.startX+(+this.m_chartRef.startX+e))/2,o=this.m_chartRef.startX,e=+this.m_chartRef.startX-e;this.m_chartRef.m_layerXLeftpositionArray.push((o+e)/2),this.m_chartRef.m_layerXRightpositionArray.push(t)},Layer.prototype.drawFirstSliceOfIdenticalStackFunnel=function(t,e,i,o,a){this.seriesValue=e;var e=this.seriesValue/Math.tan(this.m_chartRef.angle),r=(this.percentArr=o,this.x="Funnel"==this.m_chartRef.m_type?1:-1,0),s=[];this.x="Funnel"==this.m_chartRef.m_type?1:-1;for(var n=t;n<this.percentArr.length;n++){for(var h=0;h<this.percentArr[n].length;h++){var l,r=(l=r)+this.percentArr[n][h]/100*this.seriesValue;0==h?(this.ctx.beginPath(),this.ctx.moveTo(this.m_chartRef.startX+2,this.m_chartRef.startY+2),this.ctx.quadraticCurveTo(this.m_chartRef.startX+2,this.m_chartRef.startY+2,this.m_chartRef.startX,this.m_chartRef.startY+2),this.ctx.lineTo(this.m_chartRef.startX-r/Math.tan(this.m_chartRef.angle),this.m_chartRef.startY-this.x*r-2),this.ctx.quadraticCurveTo(this.m_chartRef.startX-r/Math.tan(this.m_chartRef.angle),this.m_chartRef.startY-this.x*r,this.m_chartRef.startX-r/Math.tan(this.m_chartRef.angle)+2,this.m_chartRef.startY-this.x*r),this.ctx.lineTo(+this.m_chartRef.startX+r/Math.tan(this.m_chartRef.angle)*1-2,this.m_chartRef.startY-this.x*r),this.ctx.quadraticCurveTo(+this.m_chartRef.startX+r/Math.tan(this.m_chartRef.angle)*1+2,this.m_chartRef.startY-this.x*r,+this.m_chartRef.startX+r/Math.tan(this.m_chartRef.angle)*1+2,this.m_chartRef.startY-this.x*r-2),this.ctx.lineTo(this.m_chartRef.startX+2,this.m_chartRef.startY+2)):(this.ctx.moveTo(this.m_chartRef.startX-l/Math.tan(this.m_chartRef.angle),this.m_chartRef.startY-this.x*l),this.ctx.lineTo(this.m_chartRef.startX-r/Math.tan(this.m_chartRef.angle),this.m_chartRef.startY-this.x*r),this.ctx.lineTo(this.m_chartRef.startX+r/Math.tan(this.m_chartRef.angle),this.m_chartRef.startY-this.x*r),this.ctx.lineTo(this.m_chartRef.startX+l/Math.tan(this.m_chartRef.angle),this.m_chartRef.startY-this.x*l),this.ctx.lineTo(this.m_chartRef.startX-l/Math.tan(this.m_chartRef.angle),this.m_chartRef.startY-this.x*l)),this.ctx.fillStyle=hex2rgb(i[0],a[h]),this.ctx.fill(),this.ctx.strokeStyle=i[0],this.ctx.stroke(),this.ctx.closePath(),h!=this.percentArr[n].length-1&&(this.ctx.beginPath(),this.ctx.moveTo(this.m_chartRef.startX-r/Math.tan(this.m_chartRef.angle),this.m_chartRef.startY-this.x*r),this.ctx.lineTo(+this.m_chartRef.startX+r/Math.tan(this.m_chartRef.angle),this.m_chartRef.startY-this.x*r),this.ctx.strokeStyle="#ffffff",this.ctx.stroke(),this.ctx.closePath()),s[h]=this.m_chartRef.startY-this.x*r}this.m_chartRef.yPos.push(s);break}this.m_chartRef.m_layerXpositionArray.push(this.m_chartRef.startX-e);o="Funnel"==this.m_chartRef.m_type?this.m_chartRef.startY-this.x*this.seriesValue:this.m_chartRef.startY,this.m_chartRef.m_layerYpositionArray.push(o),t=(+this.m_chartRef.startX+r/Math.tan(this.m_chartRef.angle)*1)/2-(this.m_chartRef.startX-r/Math.tan(this.m_chartRef.angle)*1)/2;this.m_chartRef.m_layerWidthArray.push(t),this.m_chartRef.m_layerHeightArray.push(this.seriesValue);o=(this.m_chartRef.startX+(+this.m_chartRef.startX+e))/2,t=(this.m_chartRef.startX+(+this.m_chartRef.startX-e))/2;this.m_chartRef.m_layerXCenterpositionArray.push(this.m_chartRef.startX),this.m_chartRef.m_layerXLeftpositionArray.push(t),this.m_chartRef.m_layerXRightpositionArray.push(o)},Layer.prototype.drawOtherSlices=function(t,e,i,o,a,r){this.value1=e,this.value2=i,this.x="Funnel"==this.m_chartRef.m_type?1:-1,this.percentArr=a;for(var s=[],n=0,h=t;h<this.percentArr.length;h++){for(var l=0;l<this.percentArr[h].length;l++){var c,m=this.percentArr[h][l]/100*(this.value2-(this.value1+ +this.m_chartRef.sliceGap)),n=(c=0==l?this.value1+ +this.m_chartRef.sliceGap+n:n)+m;this.ctx.beginPath(),this.ctx.moveTo(this.m_chartRef.startX-c/Math.tan(this.m_chartRef.angle),this.m_chartRef.startY-this.x*c),this.ctx.lineTo(this.m_chartRef.startX-n/Math.tan(this.m_chartRef.angle),this.m_chartRef.startY-this.x*n),this.ctx.lineTo(this.m_chartRef.startX+n/Math.tan(this.m_chartRef.angle),this.m_chartRef.startY-this.x*n),this.ctx.lineTo(this.m_chartRef.startX+c/Math.tan(this.m_chartRef.angle),this.m_chartRef.startY-this.x*c),this.ctx.lineTo(this.m_chartRef.startX-c/Math.tan(this.m_chartRef.angle),this.m_chartRef.startY-this.x*c),this.ctx.fillStyle=hex2rgb(o[0],r[l]),this.ctx.fill(),this.ctx.strokeStyle=o[0],this.ctx.closePath(),l!=this.percentArr[h].length-1&&(this.ctx.beginPath(),this.ctx.moveTo(this.m_chartRef.startX-+n/Math.tan(this.m_chartRef.angle),this.m_chartRef.startY-this.x*n),this.ctx.lineTo(this.m_chartRef.startX+ +n/Math.tan(this.m_chartRef.angle),this.m_chartRef.startY-this.x*n),this.ctx.strokeStyle="#ffffff",this.ctx.stroke(),this.ctx.closePath()),s[l]=this.m_chartRef.startY-this.x*n}this.m_chartRef.yPos.push(s);break}this.m_chartRef.m_layerXpositionArray.push(this.m_chartRef.startX-this.value2/Math.tan(this.m_chartRef.angle));e="Funnel"==this.m_chartRef.m_type?this.m_chartRef.startY-this.x*this.value2:this.m_chartRef.startY-this.x*(+this.value1+ +this.m_chartRef.sliceGap);this.m_chartRef.m_layerYpositionArray.push(e),this.m_chartRef.m_layerWidthArray.push(2*this.value2/Math.tan(this.m_chartRef.angle)),this.m_chartRef.m_layerHeightArray.push(this.value1);i=(this.m_chartRef.startX+this.value2/Math.tan(this.m_chartRef.angle)+(this.m_chartRef.startX+(this.value1+this.m_chartRef.sliceGap)/Math.tan(this.m_chartRef.angle)))/2,a=this.m_chartRef.startX-(this.value1+this.m_chartRef.sliceGap)/Math.tan(this.m_chartRef.angle),t=this.m_chartRef.startX-this.value2/Math.tan(this.m_chartRef.angle);this.m_chartRef.m_layerXLeftpositionArray.push((a+t)/2),this.m_chartRef.m_layerXRightpositionArray.push(i)},Layer.prototype.drawOtherSlicesOfIdenticalStackFunnel=function(t,e,i,o,a,r){this.value1=e,this.value2=i,this.x="Funnel"==this.m_chartRef.m_type?1:-1,this.percentArr=a;for(var s=[],n=0,h=0,l=t;l<this.percentArr.length;l++){for(var c=0;c<this.percentArr[l].length;c++){var m=this.percentArr[l][c]/100*(this.value2-(this.value1+ +this.m_chartRef.sliceGap)),h=(n=0==c?this.value1+ +this.m_chartRef.sliceGap+h:h)+m;this.ctx.beginPath(),this.ctx.moveTo(this.m_chartRef.startX-n/Math.tan(this.m_chartRef.angle)+2,this.m_chartRef.startY-this.x*n),this.ctx.quadraticCurveTo(this.m_chartRef.startX-n/Math.tan(this.m_chartRef.angle)+2,this.m_chartRef.startY-this.x*n,this.m_chartRef.startX-n/Math.tan(this.m_chartRef.angle),this.m_chartRef.startY-this.x*n+2),this.ctx.lineTo(this.m_chartRef.startX-h/Math.tan(this.m_chartRef.angle),this.m_chartRef.startY-this.x*h-2),this.ctx.quadraticCurveTo(this.m_chartRef.startX-h/Math.tan(this.m_chartRef.angle),this.m_chartRef.startY-this.x*h,this.m_chartRef.startX-h/Math.tan(this.m_chartRef.angle)+2,this.m_chartRef.startY-this.x*h),this.ctx.lineTo(this.m_chartRef.startX+h/Math.tan(this.m_chartRef.angle)-2,this.m_chartRef.startY-this.x*h),this.ctx.quadraticCurveTo(this.m_chartRef.startX+h/Math.tan(this.m_chartRef.angle)+2,this.m_chartRef.startY-this.x*h,this.m_chartRef.startX+h/Math.tan(this.m_chartRef.angle)+2,this.m_chartRef.startY-this.x*h-2),this.ctx.lineTo(this.m_chartRef.startX+n/Math.tan(this.m_chartRef.angle)+2,this.m_chartRef.startY-this.x*n+2),this.ctx.quadraticCurveTo(this.m_chartRef.startX+n/Math.tan(this.m_chartRef.angle),this.m_chartRef.startY-this.x*n,this.m_chartRef.startX+n/Math.tan(this.m_chartRef.angle)-2,this.m_chartRef.startY-this.x*n),this.ctx.lineTo(this.m_chartRef.startX-n/Math.tan(this.m_chartRef.angle)+2,this.m_chartRef.startY-this.x*n),this.ctx.fillStyle=hex2rgb(o[0],r[c]),this.ctx.fill(),this.ctx.strokeStyle=o[0],this.ctx.stroke(),this.ctx.closePath(),c!=this.percentArr[l].length-1&&(this.ctx.beginPath(),this.ctx.moveTo(this.m_chartRef.startX-+h/Math.tan(this.m_chartRef.angle),this.m_chartRef.startY-this.x*h),this.ctx.lineTo(this.m_chartRef.startX+ +h/Math.tan(this.m_chartRef.angle),this.m_chartRef.startY-this.x*h),this.ctx.strokeStyle="#ffffff",this.ctx.stroke(),this.ctx.closePath()),s[c]=this.m_chartRef.startY-this.x*h}this.m_chartRef.yPos.push(s);break}this.m_chartRef.m_layerXpositionArray.push(this.m_chartRef.startX-this.value2/Math.tan(this.m_chartRef.angle));e="Funnel"==this.m_chartRef.m_type?this.m_chartRef.startY-this.x*this.value2:this.m_chartRef.startY-this.x*(+this.value1+ +this.m_chartRef.sliceGap),this.m_chartRef.m_layerYpositionArray.push(e),i=this.m_chartRef.startX+n/Math.tan(this.m_chartRef.angle)-(this.m_chartRef.startX-n/Math.tan(this.m_chartRef.angle));this.m_chartRef.m_layerWidthArray.push(i),this.m_chartRef.m_layerHeightArray.push(this.value1);a=(this.m_chartRef.startX+this.value2/Math.tan(this.m_chartRef.angle)+(this.m_chartRef.startX+(this.value1+this.m_chartRef.sliceGap)/Math.tan(this.m_chartRef.angle)))/2,t=(this.m_chartRef.startX-(this.value1+this.m_chartRef.sliceGap)/Math.tan(this.m_chartRef.angle)+(this.m_chartRef.startX-this.value2/Math.tan(this.m_chartRef.angle)))/2;this.m_chartRef.m_layerXCenterpositionArray.push(this.m_chartRef.startX),this.m_chartRef.m_layerXLeftpositionArray.push(t),this.m_chartRef.m_layerXRightpositionArray.push(a)},Layer.prototype.drawLowerHalfEllipse=function(t,e,i,o,a,r){o="0"==r?2:o,this.x="Funnel"==this.m_chartRef.m_type?1:-1,this.ctx.beginPath(),this.ctx.moveTo(t-i/2,e),this.ctx.bezierCurveTo(t-i/2,e+this.x*o/2,t+i/2,e+this.x*o/2,t+i/2,e),this.ctx.lineWidth=2,this.ctx.strokeStyle=a[0],this.ctx.stroke(),this.ctx.fillStyle=a[0],this.ctx.fill(),this.ctx.closePath()},Layer.prototype.drawEllipse=function(t,e,i,o,a,r,s){o="0"==r?2:o,this.ctx.beginPath(),this.ctx.moveTo(t-i/2,e),this.ctx.bezierCurveTo(t-i/2,e-o/2,t+i/2,e-o/2,t+i/2,e),this.ctx.bezierCurveTo(t+i/2,e+o/2,t-i/2,e+o/2,t-i/2,e),this.ctx.strokeStyle=this.m_strokecolor,this.ctx.stroke(),this.ctx.fillStyle=this.m_strokecolor,this.ctx.fill(),r==s.length-1&&(this.ctx.strokeStyle=hex2rgb(a[0],.6),this.ctx.stroke(),this.ctx.fillStyle=a[0],this.ctx.fill()),this.ctx.closePath()},Layer.prototype.createGradient=function(t,e,i,o,a){i=this.ctx.createLinearGradient(e,i,parseInt(e)+parseInt(o),a),e=hex2rgb(t,.6);hex2rgb("#000000",1);return i.addColorStop(0,t),i.addColorStop(.3,t),i.addColorStop(.5,e),i.addColorStop(.7,t),i.addColorStop(1,t),i},Layer.prototype.drawFirstSlicePyramid=function(t,e,i,o,a,r){this.seriesValue=e;e=+this.seriesValue/4;this.percentArr=a;for(var s=t;s<this.percentArr.length;s++){for(var n=0,h=0,l=0,c=[],m=0;m<this.percentArr[s].length;m++){var d,p,_,n=(d=n)+this.percentArr[s][m]/100*o,u=this.percentArr[s][m]/100*this.seriesValue,l=(p=l)+u,h=(_=h)+u/4;0==m?(this.ctx.beginPath(),this.ctx.moveTo(this.m_chartRef.startX,this.m_chartRef.startY),this.ctx.lineTo(this.m_chartRef.startX-n,this.m_chartRef.startY+(l-h)),this.ctx.lineTo(this.m_chartRef.startX,this.m_chartRef.startY+l),this.ctx.lineTo(this.m_chartRef.startX+n,this.m_chartRef.startY+(l-h)),this.ctx.lineTo(this.m_chartRef.startX,this.m_chartRef.startY)):(this.ctx.beginPath(),this.ctx.moveTo(this.m_chartRef.startX-d,this.m_chartRef.startY+(p-_)),this.ctx.lineTo(this.m_chartRef.startX-n,this.m_chartRef.startY+(l-h)),this.ctx.lineTo(this.m_chartRef.startX,this.m_chartRef.startY+l),this.ctx.lineTo(this.m_chartRef.startX+n,this.m_chartRef.startY+(l-h)),this.ctx.lineTo(this.m_chartRef.startX+d,this.m_chartRef.startY+(p-_)),this.ctx.lineTo(this.m_chartRef.startX,this.m_chartRef.startY+p),this.ctx.lineTo(this.m_chartRef.startX-d,this.m_chartRef.startY+(p-_))),this.ctx.fillStyle=hex2rgb(i[0],r[m]),this.ctx.fill(),this.ctx.strokeStyle=i[0],this.ctx.closePath(),this.ctx.beginPath(),this.ctx.moveTo(this.m_chartRef.startX,this.m_chartRef.startY),this.ctx.lineTo(this.m_chartRef.startX,this.m_chartRef.startY+l),this.ctx.fillStyle=i[0],this.ctx.fill(),this.ctx.strokeStyle=this.m_strokecolor,this.ctx.stroke(),this.ctx.closePath(),m!=this.percentArr[s].length-1&&(this.ctx.beginPath(),this.ctx.moveTo(this.m_chartRef.startX-+n,this.m_chartRef.startY+(l-h)),this.ctx.lineTo(this.m_chartRef.startX,this.m_chartRef.startY+l),this.ctx.lineTo(this.m_chartRef.startX+ +n,this.m_chartRef.startY+(l-h)),this.ctx.strokeStyle="#ffffff",this.ctx.stroke(),this.ctx.closePath()),c[m]=this.m_chartRef.startY+l}this.m_chartRef.yPos.push(c);break}var a=(this.m_chartRef.startX+(this.m_chartRef.startX+o))/2,t=(this.m_chartRef.startY+(this.m_chartRef.startY+(this.seriesValue-e)))/2,g=(this.m_chartRef.startX+(this.m_chartRef.startX-o))/2,e=(this.m_chartRef.startY+(this.m_chartRef.startY+(this.seriesValue-e)))/2;this.m_chartRef.m_layerXpositionArray.push(this.m_chartRef.startX-o),this.m_chartRef.m_layerYpositionArray.push(this.m_chartRef.startY),this.m_chartRef.m_layerWidthArray.push(2*o),this.m_chartRef.m_layerHeightArray.push(this.seriesValue),this.m_chartRef.m_layerXLeftpositionArray.push({x:g,y:e}),this.m_chartRef.m_layerXRightpositionArray.push({x:a,y:t})},Layer.prototype.drawOtherSlicesForPyramid=function(t,e,i,o,a,r,s,n){this.previousValue=e;e=+this.previousValue/4,this.currentValue=i,i=+this.currentValue/4;this.percentArr=s;for(var h=t;h<this.percentArr.length;h++){for(var l=0,c=0,m=0,d=[],p=0;p<this.percentArr[h].length;p++){var _,u,g,l=(_=0==p?a+l:l)+this.percentArr[h][p]/100*(r-a),f=this.percentArr[h][p]/100*(this.currentValue-this.previousValue),m=(u=0==p?this.previousValue+m:m)+f,c=(g=0==p?+this.previousValue/4+c:c)+f/4;this.ctx.beginPath(),this.ctx.moveTo(this.m_chartRef.startX-_,this.m_chartRef.startY+(u-g)),this.ctx.lineTo(this.m_chartRef.startX-l,this.m_chartRef.startY+(m-c)),this.ctx.lineTo(this.m_chartRef.startX,this.m_chartRef.startY+m),this.ctx.lineTo(this.m_chartRef.startX+l,this.m_chartRef.startY+(m-c)),this.ctx.lineTo(this.m_chartRef.startX+_,this.m_chartRef.startY+(u-g)),this.ctx.lineTo(this.m_chartRef.startX,this.m_chartRef.startY+u),this.ctx.lineTo(this.m_chartRef.startX-_,this.m_chartRef.startY+(u-g)),this.ctx.fillStyle=hex2rgb(o[0],n[p]),this.ctx.fill(),this.ctx.strokeStyle=o[0],this.ctx.closePath(),this.ctx.beginPath(),this.ctx.moveTo(this.m_chartRef.startX,this.m_chartRef.startY+m),this.ctx.lineTo(this.m_chartRef.startX,this.m_chartRef.startY+u),this.ctx.fillStyle=o[0],this.ctx.fill(),this.ctx.strokeStyle=this.m_strokecolor,this.ctx.stroke(),this.ctx.closePath(),p!=this.percentArr[h].length-1&&(this.ctx.beginPath(),this.ctx.moveTo(this.m_chartRef.startX-+l,this.m_chartRef.startY+(m-c)),this.ctx.lineTo(this.m_chartRef.startX,this.m_chartRef.startY+m),this.ctx.lineTo(this.m_chartRef.startX+ +l,this.m_chartRef.startY+(m-c)),this.ctx.strokeStyle="#ffffff",this.ctx.stroke(),this.ctx.closePath()),d[p]=this.m_chartRef.startY+m}this.m_chartRef.yPos.push(d);break}var s=(this.m_chartRef.startX+r+(this.m_chartRef.startX+a))/2,t=(this.m_chartRef.startY+(this.currentValue-i)+(this.m_chartRef.startY+(this.previousValue-e)))/2,b=(this.m_chartRef.startX-a+(this.m_chartRef.startX-r))/2,e=(this.m_chartRef.startY+(this.previousValue-e)+(this.m_chartRef.startY+(this.currentValue-i)))/2;this.m_chartRef.m_layerXpositionArray.push(this.m_chartRef.startX-r),this.m_chartRef.m_layerYpositionArray.push(this.m_chartRef.startY+this.previousValue),this.m_chartRef.m_layerWidthArray.push(2*this.currentValue),this.m_chartRef.m_layerHeightArray.push(this.previousValue),this.m_chartRef.m_layerXLeftpositionArray.push({x:b,y:e}),this.m_chartRef.m_layerXRightpositionArray.push({x:s,y:t})},CategoryColor.prototype.getCategoryName=function(){return this.m_categoryname},CategoryColor.prototype.setCategoryName=function(t){this.m_categoryname=t},CategoryColor.prototype.getColor=function(){return this.m_color},CategoryColor.prototype.setColor=function(t){this.m_color=t},CategoryColors.prototype.getCategoryColor=function(){return this.m_categoryColor},CategoryColors.prototype.setCategoryColor=function(t){this.m_categoryColor.push(t)},CategoryColors.prototype.getCategoryNameColorMapLength=function(){var t,e=0;for(t in this.cateogryNameColorMap)e++;return e},CategoryColors.prototype.getCategoryColorsForCategoryNames=function(t,e){var i=[],o=this.getCategoryNameColorMapLength(),a=this.getCategoryDefaultColorSet().length;if(this.getCategoryDefaultColorSet().length<t.length)for(var r=a,s=0;r<t.length;r++,s++)this.getCategoryDefaultColorSet()[r]=0!=a?this.getCategoryDefaultColorSet()[s]:e[0];for(var r=0,n=0;r<t.length;r++){var h=!1;if(0<o)for(var l in this.cateogryNameColorMap)t[r]==l&&(i[r]=convertColorToHex(this.cateogryNameColorMap[l]),h=!0);IsBoolean(h)||(1<e.length?i[r]=convertColorToHex(e[n]):i[r]=convertColorToHex(this.getCategoryDefaultColorSet()[n])),n++}return i},CategoryColors.prototype.getCategoryDefaultColor=function(){return this.m_categorydefaultcolor},CategoryColors.prototype.setCategoryDefaultColor=function(t){this.m_categorydefaultcolor=t},CategoryColors.prototype.getshowColorsFromCategoryName=function(){return this.m_showcolorsfromcategoryname},CategoryColors.prototype.setshowColorsFromCategoryName=function(t){this.m_showcolorsfromcategoryname=t},CategoryColors.prototype.getCategoryDefaultColorSet=function(){return this.m_categorydefaultcolorsetArray},CategoryColors.prototype.setCategoryDefaultColorSet=function(){""!==this.m_categorydefaultcolorset&&(this.m_categorydefaultcolorsetArray=(""+this.m_categorydefaultcolorset).split(","))},SubCategoryColor.prototype.getSubCategoryName=function(){return this.m_subcategoryname},SubCategoryColor.prototype.setSubCategoryName=function(t){this.m_subcategoryname=categoryName},SubCategoryColor.prototype.getColor=function(){return this.m_color},SubCategoryColor.prototype.setColor=function(t){this.m_color=t},SubCategoryColors.prototype.setSubCategoryDefaultColorSet=function(){""!==this.m_subcategorydefaultcolorset&&(this.m_subcategorydefaultcolorsetArray=(""+this.m_subcategorydefaultcolorset).split(","))},SubCategoryColors.prototype.getSubCategoryDefaultColorSet=function(){return this.m_subcategorydefaultcolorsetArray},SubCategoryColors.prototype.getSubCategoryColor=function(){return this.m_subcategoryColor},SubCategoryColors.prototype.setSubCategoryColor=function(t){this.m_subcategoryColor.push(t)},SubCategoryColors.prototype.getshowColorsFromSubCategoryName=function(){return this.m_showcolorsfromsubcategoryname},SubCategoryColors.prototype.setshowColorsFromSubCategoryName=function(t){this.m_showcolorsfromsubcategoryname=t},SubCategoryColors.prototype.getSubCategoryNameColorMapLength=function(){var t,e=0;for(t in this.subcateogryNameColorMap)e++;return e},SubCategoryColors.prototype.getSubCategoryColorsForSubCategoryNames=function(t,e){var i=[],o=this.getSubCategoryNameColorMapLength(),a=this.getSubCategoryDefaultColorSet().length;if(this.getSubCategoryDefaultColorSet().length<t.length)for(var r=a,s=0;r<t.length;r++,s++)this.getSubCategoryDefaultColorSet()[r]=0!=a?this.getSubCategoryDefaultColorSet()[s]:e[0];for(var r=0,n=0;r<t.length;r++){var h=!1;if(0<o)for(var l in this.subcateogryNameColorMap)t[r].trim()==l.trim()&&(i[r]=convertColorToHex(this.subcateogryNameColorMap[l]),h=!0);IsBoolean(h)||(i[r]=convertColorToHex(this.getSubCategoryDefaultColorSet()[n]),n++)}return i},ConditionalColor.prototype.getSeriesName=function(){return this.m_seriesname},ConditionalColor.prototype.getColor=function(){return this.m_color},ConditionalColor.prototype.getOperator=function(){return this.m_operator},ConditionalColor.prototype.getCompareTo=function(){return this.m_compareto},ConditionalColor.prototype.getComparedField=function(){return this.m_comparedfield},ConditionalColors.prototype.getScatterPlotConditionalColorsForConditions=function(t,e,i,o,a){this.m_chart=a;for(var r=e,s=this.getConditionalColor(),n=0;n<s.length;n++)r=this.getColorFromConditionForScatterPlot(t,i,r,s[n],o);return r},ConditionalColors.prototype.getBubbleConditionalColorsForConditions=function(t,e,i,o){this.m_chart=o;for(var a=e,r=this.getConditionalColor(),s=0;s<r.length;s++)a=this.getColorFromCondition(t,i,a,r[s]);return a},ConditionalColors.prototype.getColorFromConditionForScatterPlot=function(Series,SeriesData,seriesColors,conditionalColor,otherField){var index,indexcmpto,comparedfield,compareToField,plotSeries=Series,key;for(key in otherField)Series.indexOf(otherField[key])<0&&otherField.hasOwnProperty(key)&&Series.push(otherField[key]);for(var i=0;i<Series.length;i++)conditionalColor.m_seriesname==Series[i]&&(otherField[Series[i]]==("object"==typeof conditionalColor.m_otherfield)?conditionalColor.m_otherfield.key:conditionalColor.m_otherfield)&&(index=i,comparedfield=null!=conditionalColor.m_comparedfield?conditionalColor.m_comparedfield:conditionalColor.m_seriesname),this.m_chart.m_dataProvider[0].hasOwnProperty(conditionalColor.m_compareto)&&(indexcmpto=i,conditionalColor.m_compToFlag=!0,compareToField=conditionalColor.m_compareto);for(var M_SeriesName=[],M_SeriesName1=[],operator=(null!=index&&(M_SeriesName=getCommaSeparateSeriesData(this.m_chart.getDataFromJSON(comparedfield))),null!=indexcmpto&&IsBoolean(conditionalColor.m_compToFlag)&&(M_SeriesName1=getCommaSeparateSeriesData(this.m_chart.getDataFromJSON(compareToField))),"="==conditionalColor.m_operator?"==":""+conditionalColor.m_operator),result=!1,j=0;j<M_SeriesName.length;j++){if(IsBoolean(conditionalColor.m_compToFlag))var compareTo=M_SeriesName1[j];else if(isNaN(conditionalColor.m_compareto))switch(conditionalColor.m_compareto.toLowerCase()){case"max":compareTo=this.getMaximumSeriesValue(SeriesData,index);break;case"min":compareTo=this.getMinimumSeriesValue(SeriesData,index);break;default:compareTo=""+conditionalColor.m_compareto}else compareTo=conditionalColor.m_compareto;var compareTo=""==compareTo?null:compareTo,seriesname=""==M_SeriesName1[j]?null:M_SeriesName[j],values,result;try{"=="!=operator&&"!="!=operator||!IsBoolean(isNaN(seriesname))?"between"==operator?(values=(""+compareTo).split("~"),result=seriesname>=+values[0]&&seriesname<=+values[1]):eval("result  = "+seriesname+operator+compareTo):eval("result  = '"+seriesname+"'"+operator+"'"+compareTo+"'")}catch(e){result=!1}IsBoolean(result)&&(seriesColors[index][j]=convertColorToHex(conditionalColor.m_color))}return seriesColors},ConditionalColors.prototype.getConditionalColorsForConditions=function(t,e,i,o){this.m_chart=o;for(var a=[],r=0;r<i.length;r++){a[r]=[];for(var s=0;s<i[r].length;s++)a[r][s]=e[r]}for(var n=this.getConditionalColor(),h=0;h<n.length;h++)a=this.getColorFromCondition(t,i,a,n[h]);return a},ConditionalColors.prototype.getConditionalColorsForConditionsForMixedTime=function(t,e,i,o){this.m_chart=o;for(var a={},r=0;r<i.length;r++){a[t[r]]=[];for(var s=0;s<i[r].length;s++)a[t[r]][s]=e[t[r]]}for(var n=this.getConditionalColor(),h=0;h<n.length;h++)a=this.getColorFromConditionForMixedTime(t,i,a,n[h]);return a},ConditionalColors.prototype.getColorFromConditionForMixedTime=function(Series,SeriesData,seriesColors,conditionalColor){for(var index,indexcmpto,comparedfield,compareToField,i=0;i<Series.length;i++)conditionalColor.m_seriesname==Series[i]&&(index=i,comparedfield=null!=conditionalColor.m_comparedfield?conditionalColor.m_comparedfield:conditionalColor.m_seriesname),this.m_chart.m_dataProvider[0].hasOwnProperty(conditionalColor.m_compareto)&&(indexcmpto=i,conditionalColor.m_compToFlag=!0,compareToField=conditionalColor.m_compareto);for(var M_SeriesName=[],M_SeriesName1=[],operator=(null!=index&&(M_SeriesName=getCommaSeparateSeriesData(this.m_chart.getDataFromJSON(comparedfield)),IsBoolean(this.m_chart.m_sorteddate))&&(M_SeriesName=getCommaSeparateSeriesData(this.m_chart.m_seriesdatamap[comparedfield])),null!=indexcmpto&&IsBoolean(conditionalColor.m_compToFlag)&&(M_SeriesName1=getCommaSeparateSeriesData(this.m_chart.getDataFromJSON(compareToField)),IsBoolean(this.m_chart.m_sorteddate))&&(M_SeriesName1=getCommaSeparateSeriesData(this.m_chart.m_seriesdatamap[compareToField])),"="==conditionalColor.m_operator?"==":""+conditionalColor.m_operator),result=!1,j=0;j<M_SeriesName.length;j++){if(IsBoolean(conditionalColor.m_compToFlag))var compareTo=M_SeriesName1[j];else if(isNaN(conditionalColor.m_compareto))switch(conditionalColor.m_compareto.toLowerCase()){case"max":compareTo=this.getMaximumSeriesValue(SeriesData,index);break;case"min":compareTo=this.getMinimumSeriesValue(SeriesData,index);break;default:compareTo=""+conditionalColor.m_compareto}else compareTo=conditionalColor.m_compareto;var compareTo=""==compareTo?null:compareTo,seriesname=""==M_SeriesName1[j]?null:M_SeriesName[j],values,result;try{"=="!=operator&&"!="!=operator||!IsBoolean(isNaN(seriesname))?"between"==operator?(values=(""+compareTo).split("~"),result=seriesname>=+values[0]&&seriesname<=+values[1]):eval("result  = "+seriesname+operator+compareTo):eval("result  = '"+seriesname+"'"+operator+"'"+compareTo+"'")}catch(e){result=!1}IsBoolean(result)&&(seriesColors[Series[index]][j]=convertColorToHex(conditionalColor.m_color))}return seriesColors},ConditionalColors.prototype.getColorFromCondition=function(Series,SeriesData,seriesColors,conditionalColor){for(var index,indexcmpto,comparedfield,compareToField,i=0;i<Series.length;i++)conditionalColor.m_seriesname==Series[i]&&(index=i,comparedfield=null!=conditionalColor.m_comparedfield?conditionalColor.m_comparedfield:conditionalColor.m_seriesname),this.m_chart.m_dataProvider[0].hasOwnProperty(conditionalColor.m_compareto)&&(indexcmpto=i,conditionalColor.m_compToFlag=!0,compareToField=conditionalColor.m_compareto);for(var M_SeriesName=[],M_SeriesName1=[],operator=(null!=index&&(M_SeriesName=getCommaSeparateSeriesData(this.m_chart.getDataFromJSON(comparedfield))),null!=indexcmpto&&IsBoolean(conditionalColor.m_compToFlag)&&(M_SeriesName1=getCommaSeparateSeriesData(this.m_chart.getDataFromJSON(compareToField))),"="==conditionalColor.m_operator?"==":""+conditionalColor.m_operator),result=!1,j=0;j<M_SeriesName.length;j++){if(IsBoolean(conditionalColor.m_compToFlag))var compareTo=M_SeriesName1[j];else if(isNaN(conditionalColor.m_compareto))switch(conditionalColor.m_compareto.toLowerCase()){case"max":compareTo=this.getMaximumSeriesValue(SeriesData,index);break;case"min":compareTo=this.getMinimumSeriesValue(SeriesData,index);break;default:compareTo=""+conditionalColor.m_compareto}else compareTo=conditionalColor.m_compareto;var compareTo=""==compareTo?null:compareTo,seriesname=""==M_SeriesName1[j]?null:M_SeriesName[j],values,result;try{"=="!=operator&&"!="!=operator||!IsBoolean(isNaN(seriesname))?"between"==operator?(values=(""+compareTo).split("~"),result=seriesname>=+values[0]&&seriesname<=+values[1]):eval("result  = "+seriesname+operator+compareTo):eval("result  = '"+seriesname+"'"+operator+"'"+compareTo+"'")}catch(e){result=!1}IsBoolean(result)&&(seriesColors[index][j]=convertColorToHex(conditionalColor.m_color))}return seriesColors},ConditionalColors.prototype.getMaximumSeriesValue=function(t,e){for(var i=t[e][0],o=0;o<t[e].length;o++)""!==t[e][o]&&+t[e][o]>=+i&&(i=t[e][o]);return i},ConditionalColors.prototype.getMinimumSeriesValue=function(t,e){for(var i=t[e][0],o=0;o<t[e].length;o++)""!==t[e][o]&&+t[e][o]<=+i&&(i=t[e][o]);return i},ConditionalColors.prototype.getCondicolor=function(t){return this.m_colorChangedConditional[t]},ConditionalColors.prototype.getConditionalColor=function(){return this.m_ConditionalColor},ConditionalColors.prototype.setConditionalColor=function(t){this.m_ConditionalColor.push(t)},Line.prototype.init=function(t,e,i,o,a,r,s,n,h){this.m_chart=r,this.ctx=this.m_chart.ctx,this.color=t,this.startXPosition=e,this.startYPosition=i,this.endXPosition=o,this.endYPosition=a,this.m_plotTrasparency=s,this.lineWidth=n,this.lineType=h},Line.prototype.drawLine=function(){switch(this.m_chart.getLineForm()){case"segment":this.drawSegmentLine();break;case"step":this.drawStepLine();break;case"reversestep":this.drawReverseStepLine();break;case"horizontal":this.drawHorizontalLine();break;case"vertical":this.drawVerticalLine();break;case"curve":this.drawCurveLine();break;default:this.drawSegmentLine()}},Line.prototype.drawHorizontalLine=function(){var t=this.getLineDashArray(this.lineWidth,this.lineType);this.ctx.beginPath(),this.ctx.save(),this.ctx.lineWidth=this.lineWidth,this.ctx.strokeStyle=hex2rgb(this.color,this.m_plotTrasparency),this.ctx.moveTo(this.startXPosition,this.startYPosition),this.ctx.lineTo(this.endXPosition,this.startYPosition),0<this.lineWidth&&(this.ctx.setLineDash(t),this.ctx.stroke()),this.ctx.restore(),this.ctx.closePath()},Line.prototype.drawVerticalLine=function(){var t=this.getLineDashArray(this.lineWidth,this.lineType);this.ctx.beginPath(),this.ctx.save(),this.ctx.lineWidth=this.lineWidth,this.ctx.strokeStyle=hex2rgb(this.color,this.m_plotTrasparency),this.ctx.moveTo(this.endXPosition,this.endYPosition),this.ctx.lineTo(this.endXPosition,this.startYPosition),0<this.lineWidth&&(this.ctx.setLineDash(t),this.ctx.stroke()),this.ctx.restore(),this.ctx.closePath()},Line.prototype.drawStepLine=function(){var t=this.getLineDashArray(this.lineWidth,this.lineType);this.ctx.beginPath(),this.ctx.save(),this.ctx.lineWidth=this.lineWidth,this.ctx.strokeStyle=hex2rgb(this.color,this.m_plotTrasparency),this.ctx.moveTo(this.startXPosition,this.startYPosition),this.ctx.lineTo(this.endXPosition,this.startYPosition),this.ctx.lineTo(this.endXPosition,this.endYPosition),0<this.lineWidth&&(this.ctx.setLineDash(t),this.ctx.stroke()),this.ctx.restore(),this.ctx.closePath()},Line.prototype.drawReverseStepLine=function(){var t=this.getLineDashArray(this.lineWidth,this.lineType);this.ctx.beginPath(),this.ctx.save(),this.ctx.lineWidth=this.lineWidth,this.ctx.strokeStyle=hex2rgb(this.color,this.m_plotTrasparency),this.ctx.moveTo(this.startXPosition,this.startYPosition),this.ctx.lineTo(this.startXPosition,this.endYPosition),this.ctx.lineTo(this.endXPosition,this.endYPosition),0<this.lineWidth&&(this.ctx.setLineDash(t),this.ctx.stroke()),this.ctx.restore(),this.ctx.closePath()},Line.prototype.drawSegmentLine=function(){var t=this.getLineDashArray(this.lineWidth,this.lineType);this.ctx.beginPath(),this.ctx.save(),this.ctx.lineWidth=this.lineWidth,this.ctx.strokeStyle=hex2rgb(this.color,this.m_plotTrasparency),this.ctx.moveTo(this.startXPosition,this.startYPosition),this.ctx.lineTo(this.endXPosition,this.endYPosition),0<this.lineWidth&&(this.ctx.setLineDash(t),this.ctx.stroke()),this.ctx.restore(),this.ctx.closePath()},Line.prototype.drawCurveLine=function(){var t=this.getLineDashArray(this.lineWidth,this.lineType);this.ctx.beginPath(),this.ctx.save(),this.ctx.lineWidth=this.lineWidth,this.ctx.strokeStyle=hex2rgb(this.color,this.m_plotTrasparency),this.ctx.moveTo(this.startXPosition,this.startYPosition),this.ctx.lineTo(this.endXPosition,this.endYPosition),0<this.lineWidth&&(this.ctx.setLineDash(t),this.ctx.stroke()),this.ctx.restore(),this.ctx.closePath()},Line.prototype.getLineDashArray=function(t,e){return"dot"===e?[+t,2*t+1,0,0]:"dash1"===e?[+t,+t,4*t,+t]:"dash"===e?[2*t+1,2*t+1,0,0]:[]},Point.prototype.init=function(t,e,i,o,a,r,s,n,h){this.ctx=a,this.color=t,this.radius=e,this.xPosition=i,this.yPosition=o,this.m_chart=r,this.m_plotTrasparency=s,this.m_plotType=n,this.m_plotradius=h},Point.prototype.drawPoint=function(){switch(this.m_plotType){case"cube":this.drawCube();break;case"cross":this.drawCross();break;case"quad":this.drawQuad();break;case"triangle":this.drawTriangle();break;case"point":this.drawPointShape();break;case"polygon":this.drawPolygon();break;case"star":this.drawStar();break;case"default":this.drawPointShape()}},Point.prototype.drawCube=function(){this.ctx.beginPath(),this.ctx.fillStyle=hex2rgb(this.color,this.m_plotTrasparency),this.ctx.strokeStyle=hex2rgb(this.color,this.m_plotTrasparency),this.ctx.rect(this.xPosition-this.m_plotradius,this.yPosition-this.m_plotradius,2*this.m_plotradius,2*this.m_plotradius),this.ctx.fill(),this.ctx.stroke(),this.ctx.closePath()},Point.prototype.drawCross=function(){this.ctx.beginPath(),this.ctx.lineWidth=2,this.ctx.strokeStyle=hex2rgb(this.color,this.m_plotTrasparency),this.ctx.moveTo(+this.xPosition-+this.m_plotradius,+this.yPosition-+this.m_plotradius),this.ctx.lineTo(+this.xPosition+ +this.m_plotradius,+this.yPosition+ +this.m_plotradius),this.ctx.moveTo(+this.xPosition+ +this.m_plotradius,+this.yPosition-+this.m_plotradius),this.ctx.lineTo(+this.xPosition-+this.m_plotradius,+this.yPosition+ +this.m_plotradius),this.ctx.stroke(),this.ctx.closePath()},Point.prototype.drawQuad=function(){this.ctx.beginPath(),this.ctx.fillStyle=hex2rgb(this.color,this.m_plotTrasparency),this.ctx.strokeStyle=hex2rgb(this.color,this.m_plotTrasparency),this.ctx.moveTo(+this.xPosition,+this.yPosition-+this.m_plotradius),this.ctx.lineTo(+this.xPosition+ +this.m_plotradius,+this.yPosition),this.ctx.lineTo(+this.xPosition,+this.yPosition+ +this.m_plotradius),this.ctx.lineTo(+this.xPosition-+this.m_plotradius,+this.yPosition),this.ctx.lineTo(+this.xPosition,+this.yPosition-+this.m_plotradius),this.ctx.fill(),this.ctx.stroke(),this.ctx.closePath()},Point.prototype.drawTriangle=function(){this.ctx.beginPath(),this.ctx.fillStyle=hex2rgb(this.color,this.m_plotTrasparency),this.ctx.strokeStyle=hex2rgb(this.color,this.m_plotTrasparency),this.ctx.moveTo(this.xPosition,+this.yPosition-+this.m_plotradius),this.ctx.lineTo(+this.xPosition+ +this.m_plotradius,+this.yPosition+ +this.m_plotradius),this.ctx.lineTo(+this.xPosition-+this.m_plotradius,+this.yPosition+ +this.m_plotradius),this.ctx.lineTo(+this.xPosition,+this.yPosition-+this.m_plotradius),this.ctx.fill(),this.ctx.stroke(),this.ctx.closePath()},Point.prototype.drawPointShape=function(){this.ctx.beginPath(),this.strokeMargin=2,this.ctx.fillStyle=hex2rgb(this.color,this.m_plotTrasparency),this.ctx.arc(+this.xPosition,+this.yPosition,+this.m_plotradius,0,2*Math.PI,!1),this.ctx.fill(),this.ctx.closePath(),this.ctx.beginPath(),this.ctx.strokeStyle=hex2rgb(this.color,this.m_plotTrasparency),this.ctx.arc(+this.xPosition,+this.yPosition,+this.m_plotradius,0,2*Math.PI,!1),this.ctx.lineTo(+this.xPosition,+this.yPosition),this.ctx.stroke(),this.ctx.closePath()},Point.prototype.drawPolygon=function(){this.ctx.fillStyle=hex2rgb(this.color,this.m_plotTrasparency),this.ctx.strokeStyle=hex2rgb(this.color,this.m_plotTrasparency);var t=this.ctx,e=this.xPosition,i=this.yPosition,o=this.m_plotradius,a=Math.PI/2,r=2*Math.PI/6;t.save(),t.beginPath(),t.translate(e,i),t.rotate(a),t.moveTo(o,0);for(var s=1;s<6;s++)t.lineTo(o*Math.cos(r*s),o*Math.sin(r*s));t.closePath(),t.restore(),this.ctx.fill(),this.ctx.stroke()},Point.prototype.drawStar=function(){this.ctx.fillStyle=hex2rgb(this.color,this.m_plotTrasparency),this.ctx.strokeStyle=hex2rgb(this.color,this.m_plotTrasparency);var t,e,i=this.ctx,o=this.xPosition,a=this.yPosition,r=this.m_plotradius,s=this.m_plotradius/2,n=Math.PI/2*3,h=Math.PI/5;i.beginPath(),i.moveTo(o,a-s);for(var l=0;l<5;l++)t=+o+Math.cos(n)*s,e=+a+Math.sin(n)*s,i.lineTo(t,e),n=+n+h,t=+o+Math.cos(n)*r,e=+a+Math.sin(n)*r,i.lineTo(t,e),n=+n+h;i.lineTo(o,a-s),i.closePath(),this.ctx.fill(),this.ctx.stroke()},Chart.prototype.getDataLabelProperties=function(){return{showDataLabel:"false",useFieldColor:"false",dataLabelTextAlign:"center",dataLabelFontColor:"#000000",dataLabelRotation:"0",dataLabelFontSize:"12",datalabelFontStyle:"normal",datalabelFontWeight:"normal",datalabelFontFamily:"Roboto",datalabelField:"",datalabelPosition:"Top",dataLabelUseComponentFormater:"true",datalabelFormaterUnit:"none",datalabelFormaterPrecision:"default",datalabelFormaterCurrency:"none",datalabelFormaterPosition:"suffix"}},ValueTextSeries.prototype.init=function(t,e,i,o,a,r,s,n,h){this.m_chart=i,this.ctx=this.m_chart.ctx,this.xPositionArray=t,this.yPositionArray=e,this.ySeriesData=o,this.datalabelProperties=a,this.m_ySeriesActualData=r,this.m_stackWidth=s,this.m_stackHeightArray=n,this.seriesChartType=h,null!=this.m_stackWidth&&"line"!=this.seriesChartType||(this.m_stackWidth=0,this.m_stackHeightArray=0);for(var l=0;l<this.xPositionArray.length;l++){this.valueText[l]=new ValueText;var c="bar_chart"!=this.m_chart.m_componenttype&&"column_stack_chart"!=this.m_chart.m_componenttype||"overlaid"!=this.m_chart.m_charttype.toLowerCase()?this.datalabelProperties:this.datalabelProperties[l];IsBoolean(c.showDataLabel)&&this.valueText[l].init(this.xPositionArray[l],this.yPositionArray[l],this.ctx,this.m_chart,this.ySeriesData[l],c,this.m_ySeriesActualData[l],this.m_stackWidth,this.m_stackHeightArray[l],this.seriesChartType)}},ValueTextSeries.prototype.drawValueTextSeries=function(){for(var t=0;t<this.xPositionArray.length;t++){var e=0!=this.m_stackHeightArray[t]||0==this.valueText[t].m_ySeriesActualData,i="bar_chart"!=this.m_chart.m_componenttype&&"column_stack_chart"!=this.m_chart.m_componenttype||"overlaid"!=this.m_chart.m_charttype.toLowerCase()||!!IsBoolean(this.valueText[t].datalabelProperties.showDataLabel);isNaN(this.valueText[t].m_ySeriesActualData)||""===this.valueText[t].m_ySeriesActualData||!e||!i||IsBoolean(this.valueText[t].datalabelProperties.hideDataLabel)&&this.valueText[t].m_ySeriesActualData.toString()===this.valueText[t].datalabelProperties.hideDataLabelText||this.valueText[t].drawValueText(t)}},ValueText.prototype.init=function(t,e,i,o,a,r,s,n,h,l,c){this.ctx=i,this.xPosition=t,this.yPosition=e,this.m_chart=o,this.m_ySeriesData=a,this.datalabelProperties=r,this.m_ySeriesActualData=s,this.m_stackWidth=n,this.m_stackHeight=h,this.seriesChartType=l,this.MaxValue=c},ValueText.prototype.drawValueText=function(t){this.m_chart;var e=10;try{void 0===this.m_chart.m_overlappeddatalabelarrayY[t]&&(this.m_chart.m_overlappeddatalabelarrayY[t]=[],this.m_chart.m_overlappeddatalabelarrayX[t]=[]),this.m_ySeriesData=this.getFormattedText(this.m_ySeriesData),this.ctx.save(),this.ctx.font=this.datalabelProperties.datalabelFontStyle+" "+this.datalabelProperties.datalabelFontWeight+" "+this.m_chart.fontScaling(this.datalabelProperties.dataLabelFontSize)+"px "+selectGlobalFont(this.datalabelProperties.datalabelFontFamily),this.ctx.fillStyle=this.datalabelProperties.dataLabelFontColor;var i,o,a,r,s,n,h,l,c,m,d,p,_=this.datalabelProperties.dataLabelFontColor,u=this.ctx.measureText(this.m_ySeriesData),g=this.datalabelProperties.datalabelPosition,f=this.m_stackHeight,b=+getNumericComparableValue(this.m_ySeriesData),x=+getNumericComparableValue(this.m_ySeriesActualData),y=0,v=0;if(f<0&&(f*=-1),g=u.width/2>=f?"Top":g,!IsBoolean(this.m_chart.m_basezero)&&x<0?(i=u.width/2*1+e,"mixed_chart"==this.m_chart.m_componenttype&&"column"==this.seriesChartType&&(this.yPosition=this.yPosition+this.m_stackHeight)):(e=-10,i=-u.width/2*1+e),"Bar"==this.m_chart.m_type||"GroupBar"==this.m_chart.m_type?(r="Top"==g?"0"!==this.datalabelProperties.dataLabelRotation?(o=!IsBoolean(this.m_chart.m_basezero)&&x<0?+this.xPosition+this.m_stackHeight-10:"rectangle"==this.m_chart.m_chartbase?+this.xPosition+this.m_stackHeight+10+this.m_stackWidth/4+10:+this.xPosition+this.m_stackHeight+10,this.datalabelProperties.dataLabelTextAlign):(o=this.setAlignDataLabelBarChart(u,x,f),"center"):"Middle"==g?(o=+this.xPosition+this.m_stackHeight/2,!IsBoolean(this.m_chart.m_basezero)&&x<0?"right"==this.datalabelProperties.dataLabelTextAlign?"left":"left"==this.datalabelProperties.dataLabelTextAlign?"right":"center":this.datalabelProperties.dataLabelTextAlign):"0"!==this.datalabelProperties.dataLabelRotation?(o=!IsBoolean(this.m_chart.m_basezero)&&x<0?+this.xPosition-10:+this.xPosition+10,this.datalabelProperties.dataLabelTextAlign):!IsBoolean(this.m_chart.m_basezero)&&x<0?(o=+this.xPosition-10-u.width,"right"==this.datalabelProperties.dataLabelTextAlign?"left":"left"==this.datalabelProperties.dataLabelTextAlign?"right":"center"):(o=+this.xPosition+10+u.width,this.datalabelProperties.dataLabelTextAlign),a=+this.yPosition+this.m_stackWidth/2):("column"!=this.seriesChartType||"Top"===g&&null!=g?"column"!==this.seriesChartType&&(e=!IsBoolean(this.m_chart.m_basezero)&&x<0?"Top"==g?10:"Middle"==g?0:-10:"Top"==g?-10:"Middle"==g?0:10):this.setPositionDataLabel(f),r="-90"!=this.datalabelProperties.dataLabelRotation&&"90"!=this.datalabelProperties.dataLabelRotation||"left"!=this.datalabelProperties.dataLabelTextAlign?"-90"!=this.datalabelProperties.dataLabelRotation&&"90"!=this.datalabelProperties.dataLabelRotation||"right"!=this.datalabelProperties.dataLabelTextAlign?("-90"!=this.datalabelProperties.dataLabelRotation&&"90"!=this.datalabelProperties.dataLabelRotation||"center"!=this.datalabelProperties.dataLabelTextAlign?(a="column"==this.seriesChartType&&"Top"==g&&"rectangle"==this.m_chart.m_chartbase?+this.yPosition+e-this.m_stackWidth/4:+this.yPosition+e,o=+this.xPosition+this.m_stackWidth/2):(o=+this.xPosition+this.m_stackWidth/2,a=28<=u.width?"rectangle"==this.m_chart.m_chartbase?+this.yPosition+i-this.m_stackWidth/4:+this.yPosition+i:"rectangle"==this.m_chart.m_chartbase?+this.yPosition+2*e-this.m_stackWidth/4:+this.yPosition+2*e),this.datalabelProperties.dataLabelTextAlign):(o=+this.xPosition+this.m_stackWidth/2-10,a="rectangle"==this.m_chart.m_chartbase?+this.yPosition+i-this.m_stackWidth/4:+this.yPosition+i,"center"):(o=+this.xPosition+this.m_stackWidth/2+10,a="rectangle"==this.m_chart.m_chartbase?+this.yPosition+i-this.m_stackWidth/4:+this.yPosition+i,"center")),!IsBoolean(this.m_chart.m_basezero)&&this.m_ySeriesActualData<0?(n=o-this.m_chart.m_startX,o="Bar"==this.m_chart.m_type||"GroupBar"==this.m_chart.m_type?o<=this.m_chart.m_startX?"0"!==this.datalabelProperties.dataLabelRotation?this.m_chart.m_startX+20:this.m_chart.m_startX+u.width/2+5:(s="left"===this.datalabelProperties.dataLabelTextAlign?u.width:u.width/2,"0"!==this.datalabelProperties.dataLabelRotation&&n<=5?o+20:"0"==this.datalabelProperties.dataLabelRotation&&n<=s&&"0"==this.datalabelProperties.dataLabelRotation&&this.m_stackHeight<=s?o+u.width/2+5:o):"0"!==this.datalabelProperties.dataLabelRotation&&n<u.width/2?o+u.width/2+10:"0"==this.datalabelProperties.dataLabelRotation&&n<=5?o+20:o):(n=this.m_chart.m_endX-o,"Bar"==this.m_chart.m_type||"GroupBar"==this.m_chart.m_type?o>=this.m_chart.m_endX?(_=this.datalabelProperties.dataLabelDefaultFontColor,o="0"!==this.datalabelProperties.dataLabelRotation?this.m_chart.m_endX-20:+this.xPosition+this.m_stackHeight-5):(s="right"===this.datalabelProperties.dataLabelTextAlign?u.width:u.width/2,o="0"!==this.datalabelProperties.dataLabelRotation&&n<=5?o-20:"0"==this.datalabelProperties.dataLabelRotation&&n<=s&&"0"==this.datalabelProperties.dataLabelRotation&&this.m_stackHeight<=s?o-u.width/2-5:o,"0"===this.datalabelProperties.dataLabelRotation&&n<=s||"Top"==g&&(r="right")):o="0"!==this.datalabelProperties.dataLabelRotation&&n<u.width/2?o-u.width/2-10:"0"==this.datalabelProperties.dataLabelRotation&&n<=5?o-20:o),(n<=5||n<=s)&&(r="right"),"Bar"!==this.m_chart.m_type&&"GroupBar"!==this.m_chart.m_type?!IsBoolean(this.m_chart.m_basezero)&&this.m_ySeriesActualData<0?(n=this.m_chart.m_startY-a,y=-(u.width/2+10),v=-20,a=a>=this.m_chart.m_startY?"0"!==this.datalabelProperties.dataLabelRotation?this.m_chart.m_startY+y:this.m_chart.m_startY+v:"0"!==this.datalabelProperties.dataLabelRotation&&n<u.width/2?a+y:"0"==this.datalabelProperties.dataLabelRotation&&n<=5?a+v:a):(n=a-this.m_chart.m_endY,y=u.width/2+10,v=20,a<=this.m_chart.m_endY?(a="0"!==this.datalabelProperties.dataLabelRotation?this.m_chart.m_endY+y:this.m_chart.m_endY+v,this.ctx.fillStyle=this.datalabelProperties.dataLabelDefaultFontColor):a="0"!==this.datalabelProperties.dataLabelRotation&&n<u.width/2?a+y:"0"==this.datalabelProperties.dataLabelRotation&&n<=5?a+v:a):(n=this.m_chart.m_startY-a-u.width/2,"0"!==this.datalabelProperties.dataLabelRotation&&n<u.width/2&&(a+=this.m_stackWidth/2,r="right")),n<=5&&(this.ctx.fillStyle=this.datalabelProperties.dataLabelDefaultFontColor),this.ctx.translate(o,a),this.ctx.rotate(this.datalabelProperties.dataLabelRotation*Math.PI/180),this.ctx.textAlign=r,this.ctx.translate(-o,-a),(IsBoolean(this.m_chart.m_basezero)&&(b<0||x<0)||!IsBoolean(this.m_chart.m_autoaxissetup)&&void 0===f&&(x<this.m_chart.min||x>this.m_chart.m_maximumaxisvalue))&&(this.m_ySeriesData=""),!IsBoolean(this.m_chart.m_basezero)&&b<0&&!IsBoolean(this.m_chart.m_autoaxissetup)&&0==this.m_chart.m_minimumaxisvalue&&(this.m_ySeriesData=""),("Area"==this.m_chart.m_type||"Line"===this.m_chart.m_type||"Mixed"===this.m_chart.m_type||"Bubble"===this.m_chart.m_type||"Column"===this.m_chart.m_type||"GroupBar"===this.m_chart.m_type)&&(this.m_chart.m_overlappeddatalabelarrayY[t].push(a),this.m_chart.m_overlappeddatalabelarrayX[t].push(o),1<this.m_chart.m_overlappeddatalabelarrayY[t].length))for(var C=this.m_chart.m_overlappeddatalabelarrayY[t].length-1,w=0;w<C;w++){var T=this.precisionRound(this.m_chart.m_overlappeddatalabelarrayX[t][w],4),S=this.precisionRound(this.m_chart.m_overlappeddatalabelarrayY[t][w],4),A=this.precisionRound(o,4),D=this.precisionRound(a,4);if(T===A&&S===D){this.m_ySeriesData="";break}T===A&&S-15<D&&D<S+15&&(a=D-(this.m_chart.fontScaling(this.datalabelProperties.dataLabelFontSize)+5),a=!IsBoolean(this.m_chart.m_basezero)&&this.m_ySeriesActualData<0?"0"!==this.datalabelProperties.dataLabelRotation&&n<u.width/2?D+y+this.m_chart.fontScaling(this.datalabelProperties.dataLabelFontSize)+5:"0"==this.datalabelProperties.dataLabelRotation&&n<=5?a-v-this.m_chart.fontScaling(this.datalabelProperties.dataLabelFontSize)-5:a:"0"!==this.datalabelProperties.dataLabelRotation&&n<u.width/2?D+y-this.m_chart.fontScaling(this.datalabelProperties.dataLabelFontSize)-5:"0"==this.datalabelProperties.dataLabelRotation&&n<=5?a+v+this.m_chart.fontScaling(this.datalabelProperties.dataLabelFontSize)+5:a,this.m_chart.m_overlappeddatalabelarrayY[t][C]=a)}"0"===this.datalabelProperties.dataLabelRotation?o=this.textXpositionCalculation(o,u,r):a=this.textYpositionCalculation(a,u,r),"Bar"!=this.m_chart.m_type&&"GroupBar"!=this.m_chart.m_type||"clustered"===this.m_chart.m_charttype||this.m_stackHeight<=u.width&&1<this.m_chart.countVisibleSeries()&&(this.m_ySeriesData=""),"Bar"!=this.m_chart.m_type&&"GroupBar"!=this.m_chart.m_type||this.m_stackHeight<=u.width&&(r="left"),"Bar"==this.m_chart.m_type||"Plot"==this.m_chart.m_type||"GroupBar"==this.m_chart.m_type?(h=drawSVGText(o,a,this.m_ySeriesData,_,r,"middle",this.datalabelProperties.dataLabelRotation),l=$("#draggableDiv"+this.m_chart.m_objectId+" .datalabelgrp"+this.m_chart.m_referenceid).last()[0].getAttribute("data-fieldIndex"),$("#datalabelgrp"+l+this.m_chart.m_objectid).append(h),IsBoolean(this.datalabelProperties.datalabelBackgroundRect)&&(this.m_chart.m_datalablebackgroundrect=!!IsBoolean(this.datalabelProperties.datalabelBackgroundRect)||this.m_chart.m_datalablebackgroundrect,c=document.createElementNS(NS,"rect"),d=(m=h.getBBox()).width,p=m.height,c.setAttribute("fill",this.datalabelProperties.datalabelBackgroundRectColor),c.setAttribute("stroke",this.datalabelProperties.datalabelStrokeColor),c.setAttribute("x",m.x-d/4),c.setAttribute("y",m.y-p/8),c.setAttribute("rx","2"),c.setAttribute("ry","2"),c.setAttribute("width",3*d/2),c.setAttribute("height",5*p/4),""!==this.datalabelProperties.dataLabelRotation&&void 0!==this.datalabelProperties.dataLabelRotation&&0!==this.datalabelProperties.dataLabelRotation&&c.setAttribute("transform","rotate("+this.datalabelProperties.dataLabelRotation+" "+o+","+a+")"),$("#datalabelgrp"+l+this.m_chart.m_objectid).append(c),$("#datalabelgrp"+l+this.m_chart.m_objectid).append(h))):("null"==this.m_ySeriesData&&(this.m_ySeriesData=""),this.ctx.fillText(this.m_ySeriesData,o,a),this.ctx.restore())}catch(t){}},ValueText.prototype.precisionRound=function(t,e){e=Math.pow(10,e);return Math.round(t*e)/e},ValueText.prototype.setPositionDataLabel=function(t){"Middle"==this.datalabelProperties.datalabelPosition?!IsBoolean(this.m_chart.m_basezero)&&this.m_ySeriesActualData<0?this.yPosition=+this.yPosition-t/2-20:this.yPosition=+this.yPosition+t/2+12:!IsBoolean(this.m_chart.m_basezero)&&this.m_ySeriesActualData<0?this.yPosition=this.yPosition=this.yPosition-this.m_stackHeight:this.yPosition=this.yPosition=this.yPosition+this.m_stackHeight},ValueText.prototype.setAlignDataLabelBarChart=function(t,e,i){return"chevron"==this.m_chart.m_chartbase&&(31<this.m_stackWidth||15<this.m_stackWidth)&&(this.xPosition=this.xPosition+t.width/2),tx="right"==this.datalabelProperties.dataLabelTextAlign?!IsBoolean(this.m_chart.m_basezero)&&e<0?(this.m_chart.m_allSeriesNames.length,t.width/2>=i?+this.xPosition+this.m_stackHeight-5-t.width/4:+this.xPosition+this.m_stackHeight-t.width/4):(this.m_chart.m_allSeriesNames.length,t.width/2>=i?+this.xPosition+this.m_stackHeight+5+t.width/4:+this.xPosition+this.m_stackHeight-5):"center"==this.datalabelProperties.dataLabelTextAlign?!IsBoolean(this.m_chart.m_basezero)&&e<0?(this.m_chart.m_allSeriesNames.length,t.width/2>=i?+this.xPosition+this.m_stackHeight-5-t.width/2:this.xPosition+this.m_stackHeight-t.width/2):(this.m_chart.m_allSeriesNames.length,t.width/2>=i?+this.xPosition+this.m_stackHeight+10+t.width/2:this.xPosition+this.m_stackHeight+t.width/2):!IsBoolean(this.m_chart.m_basezero)&&e<0?+this.xPosition+this.m_stackHeight+5-t.width:"rectangle"==this.m_chart.m_chartbase?+this.xPosition+this.m_stackHeight+5+t.width+this.m_stackWidth/4+10:+this.xPosition+this.m_stackHeight+5+t.width},ValueText.prototype.textXpositionCalculation=function(t,e,i){i="center"==i?e.width/2:"left"==i?e.width:0;return this.m_chart.m_endX-this.m_chart.m_startX-5<e.width?(this.m_ySeriesData="",t):t-i<this.m_chart.m_startX?t+Math.abs(i-(t-this.m_chart.m_startX))+5:t+i>this.m_chart.m_endX?t-Math.abs(i-(this.m_chart.m_endX-t))-5:t},ValueText.prototype.textYpositionCalculation=function(t,e,i){var o="center"==i?e.width/2:e.width;return this.m_chart.m_startY-this.m_chart.m_endY-5<e.width&&"Column"!==this.m_chart.m_type?(this.m_ySeriesData="",t):"left"!==i&&t-o<this.m_chart.m_endY&&"Column"!==this.m_chart.m_type?t+Math.abs(o-(t-this.m_chart.m_endY)):"right"!==i&&t+o>this.m_chart.m_startY&&"Column"!==this.m_chart.m_type?t-Math.abs(o-(this.m_chart.m_startY-t)):t},ValueText.prototype.getFormattedText=function(t){var e,i,o,a,r,s,n;return isNaN(getNumericComparableValue(t))?t:((""+t).indexOf(","),e=""!=this.datalabelProperties.datalabelFormaterPosition?this.datalabelProperties.datalabelFormaterPosition:"suffix",i=this.datalabelProperties.datalabelFormaterPrecision,s=this.datalabelProperties.datalabelFormaterCurrency,a=this.datalabelProperties.datalabelFormaterUnit,n="default"===i?+getNumericComparableValue(t):(+getNumericComparableValue(t)).toFixed(i),""!=s?(o=this.m_chart.m_util.getFormatterSymbol("Currency",s),"auto"==(a=this.m_chart.m_util.getFormatterSymbol("Number",a))?(r=getNumberFormattedSymbol(+(t=getNumericComparableValue(t)),s),s=getNumberFormattedNumericValue(+t,i,s),s=this.m_chart.m_util.updateTextWithFormatter(s,"",i),n=this.m_chart.m_util.addFormatter(s,r,"suffix")):(n=this.m_chart.m_util.updateTextWithFormatter(n,a,i),"none"!=a&&""!=a&&(n=this.m_chart.m_util.addFormatter(n,a,"suffix"))),"NaN"==n||""===n?"":this.m_chart.m_util.addFormatter(getFormattedNumberWithCommas(n,this.m_chart.m_numberformatter),o,e)):"NaN"==n?t:n)},SVGValueTextSeries.prototype.init=function(t,e,i,o,a,r,s,n,h,l){this.m_chart=i,this.ctx=this.m_chart.ctx,this.xPositionArray=t,this.yPositionArray=e,this.m_ySeriesData=o,this.datalabelProperties=a,this.m_ySeriesActualData=r,this.valueText=[],this.m_stackWidth=s,this.MaxValue=l,this.m_stackHeightArray=n,null==this.m_stackHeightArray&&(this.m_stackWidth=0,this.m_stackHeightArray=0),this.seriesChartType=h;for(var c=0,m=this.xPositionArray.length;c<m;c++)this.valueText[c]=new SVGValueText,this.valueText[c].init(this.xPositionArray[c],this.yPositionArray[c],this.ctx,this.m_chart,this.m_ySeriesData[c],this.datalabelProperties,this.m_ySeriesActualData[c],this.m_stackWidth,this.m_stackHeightArray[c],this.seriesChartType,this.MaxValue)},SVGValueText.prototype=new ValueText,SVGValueText.prototype.drawValueText=function(t){var e,i,o,a=10,r=0,s=0,n=+getNumericComparableValue(this.m_ySeriesData),h=getNumericComparableValue(this.m_ySeriesActualData),l=(this.m_ySeriesData=this.getFormattedText(this.m_ySeriesData),this.m_ySeriesData),c=(this.m_stackWidth="clustered"==this.m_chart.m_columntype?this.m_stackWidth*this.m_chart.clusteredbarpadding:this.m_stackWidth,this.ctx.font=this.datalabelProperties.datalabelFontStyle+" "+this.datalabelProperties.datalabelFontWeight+" "+this.m_chart.fontScaling(this.datalabelProperties.dataLabelFontSize)+"px "+selectGlobalFont(this.datalabelProperties.datalabelFontFamily),this.ctx.measureText(l)),l=this.datalabelProperties.datalabelPosition,l=c.width/2>=this.m_stackHeight?"Top":l,l=(void 0===this.m_chart.m_overlappeddatalabelarrayY[t]&&(this.m_chart.m_overlappeddatalabelarrayY[t]=[],this.m_chart.m_overlappeddatalabelarrayX[t]=[]),IsBoolean(this.m_chart.m_basezero)&&IsBoolean(this.m_chart.m_secondaxisbasezero)||!(+h<0)?x=-c.width/2*1+(a=-10):(x=c.width/2*1+a,a=10,"column"==this.seriesChartType&&("Top"==l&&this.yPosition<this.m_chart.getEndY()?(this.m_stackHeight=this.m_stackHeight-(this.m_chart.getEndY()-this.yPosition),this.yPosition=this.m_chart.getEndY()+this.m_stackHeight):this.yPosition=0<=this.m_stackHeight?this.yPosition+this.m_stackHeight:this.yPosition-this.m_stackHeight)),"column"==this.seriesChartType&&"Top"!==l?this.setPositionDataLabel():"column"!==this.seriesChartType&&(a=IsBoolean(this.m_chart.m_basezero)&&IsBoolean(this.m_chart.m_secondaxisbasezero)||!(h<0)?"Top"==l?-10:"Middle"==l?0:10:"Top"==l?10:"Middle"==l?0:-10),this.datalabelProperties.dataLabelFontColor);if(a="-90"!=this.datalabelProperties.dataLabelRotation&&"90"!=this.datalabelProperties.dataLabelRotation||"left"!=this.datalabelProperties.dataLabelTextAlign?"-90"!=this.datalabelProperties.dataLabelRotation&&"90"!=this.datalabelProperties.dataLabelRotation||"right"!=this.datalabelProperties.dataLabelTextAlign?(i="-90"!=this.datalabelProperties.dataLabelRotation&&"90"!=this.datalabelProperties.dataLabelRotation||"center"!=this.datalabelProperties.dataLabelTextAlign?(e=+this.xPosition+this.m_stackWidth/2,+this.yPosition+a):(e=+this.xPosition+this.m_stackWidth/2.5,28<=c.width?+this.yPosition+x:+this.yPosition+2*a),this.datalabelProperties.dataLabelTextAlign):(e=+this.xPosition+this.m_stackWidth/2-this.m_stackWidth/5,i=+this.yPosition+x,"center"):(e=+this.xPosition+this.m_stackWidth/2+this.m_stackWidth/5,i=+this.yPosition+x,"center"),!IsBoolean(this.m_chart.m_basezero)&&+h<0?(x=(o=this.m_chart.m_startY-i)<-5?o-10:-20,r=-c.width/2+x,s=x,i=i>=this.m_chart.m_startY?"0"!==this.datalabelProperties.dataLabelRotation?this.m_chart.m_startY-c.width/2-this.datalabelProperties.dataLabelFontSize:this.m_chart.m_startY+s:"0"!==this.datalabelProperties.dataLabelRotation&&o<c.width/2?i+r:"0"==this.datalabelProperties.dataLabelRotation&&o<=5?i+s:i):(o=(i=i<1?-1*i:i)-this.m_chart.m_endY,r=c.width/2+10,s=20,i<=this.m_chart.m_endY?(i="0"!==this.datalabelProperties.dataLabelRotation?this.m_chart.m_endY+c.width/2+this.datalabelProperties.dataLabelFontSize:this.m_chart.m_endY+s,l=this.datalabelProperties.dataLabelDefaultFontColor):i="0"!==this.datalabelProperties.dataLabelRotation&&o<c.width/2?i+r:"0"==this.datalabelProperties.dataLabelRotation&&o<=5?i+s:i),IsBoolean(this.m_chart.m_basezero)&&(IsBoolean(this.m_chart.m_secondaxisbasezero)||0==this.m_chart.m_secondaxisbasezero)&&(n<0||h<0)&&(this.m_ySeriesData=""),!IsBoolean(this.m_chart.m_basezero)&&n<0&&!IsBoolean(this.m_chart.m_autoaxissetup)&&0==this.m_chart.m_minimumaxisvalue&&(this.m_ySeriesData=""),o<=5&&(l=this.datalabelProperties.dataLabelDefaultFontColor),this.m_chart.m_overlappeddatalabelarrayY[t].push(i),this.m_chart.m_overlappeddatalabelarrayX[t].push(e),1<this.m_chart.m_overlappeddatalabelarrayY[t].length)for(var m=this.m_chart.m_overlappeddatalabelarrayY[t].length-1,d=0;d<m;d++){var p=this.precisionRound(this.m_chart.m_overlappeddatalabelarrayX[t][d],4),_=this.precisionRound(this.m_chart.m_overlappeddatalabelarrayY[t][d],4),u=this.precisionRound(e,4),g=this.precisionRound(i,4),f="column"!=this.seriesChartType||"stacked"!==this.m_chart.m_columntype&&"100%"!==this.m_chart.m_columntype;if(p===u&&_===g&&f&&0==o){this.m_ySeriesData="";break}p===u&&_-15<g&&g<_+15&&(i=g-(this.m_chart.fontScaling(this.datalabelProperties.dataLabelFontSize)+5),i=IsBoolean(this.m_chart.m_basezero)&&IsBoolean(this.m_chart.m_secondaxisbasezero)||!(this.m_ySeriesActualData<0)?"0"!==this.datalabelProperties.dataLabelRotation&&o<c.width/2?g+r-this.m_chart.fontScaling(this.datalabelProperties.dataLabelFontSize)-5:"0"==this.datalabelProperties.dataLabelRotation&&o<=1?i+s+this.m_chart.fontScaling(this.datalabelProperties.dataLabelFontSize)+5:i:"0"!==this.datalabelProperties.dataLabelRotation&&o<c.width/2?g+r+this.m_chart.fontScaling(this.datalabelProperties.dataLabelFontSize)+5:"0"==this.datalabelProperties.dataLabelRotation&&o<=1?i-s-this.m_chart.fontScaling(this.datalabelProperties.dataLabelFontSize)-5:i,this.m_chart.m_overlappeddatalabelarrayY[t][m]=i)}var b,x=drawSVGText(e,i,this.m_ySeriesData,l,a,"middle",this.datalabelProperties.dataLabelRotation),h=$(".datalabelgrp"+this.m_chart.m_referenceid).last()[0].getAttribute("data-fieldIndex");$("#datalabelgrp"+h+this.m_chart.m_objectid).append(x),IsBoolean(this.datalabelProperties.datalabelBackgroundRect)&&(this.m_chart.m_datalablebackgroundrect=!!IsBoolean(this.datalabelProperties.datalabelBackgroundRect)||this.m_chart.m_datalablebackgroundrect,n=document.createElementNS(NS,"rect"),a=(l=x.getBBox()).width,b=l.height,n.setAttribute("fill",this.datalabelProperties.datalabelBackgroundRectColor),n.setAttribute("stroke",this.datalabelProperties.datalabelStrokeColor),n.setAttribute("x",l.x-a/4),n.setAttribute("y",l.y-b/8),n.setAttribute("rx","2"),n.setAttribute("ry","2"),n.setAttribute("width",3*a/2),n.setAttribute("height",5*b/4),""!==this.datalabelProperties.dataLabelRotation&&void 0!==this.datalabelProperties.dataLabelRotation&&0!==this.datalabelProperties.dataLabelRotation&&n.setAttribute("transform","rotate("+this.datalabelProperties.dataLabelRotation+" "+e+","+i+")"),$("#datalabelgrp"+h+this.m_chart.m_objectid).append(n),$("#datalabelgrp"+h+this.m_chart.m_objectid).append(x))},SVGValueText.prototype.precisionRound=function(t,e){e=Math.pow(10,e);return Math.round(t*e)/e},SVGValueText.prototype.setPositionDataLabel=function(){var t=!1;this.MaxValue<=0&&this.yPosition<0&&(this.m_stackHeight=this.m_stackHeight-(this.m_chart.getEndY()-this.yPosition),this.yPosition=this.m_chart.getEndY()+this.m_stackHeight,t=!0),"Middle"==this.datalabelProperties.datalabelPosition?IsBoolean(this.m_chart.m_basezero)&&IsBoolean(this.m_chart.m_secondaxisbasezero)||!(this.m_ySeriesActualData<0)?this.yPosition=this.m_stackHeight/2+ +this.yPosition+12:this.yPosition=t?+this.yPosition-this.m_stackHeight-this.m_stackHeight/2-20:+this.yPosition-this.m_stackHeight/2-20:IsBoolean(this.m_chart.m_basezero)&&IsBoolean(this.m_chart.m_secondaxisbasezero)||!(this.m_ySeriesActualData<0)?this.yPosition=this.yPosition+this.m_stackHeight:this.yPosition=t?this.m_chart.getEndY()-this.m_stackHeight:this.yPosition-this.m_stackHeight},SVGValueTextSeries.prototype.drawSVGValueTextSeries=function(){this.m_overlappeddatalabelarrayY=[],this.m_overlappeddatalabelarrayX=[];this.getVisibleDataLabel();for(var t=0,e=this.xPositionArray.length;t<e;t++){var i=void 0!==this.valueText[t].m_stackHeight&&this.valueText[t].yPosition<0||this.valueText[t].MaxValue<=0?this.valueText[t].yPosition+this.valueText[t].m_stackHeight:this.valueText[t].yPosition,i=i>this.m_chart.m_endY-1&&i<this.m_chart.m_startY+1;isNaN(this.valueText[t].m_ySeriesActualData)||""===this.valueText[t].m_ySeriesActualData||!i||IsBoolean(this.valueText[t].datalabelProperties.hideDataLabel)&&this.valueText[t].m_ySeriesActualData.toString()===this.valueText[t].datalabelProperties.hideDataLabelText||this.valueText[t].drawValueText(t)}},SVGValueTextSeries.prototype.getVisibleDataLabel=function(){var t,e=[];for(t in this.m_chart.m_seriesDataLabelProperty)IsBoolean(this.m_chart.m_seriesVisibleArr[t])&&IsBoolean(this.m_chart.m_seriesDataLabelProperty[t].showDataLabel)&&e.push(t);return e.length},Stack.prototype.init=function(t,e,i,o,a,r,s,n,h,l,c,m,d,p,_){this.ctx=n,this.m_chartbase=h,this.m_stackXPixel=t,this.m_stackYPixel=e,this.m_stackWidth=i,this.m_stackHeight=o,null!=this.m_stackColor&&(this.m_stackColor=a),this.m_strokeColor=r,this.m_showGradient=s,this.m_stackPercentage=l,this.m_showPercentageFlag=c,this.m_stackPercentValueFlag=m,this.m_stackPlotTrasparency=d,this.checkStroke=!(0==+this.m_stackPlotTrasparency),this.m_ySeriesData=p,this.m_chart=_},Stack.prototype.drawStack=function(){IsBoolean(isNaN(this.m_stackYPixel))&&(this.m_stackYPixel=0,this.m_stackHeight=0);var t=this.getFillColor();this.ctx.save(),this.ctx.beginPath(),this.ctx.fillStyle="cylinder"==this.m_chartbase||"plane"==this.m_chartbase||"rectangle"==this.m_chartbase?hex2rgb(t,this.m_stackPlotTrasparency):t,this.ctx.rect(this.m_stackXPixel,this.m_stackYPixel,this.m_stackWidth,this.m_stackHeight),this.ctx.strokeStyle="Histogram"==this.m_chart.m_type?this.m_chart.m_borderstrokecolor:ColorLuminance(this.m_stackColor,-.1),this.ctx.lineWidth="0.4",IsBoolean(this.checkStroke)&&0<+this.m_stackHeight&&this.ctx.stroke(),this.ctx.fill(),this.drawText(),this.ctx.restore(),this.ctx.closePath(),"cylinder"==this.m_chartbase&&this.makeCylinder(this.m_stackXPixel,this.m_stackYPixel,this.m_stackWidth,this.m_stackHeight,this.m_stackColor)},Stack.prototype.drawText=function(){try{IsBoolean(this.m_showPercentageFlag)&&(this.ctx.fillStyle="black",IsBoolean(this.m_stackPercentValueFlag)?this.ctx.fillText(parseInt(this.m_stackPercentage)+"%",+this.m_stackXPixel+2*this.m_stackWidth/3+5,+this.m_stackYPixel-10):this.ctx.fillText(parseInt(this.m_stackPercentage),+this.m_stackXPixel+2*this.m_stackWidth/3+5,+this.m_stackYPixel-10))}catch(t){}},Stack.prototype.shadow=function(){var t=this.createGradient();this.ctx.beginPath(),this.ctx.fillStyle=t,this.ctx.strokeStyle="#000000",this.ctx.save(),this.ctx.rect(this.m_stackXPixel,this.m_stackYPixel,this.m_stackWidth,this.m_stackHeight),this.ctx.shadowColor="#ccc",this.ctx.shadowBlur=5,this.ctx.shadowOffsetX=1,this.ctx.shadowOffsetY=0,this.ctx.fill(),this.ctx.restore()},Stack.prototype.getFillColor=function(){var t=this.m_stackColor;switch(this.m_chartbase){case"rectangle":this.makeCuboid(this.m_stackXPixel,this.m_stackYPixel,this.m_stackWidth,this.m_stackHeight,this.m_stackColor);break;case"gradient1":t=this.createGradient1(this.m_stackXPixel,this.m_stackYPixel,this.m_stackWidth,this.m_stackHeight,this.m_stackColor);break;case"gradient2":t=this.createGradient2(this.m_stackXPixel,this.m_stackYPixel,this.m_stackWidth,this.m_stackHeight,this.m_stackColor);break;case"gradient3":t=this.createGradient3(this.m_stackXPixel,this.m_stackYPixel,this.m_stackWidth,this.m_stackHeight,this.m_stackColor)}return t},Stack.prototype.createGradient1=function(t,e,i,o,a){t=this.ctx.createLinearGradient(t,e,+t+ +i,e),i=hex2rgb(a,this.m_stackPlotTrasparency);return t.addColorStop(.1,i),t.addColorStop(.5,ColorLuminance(a,.5)),t.addColorStop(1,i),t},Stack.prototype.createGradient2=function(t,e,i,o,a){t=this.ctx.createLinearGradient(t,e,+t+ +i,e),i=hex2rgb(a,this.m_stackPlotTrasparency);return t.addColorStop(0,i),t.addColorStop(.15,i),t.addColorStop(.5,ColorLuminance(a,-.15)),t.addColorStop(.85,i),t.addColorStop(1,i),t},Stack.prototype.createGradient3=function(t,e,i,o,a){t=this.ctx.createLinearGradient(t,e,+t+ +i,e),i=hex2rgb(a,this.m_stackPlotTrasparency);return t.addColorStop(.1,i),t.addColorStop(.15,i),t.addColorStop(.5,ColorLuminance(a,.3)),t.addColorStop(.85,i),t.addColorStop(1,i),t},Stack.prototype.makeCuboid=function(t,e,i,o,a){var r=0<o?i/4:0;this.ctx.beginPath(),this.ctx.moveTo(t,e-1),this.ctx.lineTo(t+r,e-r),this.ctx.lineTo(t+r+i,e-r),this.ctx.lineTo(t+r+i,e-r+o+1),this.ctx.lineTo(t+i,e+o+1),this.ctx.fillStyle=hex2rgb(a,this.m_stackPlotTrasparency),this.ctx.fill(),this.ctx.lineWidth="0.2",this.ctx.lineTo(t+i,e+o+1),this.ctx.lineTo(t+i,e+1),this.ctx.moveTo(t,e),this.ctx.lineTo(t+i,e),this.ctx.lineTo(t+i+1+r,e-r),this.ctx.strokeStyle=hex2rgb(a,this.m_stackPlotTrasparency),IsBoolean(this.checkStroke)&&this.ctx.stroke(),this.ctx.closePath()},Stack.prototype.makeCylinder=function(t,e,i,o,a){var r=hex2rgb(a,this.m_stackPlotTrasparency);this.ctx.beginPath(),this.ctx.strokeStyle="#fff",this.ctx.fillStyle=r,this.ctx.moveTo(t,e),this.ctx.bezierCurveTo(+t+i/3,+e+5,+t+2*i/3,+e+5,+t+ +i,e),this.ctx.stroke(),this.ctx.strokeStyle=hex2rgb(a,this.m_stackPlotTrasparency),this.ctx.moveTo(t,e),this.ctx.bezierCurveTo(+t+i/3,+e-5,+t+2*i/3,+e-5,+t+ +i,e),this.ctx.fill(),IsBoolean(this.checkStroke)&&this.ctx.stroke(),this.ctx.closePath()},Stack.prototype.hex2rgb=function(t,e){for(var i=t.replace("#","").match(/(.{2})/g),o=3;o--;)i[o]=parseInt(i[o],16);return void 0===e?"rgb("+i.join(", ")+")":"rgba("+i.join(", ")+", "+e+")"},DataGrid.prototype=new Widget,DataGrid.prototype.getStringARSC=function(t){return t&&t.toString().replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"_")},DataGrid.prototype.getBGAlpha=function(){return this.m_bgalpha},DataGrid.prototype.setBGAlpha=function(t){this.m_bgalpha=t},DataGrid.prototype.getBgGradients=function(){return this.m_bggradients},DataGrid.prototype.getShowExcelDownload=function(){return this.m_showexceldownload},DataGrid.prototype.getID=function(){return this.m_id},DataGrid.prototype.setID=function(t){this.m_id=t},DataGrid.prototype.getType=function(){return this.m_type},DataGrid.prototype.setType=function(t){this.m_type=t},DataGrid.prototype.getGridType=function(){return this.m_charttype},DataGrid.prototype.setGridType=function(t){this.m_gridtype=t},DataGrid.prototype.getCalculus=function(){return this.m_calculus},DataGrid.prototype.setCalculus=function(t){this.m_calculus=t},DataGrid.prototype.drawObject=function(){this.ctx.clearRect(this.m_x,this.m_y,this.m_width,this.m_height),this.m_chartFrame.init(this),this.m_title.init(this),this.m_chartFrame.drawFrame(),this.m_title.draw(),this.drawMessage(this.m_status.noDataset)},DataGrid.prototype.drawMessage=function(t){this.ctx.beginPath(),this.ctx.fillStyle=convertColorToHex(this.m_statuscolor),this.ctx.font=this.m_statusfontsize+"px "+selectGlobalFont(this.m_statusfontfamily),this.ctx.textAlign="left";var e=this.ctx.measureText(t).width,e=this.m_width-e;this.ctx.fillText(t,+this.m_x+e/2,+this.m_y+this.m_height/2),this.ctx.fill(),this.ctx.closePath()},DataGrid.prototype.initDataGridAlerts=function(){for(var t in this.getAlertObj())this.getAlertObj()[t]&&this.getAlertObj()[t].init(this)},DataGrid.prototype.getRowHeight=function(t){return this.fontScaling(null==t||""===t||"0"==t?25:t)},DataGrid.prototype.draw=function(){try{this.init(),this.drawChart(),""!=this.m_onafterrendercallback&&onAfterRender(this.m_onafterrendercallback),null!=this.plugin&&null!=this.plugin&&this.plugin.initPlugin(this)}catch(t){}},DataGrid.prototype.getType=function(){return this.m_objecttype},DataGrid.prototype.getShowExcelDownload=function(){return this.m_showexceldownload},DataGrid.prototype.getAlertObj=function(){return this.m_alertObj},DataGrid.prototype.getfieldsObj=function(){return this.m_fieldsObj},DataGrid.prototype.getAlertType=function(){return this.m_alerttype},DataGrid.prototype.getGlobalKey=function(){return this.m_globalkey},DataGrid.prototype.getCategoryNames=function(){return this.getDataSet().getFieldbyCategory()},DataGrid.prototype.getSeriesNames=function(){return this.getDataSet().getFieldbySeries()},DataGrid.prototype.getFieldNames=function(){return this.getDataSet().getFieldNames()},DataGrid.prototype.getXMLData=function(){var t=this.getDataSet().getDataSource();return this.m_dashboard.getXMLData(t)},DataGrid.prototype.getDataFromJSON=function(){for(var t=[],e=0;e<this.getDataProvider().length;e++)null==this.getDataProvider()[e]||"undefined"==this.getDataProvider()[e]?t[e]="":t[e]=this.getDataProvider()[e];return t},DataGrid.prototype.drawLegends=function(){this.drawChartLegends(),this.drawLegendComponent()},DataGrid.prototype.drawChartLegends=function(){},DataGrid.prototype.isSeriesDataAvailable=function(t){return!!IsBoolean(t.associatedChartObject.m_isrepeater)||0<t.associatedChartObject.m_seriesData.length},DataGrid.prototype.drawLegendComponent=function(){var t;IsBoolean(this.m_designMode)||(IsBoolean(this.m_legendFlag)||null==this.m_legendFlag?null!=(t=this.getLegendComponentObj())&&IsBoolean(this.isSeriesDataAvailable(t))?t.drawObject():null!=t&&$("#LegendContainerDiv"+t.m_objectid).remove():this.m_legendFlag=!0)},DataGrid.prototype.getLegendComponentObj=function(){if(null!=this.m_associatedlegendid&&""!=this.m_associatedlegendid&&IsBoolean(!this.m_designMode))for(var t=0;t<this.m_dashboard.m_widgetsArray.length;t++)if(this.m_associatedlegendid==this.m_dashboard.m_widgetsArray[t].m_objectid)return this.m_dashboard.m_widgetsArray[t]},DataGrid.prototype.isSeriesDataEmpty=function(){""==this.m_seriesData?this.m_isEmptySeries=!0:this.m_isEmptySeries=!1},DataGrid.prototype.isEmptyField=function(){0==this.m_fieldsJson?this.m_isEmptyField=!0:this.m_isEmptyField=!1},DataGrid.prototype.isVisibleField=function(){if(this.m_isVisibleField=!0,IsBoolean(this.m_fieldName))for(var t=0;t<this.m_fieldName.length;t++)if(IsBoolean(this.m_seriesVisibleArr[this.m_fieldName[t]])){this.m_isVisibleField=!1;break}},DataGrid.prototype.IsDrawingPossible=function(){return IsBoolean(this.m_isEmptyField)?{permission:"false",message:this.m_status.noFields}:IsBoolean(this.m_isVisibleField)?{permission:"false",message:this.m_status.noField}:IsBoolean(this.m_isEmptySeries)?{permission:"false",message:this.m_status.noData}:{permission:"true",message:this.m_status.success}},DataGrid.prototype.getShowTitle=function(){return this.m_showtitle},DataGrid.prototype.setSubTitle=function(t){this.m_subTitle=t},DataGrid.prototype.getSubTitle=function(){return this.m_subTitle},DataGrid.prototype.getGradientColor=function(){return this.m_gradientcolor},DataGrid.prototype.getShowGradient=function(){return this.m_showgradient},DataGrid.prototype.setDatagridStyles=function(t){this.m_datagridstyles=t},DataGrid.prototype.getDatagridStyles=function(){return this.m_datagridstyles},DataGrid.prototype.setAlerts=function(t){this.m_alerts.push(t)},DataGrid.prototype.getAlerts=function(){return this.m_alerts},DataGrid.prototype.setRowData=function(t){this.m_rowdata=t},DataGrid.prototype.getRowData=function(){return this.m_rowdata},DataGrid.prototype.setLinkBar=function(t){this.m_linkbar=t},DataGrid.prototype.getLinkBar=function(){return this.m_linkbar},DataGrid.prototype.setLinkButton=function(t){this.m_linkbutton=t},DataGrid.prototype.getLinkButton=function(){return this.m_linkbutton},DataGrid.prototype.setColumn=function(t){this.m_column=t},DataGrid.prototype.getColumn=function(){return this.m_column},DataGrid.prototype.setTitle=function(t){this.m_title=t},DataGrid.prototype.getTitle=function(){return this.m_title},DataGrid.prototype.setLanguageMapping=function(t){this.m_languageMapping=t},DataGrid.prototype.getLanguageMapping=function(){return this.m_languageMapping},DataGrid.prototype.setDataSet=function(t){this.m_dataset=t},DataGrid.prototype.getDataSet=function(){return this.m_dataset},DataGrid.prototype.getToolTip=function(t){$("#draggableDiv"+this.m_objectid).css("z-index");$("#toolTipDiv").remove()},DataGrid.prototype.getBulletConfig=function(t,e,i){return t.type="bullet",t.targetWidth=3,t.targetColor="#006684",t.performanceColor="#f89406",t.rangeColors=["#e6e6e6","#d4d4d4","#c0c0c0","#b4b4b4"],t.tooltipValueLookups={fields:{r:"Range",p:i,t:"Target"}},t},DataGrid.prototype.getSparklineConfig=function(t,e,i){return t.type="line",t.lineColor="#006684",t.fillColor="rgba(224, 223, 223, 0)",t.lineWidth="1",t.spotColor="#f89406",t.minSpotColor="#f89406",t.maxSpotColor="#f89406",t.spotRadius="2",t},DataGrid.prototype.getSparkColumnConfig=function(t,e,i){return t.type="bar",t.barColor="#86dff9",t.negBarColor="#f89406",t.barSpacing="1",t.zeroColor="#e0dfdf",t},DataGrid.prototype.getSparkPieConfig=function(t,e,i){return t.type="pie",t.offset="-90",t.borderWidth="1",t.borderColor="#ffffff",t},DatagridStyles.prototype.showHorizontalGridLines=function(){return this.m_showhorizontalgridlines},DatagridStyles.prototype.getSelectionColor=function(){return convertColorToHex(this.m_selectioncolor)},DatagridStyles.prototype.getVerticalGridLineColor=function(){return convertColorToHex(this.m_verticalgridlinecolor)},DatagridStyles.prototype.getHorizontalGridLineColor=function(){return convertColorToHex(this.m_horizontalgridlinecolor)},DatagridStyles.prototype.getGridColor=function(){return this.m_gridcolor},DatagridStyles.prototype.getHeaderColors=function(){return this.m_headercolors},DatagridStyles.prototype.getAlternateRowsColor=function(){return this.m_alternaterowscolor},DatagridStyles.prototype.getRollOverColor=function(){return convertColorToHex(this.m_rollovercolor)},DatagridStyles.prototype.getTextHoverColor=function(){return convertColorToHex(this.m_texthovercolor)},Alerts.prototype.setAlertColumns=function(t){this.m_alertColumn.push(t)},Alerts.prototype.getAlertColumns=function(){return this.m_alertColumn},AlertColumn.prototype.init=function(t){this.m_chart=t;for(var e=this.m_name,i=(this.m_defaultcolor=this.m_chart.m_defaultalertcolor,this.m_chart.m_seriesData),o=[],a=0;a<i.length;a++)o.push(i[a][e]);this.m_numberMap={MAX_VALUE:this.getMaximumSeriesValue(o),MIN_VALUE:this.getMinimumSeriesValue(o)},this.splitcolor(),this.splitrange(),this.splitArrowDirection()},AlertColumn.prototype.splitcolor=function(){this.rangeColors=this.m_colors.split(",");for(var t=0;t<this.rangeColors.length;t++)65280==this.rangeColors[t]||"#00ff00"==this.rangeColors[t]?this.m_rangeColorsImages.push("green"):255==this.rangeColors[t]||16711680==this.rangeColors[t]||"#ff0000"==this.rangeColors[t]?this.m_rangeColorsImages.push("red"):16776960==this.rangeColors[t]||"#ffff00"==this.rangeColors[t]?this.m_rangeColorsImages.push("yellow"):this.m_rangeColorsImages.push("gray"),this.rangeColors[t]=convertColorToHex(this.rangeColors[t])},AlertColumn.prototype.splitrange=function(){if(this.alertRanges=[],this.HyphenSeparatedRanges=[],this.tildSeparatedRanges=[],""!=this.m_ranges){this.alertRanges=this.m_ranges.split(",");for(var t=0;t<this.alertRanges.length;t++)this.tildSeparatedRanges[t]=this.alertRanges[t].split("~")}},AlertColumn.prototype.splitArrowDirection=function(){this.m_customiconrange=this.m_customicon.split(",")},AlertColumn.prototype.getRangeColorsImage=function(t){return this.m_rangeColorsImages[t]},AlertColumn.prototype.getRangeColor=function(t){return this.rangeColors[t]},AlertColumn.prototype.getArrowDirection=function(t){return this.m_customiconrange[t]},AlertColumn.prototype.getDynamicRange=function(t){return this.m_showdynamicrange},AlertColumn.prototype.getMinMaxRange=function(t){if(2==this.tildSeparatedRanges[0].length)return this.tildSeparatedRanges[t]},AlertColumn.prototype.drawDynamicAlert=function(t,e,i,o,a,r,s,n){t="tree_grid"==this.m_chart.m_componenttype?this.m_chart.getStringARSC(t):t;var h=IsBoolean(this.m_chart.getAlertObj()[t].getDynamicRange())?this.getCellBackGroundColor(t,e,i,o,a):this.getAlertColor("",i).colorCode;switch(IsBoolean(!this.m_chart.getAlertObj()[t].getDynamicRange())&&(this.m_mincolor=h,this.m_maxcolor=h),this.getAlertType()){case"dot":return this.drawDotDiv(i,h,r,e,s,n,this.m_chart.m_gridcustomtooltip);case"tick":return this.drawTick(i,h,r,e,s,this.m_chart.m_gridcustomtooltip);case"textcolor":return this.drawTextColor(i,h,r,e,s,n,this.m_chart.m_gridcustomtooltip);case"star":return this.drawStar(i,h,r,e,s,n,this.m_chart.m_gridcustomtooltip);case"hexagon":return this.drawHexagon(i,h,r,e,s,n,this.m_chart.m_gridcustomtooltip);case"diamond":return this.drawDiamond(i,h,r,e,s,n,this.m_chart.m_gridcustomtooltip);case"arrow":var l=2;try{var c=getNumericComparableValue(this.m_chart.columnWiseData[this.m_chart.getStringARSC(t)].max),m=getNumericComparableValue(this.m_chart.columnWiseData[this.m_chart.getStringARSC(t)].min);+i<=+m+(+c-+m)/3?l=0:+i<=+m+2*(+c-+m)/3&&(l=1)}catch(t){}return this.drawArrow(i,h,["down","neutral","up"][l],r,e,s,this.m_chart.m_gridcustomtooltip);case"bar":return this.getBarWithValue(t,e,i,o,a,r,s,n,this.m_chart.m_gridcustomtooltip);case"colorfill":return h?"background-color:"+h+";color:#000000;":void 0;default:return i}},AlertColumn.prototype.drawAlerts=function(t,e,i,o,a,r,s,n,h){t=this.getAlertColor(t,e);return this.drawAlertPatern(e,t.colorName,t.colorCode,t.compareMax,t.finalArrowPosition,r,s,n,t.customIcon,h)},AlertColumn.prototype.drawGridAlerts=function(t,e,i){return""!==e&&null!=e?this.getAlertColor(t,e):{colorCode:""}},AlertColumn.prototype.getMaximumSeriesValue=function(t){for(var e=t[0],i=0;i<t.length;i++)""!==t[i]&&+t[i]>=+e&&(e=t[i]);return+e},AlertColumn.prototype.getMinimumSeriesValue=function(t){for(var e=t[0],i=0;i<t.length;i++)""!==t[i]&&+t[i]<=+e&&(e=t[i]);return+e},AlertColumn.prototype.getColorForNumeralComparison=function(t,e){var i="gray",o=this.m_defaultcolor,a=t,r=["down","neutral","up"],s=r[0];return+e<+t?(i=this.getRangeColorsImage(0),o=this.getRangeColor(0),s=r[0]):+e==+t?(i=this.getRangeColorsImage(1),o=this.getRangeColor(1),s=r[1]):+t<+e&&(i=this.getRangeColorsImage(2),o=this.getRangeColor(2),s=r[2]),{colorName:i,colorCode:o,compareMax:a,finalArrowPosition:s}},AlertColumn.prototype.getColorForPercentageAlertRange=function(t,e){for(var i="gray",o=this.m_defaultcolor,a=t,r=["down","neutral","up"],s=r[0],n=100*e/t,h=0;h<this.alertRanges.length;h++){var l=this.getMinMaxRange(h)[0],c=this.getMinMaxRange(h)[1];n<=+c&&+l<=n&&(i=this.getRangeColorsImage(h),o=this.getRangeColor(h),s=r[h],a=c)}return{colorName:i,colorCode:o,compareMax:a,finalArrowPosition:s}},AlertColumn.prototype.getColorForStaticComparison=function(t,e){for(var i="grey",o=this.m_defaultcolor,a=t,r=this.m_defaultcustomicon,s=(this.staticRange=this.m_staticrange.split(","),this.operatorName=this.m_operatorname.split(","),{"<":function(t,e){return t<e},"<=":function(t,e){return t<=e},">":function(t,e){return e<t},">=":function(t,e){return e<=t},"==":function(t,e){return t==e},"!=":function(t,e){return t!=e}}),n=0;n<this.staticRange.length;n++){var h=this.staticRange[n];if(""==h)break;""===t&&null==t||("=="!=this.operatorName[n]&&"!="!=this.operatorName[n]&&(t=+t,h=+h),IsBoolean(s[this.operatorName[n]](t,h))&&(i=this.getRangeColorsImage(n),o=this.getRangeColor(n),a=h,r=this.getArrowDirection(n)))}return{colorName:i,colorCode:o,compareMax:a,finalArrowPosition:"up",customIcon:r}},AlertColumn.prototype.getColorForNumeralAlertRange=function(t,e){for(var i="gray",o=this.m_defaultcolor,a=["down","neutral","up"],r=a[0],s=t,n=0;n<this.alertRanges.length;n++){var h=this.getMinMaxRange(n)[0],l=this.getMinMaxRange(n)[1];isNaN(h)&&("min"==h.toLowerCase()?h=this.m_numberMap.MIN_VALUE:"max"==h.toLowerCase()&&(h=this.m_numberMap.MAX_VALUE)),isNaN(l)&&("max"==l.toLowerCase()?l=this.m_numberMap.MAX_VALUE:"min"==l.toLowerCase()&&(l=this.m_numberMap.MIN_VALUE)),""===e||null===e?(i=this.getRangeColorsImage(n),o=this.m_defaultcolor,r=0!=n&&n!=this.alertRanges.length-1?a[1]:0==n?a[0]:a[2],s=l):""===e&&null==e||(e<=+l&&+h<=e?(i=this.getRangeColorsImage(n),o=this.getRangeColor(n),r=0!=n&&n!=this.alertRanges.length-1?a[1]:0==n?a[0]:a[2],s=l):e<+this.getMinMaxRange(0)[0]?(i=this.getRangeColorsImage(0),o=this.m_defaultcolor,r=a[0],s=l):e>+this.getMinMaxRange(this.alertRanges.length-1)[1]&&(i=this.getRangeColorsImage(this.alertRanges.length-1),o=this.m_defaultcolor,r=a[2],s=l))}return{colorName:i,colorCode:o,compareMax:s,finalArrowPosition:r}},AlertColumn.prototype.getAlertColor=function(t,e){t=IsBoolean(this.m_fixedvaluecompare)?this.m_fixedvalue:getNumericComparableValue(t);return"Static Comparison"==this.m_mode?this.getColorForStaticComparison(t,getNumericComparableValue(e)):"Numeral Comparison"==this.m_mode||"Comparison"==this.m_mode?this.getColorForNumeralComparison(t,getNumericComparableValue(e)):"Numeral Alert Range"==this.m_mode||"Range"==this.m_mode?this.getColorForNumeralAlertRange(t,getNumericComparableValue(e)):"Percentage Alert Range"==this.m_mode?this.getColorForPercentageAlertRange(t,getNumericComparableValue(e)):void 0},AlertColumn.prototype.getBarStrengthColors=function(t,e,i){for(var o=[],a=1<(a=5*(t=getNumericComparableValue(t))/e)?Math.floor(a):1,r=0;r<5;r++)o.push(r<a?i:"#cccccc");return o},AlertColumn.prototype.drawAlertPatern=function(t,e,i,o,a,r,s,n,h,l){switch(this.getAlertType()){case"dot":return this.drawDotDiv(t,i,r,s,n,l,this.m_chart.m_gridcustomtooltip);case"tick":return this.drawTick(t,i,r,s,a,n,l,this.m_chart.m_gridcustomtooltip);case"arrow":return this.drawArrow(t,i,a,r,s,n,l,this.m_chart.m_gridcustomtooltip);case"bar":var c=this.getBarStrengthColors(t,o,i);return this.drawBar(t,c,r,s,n,l,this.m_chart.m_gridcustomtooltip);case"colorfill":if(""!==t&&null!=t)return"background-color:"+i+";color:black;";break;case"textcolor":if(""!==t&&null!=t)return this.drawTextColor(t,i,r,s,n,l,this.m_chart.m_gridcustomtooltip);break;case"image":return this.drawImageDiv(t,r,o,s,n,this.m_chart.m_gridcustomtooltip);case"star":return this.drawStar(t,i,r,s,n,l,this.m_chart.m_gridcustomtooltip);case"hexagon":return this.drawHexagon(t,i,r,s,n,l,this.m_chart.m_gridcustomtooltip);case"diamond":return this.drawDiamond(t,i,r,s,n,l,this.m_chart.m_gridcustomtooltip);case"customshape":return this.drawCustomShape(t,i,a,r,s,n,h,l,this.m_chart.m_gridcustomtooltip);default:return"<div>"+r+"</div>"}},AlertColumn.prototype.drawTextColor=function(t,e,i,o,a,r,s){this.m_alertposition=IsBoolean(this.m_showdata)?this.m_alertposition:"center";var n=void 0!==r?r===i?"'"+(isNaN(i)&&"string"==typeof i?b64EncodeUnicode(i):i)+"'":r:"'"+(isNaN(i)&&"string"==typeof i?b64EncodeUnicode(i):i)+"'",h=(IsBoolean(this.m_showdata),"'"+this.m_chart.m_tooltipbackgroundcolor+"'"),l="'"+this.m_chart.m_tooltipbackgroundtransparency+"'",c="'"+this.m_chart.m_customtooltipwidth+"'";if(""!==t)return'<div style="color:'+e+'"; onmousemove="getToolTip(this,'+a+","+(n=r&&r.isEncoded?"'"+r.value+"'":n)+","+h+","+l+","+c+","+r.isEncoded+","+s+')" onmouseout="hideToolTip()">'+i+"</div>"},AlertColumn.prototype.drawImageDiv=function(t,e,i,o,a,r){this.m_alertposition=IsBoolean(this.m_showdata)?this.m_alertposition:"center";var s="'"+t+"'",e=IsBoolean(this.m_showdata)?e:"";return'<div style="display:table-cell;"><a href="'+t+'" target="_blank"> <img style="width:40px; height:40px; border-radius:50%;" src="'+t+'" onmousemove="getToolTip(this,'+a+","+s+","+("'"+this.m_chart.m_tooltipbackgroundcolor+"'")+","+("'"+this.m_chart.m_tooltipbackgroundtransparency+"'")+","+r+')" onmouseout="hideToolTip()"></a></div><span style="display:table-cell;vertical-align:middle; padding:0px 2px 0px 2px;">'+e+"</span>"},AlertColumn.prototype.drawDotDiv=function(t,e,i,o,a,r,s){n=void 0!==r?r===i?"'"+(isNaN(i)&&"string"==typeof i?b64EncodeUnicode(i):i)+"'":r:"'"+(n=isNaN(i)&&"string"==typeof i?b64EncodeUnicode(i):i)+"'";var n,o=IsBoolean(this.m_showdata)?this.m_chart.m_textAlignArr[o]:"center",i=IsBoolean(this.m_showdata)?i:"",h="'"+this.m_chart.m_tooltipbackgroundcolor+"'",l="'"+this.m_chart.m_tooltipbackgroundtransparency+"'",c="'"+this.m_chart.m_customtooltipwidth+"'";if(""!==t)return'<div class="imageDiv" style="width:100%; text-decoration:inherit; text-align: '+o+';" onmousemove="getToolTip(this,'+a+","+(n=r&&r.isEncoded?"'"+r.value+"'":n)+","+h+","+l+","+c+","+r.isEncoded+","+s+')" onmouseout="hideToolTip()">'+this.getAlertDot(i,e)+"</div>"},AlertColumn.prototype.getAlertDot=function(t,e){t='<div style="display:inline-block;text-decoration:inherit;vertical-align:middle;">'+t+"</div>",0<+this.m_alertsize&&this.m_alertsize,e='<div style="margin-left:5px; margin-right:12px; display:inline-block;vertical-align:middle;">'+this.getRoundDiv(e)+"</div>";return"left"==this.m_alertposition?e+t:t+e},AlertColumn.prototype.getRoundDiv=function(t){var e=0<+this.m_alertsize?+this.m_alertsize:12;return(isIE=!!document.documentMode)?'<div style="width:'+e+"px;height:"+e+"px; border-radius:"+e/2+"px; border:1px double "+t+" ;background:"+t+'"></div>':'<div style="width:'+e+"px;height:"+e+"px; border-radius:"+e/2+"px; border:1px double "+t+" ;background:"+t+'"></div>'},AlertColumn.prototype.drawBar=function(t,e,i,o,a,r,s){var n=void 0!==r?r===i?"'"+(isNaN(i)&&"string"==typeof i?b64EncodeUnicode(i):i)+"'":r:"'"+(isNaN(i)&&"string"==typeof i?b64EncodeUnicode(i):i)+"'",o=IsBoolean(this.m_showdata)?this.m_chart.m_textAlignArr[o]:"center",i=IsBoolean(this.m_showdata)?i:"",h="'"+this.m_chart.m_tooltipbackgroundcolor+"'",l="'"+this.m_chart.m_tooltipbackgroundtransparency+"'",c="'"+this.m_chart.m_customtooltipwidth+"'";if(""!==t)return'<div class="imageDiv" style="width:100%; text-decoration:inherit;text-align: '+o+';" onmousemove="getToolTip(this,'+a+","+(n=r&&r.isEncoded?"'"+r.value+"'":n)+","+h+","+l+","+c+","+r.isEncoded+","+s+')" onmouseout="hideToolTip()">'+this.getAlertBar(i,e)+" </div>"},AlertColumn.prototype.getAlertBar=function(t,e){t='<div style=" display:inline-block;text-decoration:inherit;vertical-align:top;margin-top:3px;">'+t+"</div>",e='<div style="width:25px; height:17px;margin-left:5px;margin-right:9px; display:inline-block;"><div  class="bar" style="height:3px ;width:3px;background-Color:'+e[0]+'; "></div><div class="bar" style="height:6px;width:3px;background-Color:'+e[1]+';"></div><div class="bar" style="height:9px;width:3px;background-Color:'+e[2]+';"></div><div class="bar"  style="height:12px;width:3px;background-Color:'+e[3]+';"></div><div class="bar" style="height:15px;width:3px;background-Color:'+e[4]+';"></div><div class="bar" style="height:17px;width:3px;background-Color:'+e[5]+';"></div></div>';return"left"==this.m_alertposition?e+t:t+e},AlertColumn.prototype.drawTick=function(t,e,i,o,a,r,s,n){var h=void 0!==s?s===i?"'"+(isNaN(i)&&"string"==typeof i?b64EncodeUnicode(i):i)+"'":s:"'"+(isNaN(i)&&"string"==typeof i?b64EncodeUnicode(i):i)+"'",o=IsBoolean(this.m_showdata)?this.m_chart.m_textAlignArr[o]:"center",i=IsBoolean(this.m_showdata)?i:"",l="'"+this.m_chart.m_tooltipbackgroundcolor+"'",c="'"+this.m_chart.m_tooltipbackgroundtransparency+"'",m="'"+this.m_chart.m_customtooltipwidth+"'";if(""!==t)return'<div class="imageDiv" style="width:100%; text-decoration:inherit; text-align: '+o+';" onmousemove="getToolTip(this,'+r+","+(h=s&&s.isEncoded?"'"+s.value+"'":h)+","+l+","+c+","+m+","+s.isEncoded+","+n+')" onmouseout="hideToolTip()">'+this.getTickAlert(i,e,a)+"</div>"},AlertColumn.prototype.getTickAlert=function(t,e,i){var t='<div style=" display:inline-block;text-decoration:inherit;vertical-align:middle;">'+t+"</div>",o=0<+this.m_alertsize?+this.m_alertsize:18,a="";return a="up"==i?'<div style="margin-left:5px;margin-right:12px; display:inline-block;vertical-align:middle;"><span class="bd-ok" style="color:'+e+";font-size:"+o+'px;vertical-align:middle;"></span></div>':"neutral"==i?'<div style="margin-left:5px;margin-right:12px; display:inline-block;vertical-align:middle;"><span class="bd-exclamation-1" style="color:'+e+";font-size:"+o+'px;vertical-align:middle;"></span></div>':"down"==i?'<div style="margin-left:5px;margin-right:12px; display:inline-block;vertical-align:middle;"><span class="bd-cross" style="color:'+e+";font-size:"+o+'px;vertical-align:middle;"></span></div>':"","left"==this.m_alertposition?a+t:t+a},AlertColumn.prototype.drawArrow=function(t,e,i,o,a,r,s,n){var a=IsBoolean(this.m_showdata)?this.m_chart.m_textAlignArr[a]:"center",h=void 0!==s?s===o?"'"+(isNaN(o)&&"string"==typeof o?b64EncodeUnicode(o):o)+"'":s:"'"+(isNaN(o)&&"string"==typeof o?b64EncodeUnicode(o):o)+"'",o=IsBoolean(this.m_showdata)?o:"",l="'"+this.m_chart.m_tooltipbackgroundcolor+"'",c="'"+this.m_chart.m_tooltipbackgroundtransparency+"'",m="'"+this.m_chart.m_customtooltipwidth+"'";if(""!==t)return'<div class="imageDiv" style="width:100%; text-decoration:inherit; text-align: '+a+';" onmousemove="getToolTip(this,'+r+","+(h=s&&s.isEncoded?"'"+s.value+"'":h)+","+l+","+c+","+m+","+s.isEncoded+","+n+')" onmouseout="hideToolTip()" >'+this.getArrowAlert(o,e,i)+"</div>"},AlertColumn.prototype.getArrowAlert=function(t,e,i){var t='<div style=" display:inline-block;text-decoration:inherit;vertical-align:middle;">'+t+"</div>",o=0<+this.m_alertsize?+this.m_alertsize:18,o='<div style="width:25px; height:20px; margin-left:5px;margin-right:5px; display:inline-block;vertical-align:middle;"><div style="width:'+o+"px; height:"+o+'px; position:absolute; float :right;">';return o+="neutral"==i?'<div class="arrow-neutral-alert"  style="background-color:'+e+';vertical-align:middle;"></div></div></div>':"up"==i?'<div class="arrow-up-alert" style="border-bottom:10px solid '+e+';vertical-align:middle;" ></div><div class="arrow-line-alert" style="background-color:'+e+';"></div></div></div>':'<div class="arrow-lineDown-alert" style="background-color:'+e+';vertical-align:middle;"></div><div class="arrow-down-alert"  style="border-top:10px solid '+e+';"></div></div></div>',"left"==this.m_alertposition?o+t:t+o},AlertColumn.prototype.drawCustomShape=function(t,e,i,o,a,r,s,n,h){var a=IsBoolean(this.m_showdata)?this.m_chart.m_textAlignArr[a]:"center",l=void 0!==n?n===o?"'"+(isNaN(o)&&"string"==typeof o?b64EncodeUnicode(o):o)+"'":n:"'"+(isNaN(o)&&"string"==typeof o?b64EncodeUnicode(o):o)+"'",o=IsBoolean(this.m_showdata)?o:"",c="'"+this.m_chart.m_tooltipbackgroundcolor+"'",m="'"+this.m_chart.m_tooltipbackgroundtransparency+"'",d="'"+this.m_chart.m_customtooltipwidth+"'";if(""!==t)return'<div class="imageDiv" style="width:100%; text-decoration:inherit; text-align: '+a+';" onmousemove="getToolTip(this,'+r+","+(l=n&&n.isEncoded?"'"+n.value+"'":l)+","+c+","+m+","+d+","+n.isEncoded+","+h+')" onmouseout="hideToolTip()" >'+this.getCustomAlert(o,e,i,s)+"</div>"},AlertColumn.prototype.getCustomAlert=function(t,e,i,o){t='<div style=" display:inline-block;text-decoration:inherit;vertical-align:top;margin-top:3px;">'+t+"</div>",o='<div style="margin-left:5px;margin-right:12px; display:inline-block; vertical-align:middle;"><span class="'+o+'" style="color:'+e+";font-size:"+(0<+this.m_alertsize?+this.m_alertsize:18)+'px;"></span></div>';return"left"==this.m_alertposition?o+t:t+o},AlertColumn.prototype.drawStar=function(t,e,i,o,a,r,s){var n=void 0!==r?r===i?"'"+(isNaN(i)&&"string"==typeof i?b64EncodeUnicode(i):i)+"'":r:"'"+(isNaN(i)&&"string"==typeof i?b64EncodeUnicode(i):i)+"'",o=IsBoolean(this.m_showdata)?this.m_chart.m_textAlignArr[o]:"center",i=IsBoolean(this.m_showdata)?i:"",h="'"+this.m_chart.m_tooltipbackgroundcolor+"'",l="'"+this.m_chart.m_tooltipbackgroundtransparency+"'",c="'"+this.m_chart.m_customtooltipwidth+"'";if(""!==t)return'<div class="imageDiv" style="width:100%; text-decoration:inherit; text-align: '+o+';" onmousemove="getToolTip(this,'+a+","+(n=r&&r.isEncoded?"'"+r.value+"'":n)+","+h+","+l+","+c+","+r.isEncoded+","+s+')" onmouseout="hideToolTip()">'+this.getStar(i,e)+"</div>"},AlertColumn.prototype.getStar=function(t,e){t='<div style="display:inline-block;text-decoration:inherit;vertical-align:middle;">'+t+"</div>",e='<div style="margin-left:5px;margin-right:12px; display:inline-block;vertical-align: middle;"><span class="bd-star" style="color:'+e+";font-size:"+(0<+this.m_alertsize?+this.m_alertsize:18)+'px;vertical-align:middle;"></span></div>';return"left"==this.m_alertposition?e+t:t+e},AlertColumn.prototype.drawHexagon=function(t,e,i,o,a,r,s){var n=void 0!==r?r===i?"'"+(isNaN(i)&&"string"==typeof i?b64EncodeUnicode(i):i)+"'":r:"'"+(isNaN(i)&&"string"==typeof i?b64EncodeUnicode(i):i)+"'",o=IsBoolean(this.m_showdata)?this.m_chart.m_textAlignArr[o]:"center",i=IsBoolean(this.m_showdata)?i:"",h="'"+this.m_chart.m_tooltipbackgroundcolor+"'",l="'"+this.m_chart.m_tooltipbackgroundtransparency+"'",c="'"+this.m_chart.m_customtooltipwidth+"'";if(""!==t)return'<div class="imageDiv" style="width:100%; text-decoration:inherit; text-align: '+o+';" onmousemove="getToolTip(this,'+a+","+(n=r&&r.isEncoded?"'"+r.value+"'":n)+","+h+","+l+","+c+","+r.isEncoded+","+s+')" onmouseout="hideToolTip()">'+this.getHexagon(i,e)+"</div>"},AlertColumn.prototype.getHexagon=function(t,e){t='<div style="display:inline-block;text-decoration:inherit;vertical-align:middle;">'+t+"</div>",e='<div style="margin-left:5px;margin-right:12px; display:inline-block;vertical-align:middle;"><span class="bd-hexagon" style="color:'+e+";font-size:"+(0<+this.m_alertsize?+this.m_alertsize:18)+'px;vertical-align:middle;"></span></div>';return"left"==this.m_alertposition?e+t:t+e},AlertColumn.prototype.drawDiamond=function(t,e,i,o,a,r,s){var n=void 0!==r?r===i?"'"+(isNaN(i)&&"string"==typeof i?b64EncodeUnicode(i):i)+"'":r:"'"+(isNaN(i)&&"string"==typeof i?b64EncodeUnicode(i):i)+"'",o=IsBoolean(this.m_showdata)?this.m_chart.m_textAlignArr[o]:"center",i=IsBoolean(this.m_showdata)?i:"",h="'"+this.m_chart.m_tooltipbackgroundcolor+"'",l="'"+this.m_chart.m_tooltipbackgroundtransparency+"'",c="'"+this.m_chart.m_customtooltipwidth+"'";if(""!==t)return'<div class="imageDiv" style="width:100%; text-decoration:inherit; text-align: '+o+';" onmousemove="getToolTip(this,'+a+","+(n=r&&r.isEncoded?"'"+r.value+"'":n)+","+h+","+l+","+c+","+r.isEncoded+","+s+')" onmouseout="hideToolTip()">'+this.getDiamond(i,e)+"</div>"},AlertColumn.prototype.getDiamond=function(t,e){t='<div style="display:inline-block;text-decoration:inherit;vertical-align:top;">'+t+"</div>",e='<div style="margin-left:5px;margin-right:12px; display:inline-block;vertical-align:middle;"><span class="bd-diamond" style="color:'+e+";font-size:"+(0<+this.m_alertsize?+this.m_alertsize:18)+'px;"></span></div>';return"left"==this.m_alertposition?e+t:t+e},AlertColumn.prototype.getBarStrengthColorArray=function(t,e){for(var i=100*e/t,o=[],a=0;a<this.alertRanges.length;a++){var r=this.getMinMaxRange(a)[0],s=this.getMinMaxRange(a)[1];if(i<=parseInt(s)&&i>=parseInt(r))for(var n=a,h=this.getRangeColor(a);0<=n;)o.push(h),o.push(h),n--}for(var l=o.length;l<6;l++)o.push("#BAB9B9");return o},AlertColumn.prototype.getGradient=function(t){var e=""+hex2rgb(t,.7),i=ctx.createRadialGradient(0,0,5,0,0,10);return i.addColorStop(0,t),i.addColorStop(.6,e),i.addColorStop(1,t),i},AlertColumn.prototype.getname=function(){return this.m_name},AlertColumn.prototype.getAlertType=function(){return this.m_alerttype},AlertColumn.prototype.pickTheColor=function(t){var e=document.getElementById("intermediateCanvas"+this.m_chart.m_objectid),i=e.getContext("2d"),o=i.createLinearGradient(0,0,this.m_chart.m_width,0),o=(o.addColorStop(0,this.m_mincolor),o.addColorStop(1,this.m_maxcolor),i.fillStyle=o,i.fillRect(0,0,this.m_chart.m_width,this.m_chart.m_height),t=t>=e.width?e.width-1:t,i.getImageData(t,this.m_chart.m_height/2,1,1));return"rgba("+[o.data[0],o.data[1],o.data[2],o.data[3]]+")"},AlertColumn.prototype.getCellBackGroundColor=function(t,e,i,o,a){var r;return i=getNumericComparableValue(i),IsBoolean(this.m_chart.valueValidation(i))?(t="DynamicDatagrid"!=this.m_chart.m_datagridtype?this.m_chart.getStringARSC(t):this.m_chart.getStringARSC(a),a=getNumericComparableValue(this.m_chart.columnWiseData[t].max),r=(+i-+(t=getNumericComparableValue(this.m_chart.columnWiseData[t].min)))/(+a-+t)*this.m_chart.m_width*this.m_chart.getDevicePixelRatio(),+i<=+t?r=.01:+a<=+i&&(r=this.m_chart.m_width*this.m_chart.getDevicePixelRatio()-1),this.pickTheColor(r)):this.m_defaultcolor},AlertColumn.prototype.getBarWithValue=function(t,e,i,o,a,r,s,n,h){var l,c,m,d,p,_,u,g,f;return i=getNumericComparableValue(i),IsBoolean(this.m_chart.valueValidation(i))?(g=void 0!==n?n==r?"'"+(isNaN(r)&&"string"==typeof r?b64EncodeUnicode(r):r)+"'":n:"'"+(isNaN(r)&&"string"==typeof r?b64EncodeUnicode(r):r)+"'",t="DynamicDatagrid"!=this.m_chart.m_datagridtype?this.m_chart.getStringARSC(t):this.m_chart.getStringARSC(a),a=getNumericComparableValue(this.m_chart.columnWiseData[t].max),l=(+i-+(t=getNumericComparableValue(this.m_chart.columnWiseData[t].min)))/(+a-+t)*this.m_chart.m_width*this.m_chart.getDevicePixelRatio(),l=+a<=+i?this.m_chart.m_width*this.m_chart.getDevicePixelRatio()-this.m_chart.m_adjustpixel:l,l=+i<=+t?.01:l,a=1<(t=this.calculatePercentage(i,t,a))?t+"%":"1px",t=this.pickTheColor(l),c="right"==(l=this.m_alertposition)?"left":"right",m=15*this.m_chart.m_rowheight/100,d=7*this.m_chart.m_rowheight/10,p=IsBoolean(this.m_showdata)?70:100,_="'"+this.m_chart.m_tooltipbackgroundcolor+"'",u="'"+this.m_chart.m_tooltipbackgroundtransparency+"'",f="'"+this.m_chart.m_customtooltipwidth+"'",g='<div onmouseout="hideToolTip()" onmousemove="getToolTip(this,'+s+","+(g=n&&n.isEncoded?"'"+n.value+"'":g)+","+_+","+u+","+f+","+n.isEncoded+","+h+')" style="width:'+p+"%;height:"+this.m_chart.m_rowheight+"px;display:inline-block;float:"+l+';"><div style="margin-top:'+m+"px;float:"+l+";height:"+d+"px;background-color:"+t+";width:"+a+';"></div></div>',IsBoolean(this.m_showdata)?g+'<div style="display:table;float:'+c+";height:"+this.m_chart.m_rowheight+'px;"><div style="display:table-cell;vertical-align:middle;">'+r+"</div></div>":g):null!=i?(f="'"+i+"'",n=IsBoolean(this.m_showdata)?i:"",'<div style="width:100%;height:'+this.m_chart.m_rowheight+'px;" onmouseout="hideToolTip()" onmousemove="getToolTip(this,'+s+","+f+","+_+","+u+", undefined, undefined, "+h+')">'+n+"</div>"):void 0},AlertColumn.prototype.calculatePercentage=function(t,e,i){return 0<=+e&&0<+i?100*t/i*1:+e<0&&0<+i?100*(+t-+e)/(+i-+e):+e<0&&+i<0?100*-t/(-e-i):void 0},Filter.prototype=new Widget,Filter.prototype.getFilterChipsComponentObj=function(){if(""!==this.m_associatedfilterchipsid&&IsBoolean(!this.m_designMode)&&this.m_dashboard)for(var t=0;t<this.m_dashboard.m_widgetsArray.length;t++)if(this.m_associatedfilterchipsid==this.m_dashboard.m_widgetsArray[t].m_objectid)return this.m_dashboard.m_widgetsArray[t]},Filter.prototype.initializeDraggableDivAndCanvas=function(){this.setDashboardNameAndObjectId(),this.createDraggableDiv(this.m_chartContainer,this.m_zIndex)},Filter.prototype.getType=function(){return this.m_objecttype},Filter.prototype.getGlobalKey=function(){return this.m_globalkey},Filter.prototype.getFieldName=function(){return this.m_fieldname},Filter.prototype.setDataSet=function(t){this.m_dataSetObject=t},Filter.prototype.getDataSet=function(){return this.m_dataSetObject},Filter.prototype.getValues=function(){return this.m_values},Filter.prototype.getTitle=function(){return this.m_title},Filter.prototype.setData=function(){this.setSeriesData(this.getFieldsByValues()),this.setCategoryData(this.getFieldsByLabels())},Filter.prototype.getFieldsByLabels=function(){for(var t=[],e=0;e<this.getValues().length;e++){var i=this.formattedDescription(this,this.getValues()[e].getLabel());t.push(i)}return t},Filter.prototype.getFieldsByValues=function(){for(var t=[],e=0;e<this.getValues().length;e++)t.push(this.getValues()[e].getValue());return t},Filter.prototype.getFieldsByNames=function(){for(var t=[],e=0;e<this.getDataSet().getFields().length;e++)"parent"==this.getDataSet().getFields()[e].gethierarchyType()&&t.push(this.getDataSet().getFields()[e].getName());for(e=0;e<this.getDataSet().getFields().length;e++)"child"==this.getDataSet().getFields()[e].gethierarchyType()&&t.push(this.getDataSet().getFields()[e].getName());return t},Filter.prototype.getCategoryNames=function(){this.cat=[];for(var t=0;t<this.getDataSet().getFields().length;t++)""==this.getDataSet().getFields()[t].getName()?this.cat[t]=this.getDataSet().getFields()[t].getvalue():this.cat[t]=this.getDataSet().getFields()[t].getName();return this.cat},Filter.prototype.getSeriesNames=function(){this.ser=[];for(var t=0;t<this.getDataSet().getFields().length;t++)""==this.getDataSet().getFields()[t].getDisplayName()?this.ser[t]=this.getDataSet().getFields()[t].getdisplayField():this.ser[t]=this.getDataSet().getFields()[t].getDisplayName();return this.ser},Filter.prototype.getXMLData=function(){var t=this.getDataSet().getDataSource();return this.m_dashboard.getXMLData(t)},Filter.prototype.getToolTipData=function(t,e){return""},Filter.prototype.getCategoryData=function(){return this.m_categoryData},Filter.prototype.setCategoryData=function(t){this.m_categoryData=t},Filter.prototype.getSeriesData=function(){return this.m_seriesData},Filter.prototype.setSeriesData=function(t){this.m_seriesData=t},Filter.prototype.getFieldNameValues=function(){return this.m_fieldNameValues},Filter.prototype.fontScaling=function(t){return t*this.minWHRatio()},Filter.prototype.removeMessage=function(){$("#StatusMsg"+this.m_objectid).remove()},Filter.prototype.draw=function(){this.drawObject(),""!=this.m_onafterrendercallback&&onAfterRender(this.m_onafterrendercallback)},Filter.prototype.drawMessage=function(t){var e=this,i=(e.removeMessage(),"list_filter"==e.m_componenttype&&$("#listBoxdiv"+e.m_objectid).remove(),"combo_filter"==this.m_componenttype&&$("#simpleCombo"+e.m_objectid).remove(),document.createElement("div"));i.id="StatusMsg"+e.m_objectid,i.style.position="absolute",i.style.fontSize=this.fontScaling(this.m_statusfontsize)+"px",i.style.fontFamily=selectGlobalFont(this.m_statusfontfamily),i.style.color=this.m_statuscolor,i.style.width="100%",i.style.height="100%",i.style.lineHeight=this.m_height+"px",i.style.textAlign="center",i.style.verticalAlign="middle",i.innerHTML=t,$("#draggableDiv"+e.m_objectid).css("background",convertColorToHex(this.m_backgroundcolor)),$("#draggableDiv"+e.m_objectid).append(i)},Filter.prototype.titleContainerDiv=function(){$("#titleContainer"+this.m_objectid).remove();"list"==this.m_type&&void 0!==this.m_listbordercolor&&this.m_listbordercolor;var t=document.createElement("div"),e=(t.setAttribute("id","titleContainer"+this.m_objectid),IsBoolean(this.m_title.m_showgradient)&&(t.style.background=this.m_title.m_gradientcolor.split(",")[0]),1==this.m_enhanceCheckbox?"12px 16px":"0px 5px"),i=1==this.m_enhanceCheckbox&&"dropdown"==this.m_type?"4px 4px 0px 0px":"0px",e=("list"==this.m_type?$(t).css({overflow:"hidden",width:"100%",height:this.fontScaling(this.m_title.m_titlebarheight)+"px","font-style":this.m_title.m_fontstyle,"font-weight":this.m_title.m_fontweight,"font-family":selectGlobalFont(this.m_title.m_fontfamily),"font-size":this.fontScaling(this.m_title.m_fontsize)+"px",color:this.m_title.m_fontcolor,"text-align":this.m_title.m_align,"text-decoration":this.m_title.m_textdecoration,padding:e,"border-color":"#c2c2c2","border-style":"solid","border-width":"0px 0px 1px 0px","border-radius":i}):$(t).css({overflow:"hidden",width:"100%",height:this.fontScaling(this.m_title.m_titlebarheight)+"px","font-style":this.m_title.m_fontstyle,"font-weight":this.m_title.m_fontweight,"font-family":selectGlobalFont(this.m_title.m_fontfamily),"font-size":this.fontScaling(this.m_title.m_fontsize)+"px",color:this.m_title.m_fontcolor,"text-align":this.m_title.m_align,"text-decoration":this.m_title.m_textdecoration,padding:e,"border-color":"#c2c2c2","border-style":"solid","border-width":"1px 1px 0px 1px","border-radius":i}),document.createElement("span"));return e.setAttribute("id","titleContainerSpan"+this.m_objectid),IsBoolean(this.m_title.m_showtitle)?e.innerHTML=this.formattedDescription(this,this.m_title.getDescription()):e.innerHTML="","list"!=this.m_type&&"dropdown"!=this.m_type||"left"!==this.m_title.m_align||1!=this.m_enhanceCheckbox?$(e).css({"vertical-align":"middle",position:"relative",display:"table-cell",height:this.fontScaling(this.m_title.m_titlebarheight)+"px","font-size":this.fontScaling(this.m_title.m_fontsize)+"px","text-align":this.m_title.m_align,"text-decoration":this.m_title.m_textdecoration,width:this.m_width+"px"}):$(e).css({position:"relative",display:"table-cell",height:this.fontScaling(this.m_title.m_titlebarheight)+"px","font-size":this.fontScaling(this.m_title.m_fontsize)+"px","text-align":this.m_title.m_align,"text-decoration":this.m_title.m_textdecoration,width:this.m_width+"px"}),t.appendChild(e),t},Filter.prototype.createSearchBox=function(){var t,e=this,i=document.createElement("div"),o=(i.setAttribute("id","SearchParentText"+e.m_componentid),document.createElement("input")),a=(o.setAttribute("id","SearchTextBox"+e.m_componentid),o.setAttribute("placeholder",e.m_searchboxuiobj.placeholder),document.createElement("span"));return a.setAttribute("id","SearchTextCross"+e.m_componentid),a.innerHTML="x",t=IsBoolean(this.m_title.m_showtitle)||IsBoolean(this.m_title.m_showgradient)?this.m_titlebarheight:"0",$(a).css({position:"absolute",right:"10px",top:t,"line-height":"35px"}),$(o).css({cursor:"text",color:convertColorToHex(e.m_fontcolor),"font-size":e.m_fontsize*e.minWHRatio()+"px","font-family":selectGlobalFont(e.m_fontfamily),"font-weight":e.m_fontweight,"font-style":e.m_fontstyle,position:"relative",float:"left",width:"calc(100% - "+2*e.m_searchboxuiobj.margin+"px)",height:+e.m_menupanelrowheight+"px",border:e.m_searchboxuiobj.border+"px","border-style":e.m_searchboxuiobj.borderStyle,display:"block","border-color":e.m_searchboxuiobj.borderColor,"background-color":e.m_searchboxuiobj.backgroundColor,margin:e.m_searchboxuiobj.margin+"px",padding:e.m_searchboxuiobj.padding+"px","padding-right":"15px"}),"list"==e.m_type&&IsBoolean(e.m_enableborder)&&(o.style.boxShadow=e.m_listelementproperty.boxShadow,o.style.borderRadius=e.m_listelementproperty.borderRadius+"px",o.style.borderColor=e.m_listbordercolor),"hierarchical_combo"==e.m_componenttype&&"advance"==e.m_advancetheme&&$(a).css({left:"calc(100% - "+e.m_fontsize*e.minWHRatio()*4+"px)"}),i.append(o),i.append(a),i},FilterTitle.prototype.getDescription=function(){return this.m_description},FilterTitle.prototype.showLoaderIcon=function(){},FilterTitle.prototype.hideLoaderIcon=function(){},FilterTitle.prototype.setLoaderContent=function(t,e){},Values.prototype.getValue=function(){return this.m_value},Values.prototype.setValue=function(t){this.m_value=t},Values.prototype.getLabel=function(){return this.m_label},Values.prototype.setLabel=function(t){this.m_label=t},Values.prototype.getUncheckedValue=function(){return this.m_uncheckedvalue},Values.prototype.setUncheckedValue=function(t){this.m_uncheckedvalue=t};
//# sourceMappingURL=chartingBase.min.js.map